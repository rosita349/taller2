/*! For license information please see app-root-components-asset-detail-istock-index-12f73c96fb8e17a376ea.js.LICENSE.txt */
"use strict";(self.webpackChunkasset_detail=self.webpackChunkasset_detail||[]).push([[2872],{37091:function(e,t,n){n.r(t),n.d(t,{MOSAIC_GRID_TYPES:function(){return W},default:function(){return H}});var i=n(9345),r=n.n(i),a=n(97632),o=(n(54824),n(95030)),s=n(8005),c=n(32485),l=n.n(c),d="PuyvOPr2BzkrGPUNVWpH",u="j9jfWz7OteO3Iz2f3OZZ",_="Dllyt68qL_MrzLazUZs_",p="BmKOR4U2E1Lxf96KZL85",f="UAd5bLpE040Jp85G38YJ",h="nMFQhlgnc9XtAKKnrHaG",m="QLe6nCAqbhRDXWSoI7pF",g=n(37081),v=["styles"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w.apply(null,arguments)}var E=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,v);return r().createElement("svg",w({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{fill:"none",fillRule:"evenodd"},r().createElement("path",{d:"M-1-1h24v9H-1z"}),r().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})))},C=["styles"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(null,arguments)}var b=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,C);return r().createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},i),r().createElement("path",{className:n.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"}))},I=n(16006),T="yDt6YLsSS0dqFByfmdsN",N="gcO2GOLxYZJdo_FnFYWn",S="vnIe56HnfVYeyOJLhXbI",x=n(74848),A=function(e){var t=e.src,n=e.poster,r=e.filmDefinition,a=e.alt,o=(0,i.useRef)(),s=(0,I.A)(o),c=s[0],l=s[1];return(0,x.jsxs)("div",{ref:o,className:T,"data-testid":"mosaic-grid-video-asset",children:[(0,x.jsx)("img",{src:n,alt:a,loading:"lazy"}),c&&(0,x.jsx)("video",{loop:!0,muted:!0,preload:"none",ref:l,src:t,poster:n,onFocus:function(e){return e.target.play()},onBlur:function(e){return e.target.pause()}}),"4K"===r?(0,x.jsx)(E,{"aria-label":"video4k",className:S}):(0,x.jsx)(b,{"aria-label":"video",className:N})]})};A.defaultProps={src:null,poster:null,filmDefinition:null};var O=A,D="DcdVECpRwHut2mLnDHb1",P="_W9K4IqmnuZRk_cy8Dk6",j="VHpZ_9ZZblGvyOXGYE5u",k="jYJfr2gjqgdehJgS1kYb",R=function(e){var t,n,i,r,a=e.asset,o=e.href,s=e.trackOnClick,c=e.overlay,l=void 0===c?null:c,d=e.showTitle,u=(t=a.maxWidth?a.maxWidth:0,n=a.maxHeight?a.maxHeight:0,i="film"===a.assetType?640:612,r=Math.min(i/t,i/n),{width:Math.floor(t*r),height:Math.floor(n*r)}),_="image"===a.assetType?D:P,p=(0,g.A)();return(0,x.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:_,href:o,onClick:function(){return s(p)},style:{"--width":u.width,"--height":u.height},"data-max-width":u.width,"data-max-height":u.height,children:[(0,x.jsxs)("div",{className:j,children:[l,"image"===a.assetType&&(0,x.jsx)("img",{src:a.thumb612Url,alt:a.title}),"film"===a.assetType&&(0,x.jsx)(O,{src:a.filmThumbUrl,poster:a.thumbUrl,filmDefinition:a.filmDefinition,alt:a.title})]}),d&&(0,x.jsx)("div",{className:k,children:a.shortTitle})]},a.assetId)};R.defaultProps={overlay:null,showTitle:!1};var L=(0,o.A)(R,"thumbnail"),F="dy14Avp0hRBvPyqjQ53W",U="tq5KW65mECljmFid6S_q",M="Rx7VzIfm0IMuXBG4x7eh",B="ftxX7VHWypGMQRZnu6t5",G=function(e){var t=e.count,n=e.text;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:F,"data-testid":"mosaic-grid-overlay"}),(0,x.jsxs)("div",{className:U,children:[(0,x.jsxs)("div",{className:M,children:["+",t]}),(0,x.jsx)("div",{className:B,children:n})]})]})},W={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"},z=function(e){var t,n=e.data,i=e.isImage,r=e.containerStyles,o=e.header,c=e.linkText,g=e.viewAllUrl,v=e.overlayText,w=e.tracking,E=e.inGridCount,C=e.gridType,y=void 0===C?W.MULTI_ROW:C,b=e.searchScope,I=e.showAssetTitles,T=e.isH2Header,N=function(){return(0,x.jsx)("div",{className:r.placeholderHeight,"data-testid":"mosaic-grid-placeholder"})},S=(0,a.F)();if(!n)return(0,x.jsx)(N,{});if(0===n.assets.length)return null;var A=n.totalNumberOfResults-E+1,O=T?"h2":"div",D=function(e){return b?S.prefixedPath(function(e){return s.A.appendQueryParamsToString(e,{searchscope:b})}(e)):S.prefixedPath(e)};return(0,x.jsxs)("section",{className:l()(d,(t={},t[u]=i,t[p]=!i,t)),"data-testid":"mosaic-grid-assets",children:[(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)(O,{"data-testid":"mosaic-grid-header",className:f,children:o}),y===W.SINGLE_ROW?null:(0,x.jsxs)("a",{href:g,onClick:w.trackViewAll,children:[c,">"]})]}),(0,x.jsx)("div",{className:y===W.SINGLE_ROW?m:h,children:n.assets.map((function(e,t){var i=function(e){var t=n.assets.length-1,i=n.totalNumberOfResults>E;return e===t&&i}(t);return(0,x.jsx)(L,{asset:e,href:i?g:D(e.landingUrl),trackOnClick:function(n){return i?w.trackViewAllOverlay():w.trackAssetClick(e,t+1,n)},overlay:i?(0,x.jsx)(G,{count:A,text:v}):null,showTitle:I},e.id)}))})]})};z.defaultProps={data:null,isImage:!1,gridType:W.MULTI_ROW,searchScope:null,showAssetTitles:!1,isH2Header:!1};var H=(0,o.A)(z,"mosaic_grid")},87778:function(e,t,n){n.r(t),n.d(t,{default:function(){return of}});var i=n(9345),r=n.n(i),a=n(96011),o=n(89747),c=n(2896),l=n(91829),d=n(1265),u=n(26256),_=n(43422),p=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});var f,h=function(e){if(e.subscription)switch(e.subscription.status){case p.paused:return p.paused;case p.suspended:return p.suspended;case p.expired:return p.expired}},m=function(e){if(e.subscription){switch(e.subscription.status){case p.paused:case p.suspended:case p.expired:return!0}return!1}},g=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",REDOWNLOAD_FOR_FREE:"REDOWNLOAD_FOR_FREE",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",COMPLETE_REDOWNLOAD:"COMPLETE_REDOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"}),v=((f={})[g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES]=function(){return"insufficient_credits"},f[g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION]=function(){return"insufficient_credits"},f[g.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION]=function(){return"asset_unavailable_with_plan"},f[g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS]=function(){return"asset_unavailable_with_plan"},f[g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING]=function(){return"insufficient_subscription_downloads"},f[g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION]=function(e){switch(h(e)){case p.expired:return"expired_subscription";case p.suspended:return"suspended_subscription";case p.paused:return"paused_subscription";default:return"blocked_subscription"}},f),w=Object.keys(v),E={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SET_MINI_PNP_OPEN:"SET_MINI_PNP_OPEN",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID",SHOW_POST_DOWNLOAD_ONBOARDING:"SHOW_POST_DOWNLOAD_ONBOARDING",HIDE_POST_DOWNLOAD_ONBOARDING:"HIDE_POST_DOWNLOAD_ONBOARDING"},C=function(e){return function(t){return function(n){var i=e.getState(),r=t(n),a=e.getState();if(n.type===E.GO_TO_NEXT_STEP){var o,s,c=(null==(o=a.calc)?void 0:o.step)||{},l=c.warningBox,d=c.name;if(l&&d!==(null==(s=i.calc)||null==(s=s.step)?void 0:s.name)&&w.includes(d)){var p,f=function(e){return v[e.calc.step.name](e)}(a),h=(0,u.A)({error_message_selection:"download_error",error_message_name:f,ui_element_location:"buy_card"}),m={name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:f.replace(/^.|_./g,(function(e){return e.toUpperCase()})),sku:null==(p=a.asset)||null==(p=p.standardLicense)?void 0:p.minimum_sku,ui_element_location:"adp_buy_card_download_error"}};(0,_.u)(m,h)}}return r}}},y=[d.A,C];"undefined"!=typeof window&&window.reduxLogger&&y.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer:function(e){return e.toJS?e.toJS():e}}));var b="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.Zz,I=function(e,t){return void 0===t&&(t={}),(0,l.y$)(e,t,b(l.Tw.apply(void 0,y)))},T=n(86681),N=n.n(T),S={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"},x=null,A=!1,O=function(e,t,n){if("film"===t)return e;var i=[].concat(e);return"illustration"!==n||A||i.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),i},D={formatAsset:function(e){return"film"!==e.assetType&&function(e){if(x=e.findIndex((function(e){return"eps"===e.name})),A=x>=0){var t=e[x];t.teeShirtSize=t.name,t.isEps=!0}}(e.imageSizes),{actualMaxDimensions:e.actualMaxDimensions,agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,artist:e.artist,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetType:e.assetType,category:e.category,clipLength:e.clipLength,contributor:e.contributor,dateSubmittedVideo:e.dateSubmittedVideo,dateSubmittedVideoFormatted:e.dateSubmittedVideoFormatted,dateSubmitted:e.dateSubmitted,dateSubmittedFormatted:e.dateSubmittedFormatted,defaultMainImageURL:e.defaultMainImageURL,defaultMainWebPURL:e.defaultMainWebPURL,epsFileSizeIndex:x,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmDefinition:e.filmDefinition,filmCompUrl:e.filmCompUrl,downloadableFilmCompUrl:e.downloadableFilmCompUrl,filmPreviewDimensions:e.filmPreviewDimensions,freeFile:e.isFreeFile,galleryComp1024Url:e.galleryComp1024Url,galleryHighResCompUrl:e.galleryHighResCompUrl,hasEpsFileSize:A,includedWithSubscription:(null!=e.agreements?e.agreements.indexOf("RF"):void 0)>=0,is360Image:e.is360Image,isEditorialUseOnly:e.isEditorialUseOnly,isEssentialImage:e.isEssentialImage,isFilm:e.isFilm,isHidden:e.isHidden,isIllustration:e.isIllustration,isImage:e.isImage,isIstockExclusive:e.isIstockExclusive,isVector:e.isVector,istockCollection:e.istockCollection,keywords:e.keywords,largeMainImageURL:e.largeMainImageURL,largeMainWebPURL:e.largeMainWebPURL,licenseType:e.licenseType,localizedCaption:e.localizedCaption,location:e.location,mainImageUrl:e.mainImageUrl,mainWebPUrl:e.mainWebPUrl,mediaType:e.mediaType,orderId:e.orderId,orientation:e.orientation,ratio:e.ratio,showCreditExpiryDisclaimer:e.showCreditExpiryDisclaimer,sizes:O(e.imageSizes,e.assetType,e.mediaType),stackId:e.stackId,standardLicense:e.standardLicense,thumb612Url:e.thumb612Url,thumbUrl:e.thumbUrl,title:e.title,zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl}},getSizeMap:function(){return S},getPreferredSize:function(e){return e.istock_user_preferred_download_size},getVideoPreferredSize:function(e){return{name:e.istock_user_preferred_video_download_size_name,definition:e.istock_user_preferred_video_download_size_definition}},getEpsPreferredSize:function(e){return e.istock_user_preferred_eps_download_size},setPreferredSize:function(e){var t,n="istock_user_preferred_download_size";"eps"===e&&(n="istock_user_preferred_eps_download_size"),N().post("/detail/preferences",{asset_detail_preferences:(t={},t[n]=e,t)})},setPreferredVideoSize:function(e,t){N().post("/detail/preferences",{asset_detail_preferences:{istock_user_preferred_video_download_size_name:e,istock_user_preferred_video_download_size_definition:t}})}},P=D,j="signature",k="essentials",R=function(e){if(e)return e.match(/premium|signature/i)},L={SIGNATURE:j,ESSENTIALS:k,isSignature:R,isEssentials:function(e){return!!(e?e.match(/essentials/i):void 0)},getAssetCollectionName:function(e){return R(e.istockCollection)?j:k}},F=L,U={subsInfo:{}},M=function(e){void 0===e&&(e={});var t=e.name||"";return U.subsInfo={isSignature:F.isSignature(t),isEssentials:F.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},U.subsInfo.downloadsRemaining=U.subsInfo.downloadLimit-U.subsInfo.downloadedCount},B=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated},G={formatUser:function(e){return void 0===e&&(e={}),(U=e).credit_amount=U.credit_amount||0,U.authenticated=U.authenticated||!1,U.remembered=U.remembered||!1,U.team_member=U.team_member||!1,U.team_leader=U.team_leader||!1,U.has_credits=U.has_credits||!1,U.has_subscription=U.has_subscription||!1,U.team_credits=U.team_credits||0,U.team_name=U.team_name||"",U.free_trial_subscription_test_active=U.free_trial_subscription_test_active||!1,U.free_trial_subscription_multivariant_exp_b=U.free_trial_subscription_multivariant_exp_b||!1,U.free_trial_subscription_multivariant_expansion_eligible=U.free_trial_subscription_multivariant_expansion_eligible||!1,U.free_trial_subscription_multivariant_expansion_in_experience=U.free_trial_subscription_multivariant_expansion_in_experience||!1,M(),"undefined"!=typeof window&&void 0!==window.tracking_data&&B(U),U}},W=n(9404),z=n.n(W),H=function(){function e(){}return e.isMappable=function(e){return null!==e&&"object"==typeof e&&!z().Iterable.isIterable(e)},e.mapArray=function(e){var t=this;return z().List(e.map((function(e){return t.mapJS(e)})))},e.mapHash=function(e){for(var t in e){var n=e[t];e[t]=this.mapJS(n)}return z().Record(e)()},e.mapJS=function(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e},e.fromJS=function(e){return this.mapJS(e)},e}(),V=H.fromJS({userDetails:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_ai_generations:!1,price_book:{},has_credits:!1,team_credits:0,subsInfo:{isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{agreements:[],allowedUseCodeKey:"",assetDimensions:{width:0,height:0},assetFamily:"",assetId:"",assetType:"",dateSubmitted:"",dateSubmittedFormatted:"",defaultMainImageURL:"",epsFileSizeIndex:-1,exclusiveContent:"",freeFile:!1,hasEpsFileSize:!1,isEditorialUseOnly:!1,isEssentialImage:!1,isFilm:!1,isHidden:!1,isIllustration:!1,isImage:!1,isIstockExclusive:!1,isVector:!1,istockCollection:"",keywords:[],licenseType:"",localizedCaption:null,location:"",mainImageUrl:"",mediaType:"",sizes:[],standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},thumbUrl:"",zoomedImageUrl:""},agreements:[],subscription:null,licenses:[],calc:{step:{name:g.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,redownloadForFree:!1,isMiniPnpOpen:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},buyCardData:{},categories:{categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""}},downloadData:null,displayError:null,editable:!1,isAiEditable:!1,keywordsView:{},metaTags:{seoAlt:"",seoImageTitle:"",seoFilmAlt:"",seoFigCaption:""},redirectToUrl:null,postDownloadOnboarding:!1,mobileSimplification:!1,showVideoPnp:!1,searchPhrase:null,searchScope:null,versionCount:0});var Y=function(e){if(void 0===e&&(e={}),e.subscription){var t=e.subscription.sku;if(e.subscription.status===p.paused)switch(((e.calc||{}).step||{}).name){case g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case g.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:!function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Dismiss",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:"adp_subscription_paused_message"})}(t)}}},K=function(e){return{type:E.SET_SELECTED_ACCOUNT,selectedAccountName:e}},J=function(){return{type:E.GO_TO_NEXT_STEP}},Q="RoyaltyFreeSubscription",q="CreditPack",Z="EasyAccess",X={ROYALTY_FREE_SUBSCRIPTION:Q,CREDIT_PACK:q,EASY_ACCESS:Z,ALL:[Q,q,Z]},ee=n(735),te={categoriesLink:function(e){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_Category_Link_Click",adp_selection:e})},singleDownload:function(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("download",{download_payment_source:tracking_data.payment_source,download_type:tracking_data.download_type,products_string:tracking_data.products_string,downloaded_items:[{asset_family:null!=tracking_data.asset_details?tracking_data.asset_details.asset_family:void 0,asset_id:null!=tracking_data.asset_details?tracking_data.asset_details.asset_id:void 0,asset_size:null!=tracking_data.asset_details?tracking_data.asset_details.asset_size:void 0,asset_type:null!=tracking_data.asset_details?tracking_data.asset_details.asset_type:void 0,asset_usage:null!=tracking_data.asset_details?tracking_data.asset_details.asset_usage:void 0,date_submitted:null!=tracking_data.asset_details?tracking_data.asset_details.date_submitted:void 0,collection_code:null!=tracking_data.asset_details?tracking_data.asset_details.collection_code:void 0,istock_collection:null!=tracking_data.asset_details?tracking_data.asset_details.istock_collection:void 0,license_type:null!=tracking_data.asset_details?tracking_data.asset_details.license_type:void 0,media_type:null!=tracking_data.asset_details?tracking_data.asset_details.media_type:void 0,quality:null!=tracking_data.asset_details?tracking_data.asset_details.quality:void 0,release_info:null!=tracking_data.asset_details?tracking_data.asset_details.release_info:void 0}]}),delete tracking_data.asset_details.asset_size}},ne=function(e,t){var n=function(e){return e.asset.freeFile?"free_download":e.calc.buyAndBurnDownload?"credits":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===X.CREDIT_PACK?"credits":e.calc.selectedAgreementType===X.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),i=(0,ee.A)({asset_details:tracking_data.asset_details,download_method:n,is_eps:t});return(0,_.C)(i),te.singleDownload(n,function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter((function(e){return e.is_selected&&"Standard"!==e.license_type})).map((function(e){return e.license_type})).toArray():null}(e))},ie=function(e){return void 0===e&&(e=null),{type:E.SET_DISPLAY_ERROR,message:e}},re=function(e){return{type:E.REDIRECT_TO_URL,url:e}},ae=function(e){return{type:E.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}},oe=n(63947),se=n(80016),ce=function(e){return e.selectedAgreementType===X.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},le=function(e){try{!function t(n){if(!(n>=e.length)){var i=e[n],r=i.includes(".png")?"BackgroundRemoved.png":"Original.jpeg",a=document.createElement("a");a.href=i,a.download=r,(document.body||document.documentElement).appendChild(a),a.click(),a.parentNode.removeChild(a),setTimeout((function(){t(n+1)}),5e3)}}(0)}catch(e){(0,oe.d)(e)}},de=function(e,t,n,i,r,a,o,s,c){return function(l,d){var u,_=d(),p=_.asset,f=_.calc,h="image/eps"===(null==(u=f.selectedAgreementSize)?void 0:u.content_type);return function(e){var t,n=e.isImageEdited,i=e.asset,r=e.calc,a=e.korrelationId,o=(e.showEditor,e.backgroundRemoved),s=e.editDetails;if(n||o){var c={assetId:i.assetId,downloadToken:r.selectedAgreementSize.download_token,korrelationId:a,isImageEdited:n,backgroundRemoved:o,editDetails:s};return(0,se.A)(c)}return N().post("/downloads/create-download",{data:{asset:{asset_id:i.assetId,asset_type:i.assetType,asset_collection:i.istockCollection},tokens:[r.selectedAgreementSize.download_token],licenses:null==(t=ce(r))?void 0:t.toJS(),korrelation_id:a,credit_share:r.isTeamAccountSelected}})}({isImageEdited:r,asset:p,calc:f,korrelationId:e,showEditor:i,backgroundRemoved:o,editDetails:c}).then((function(e){l(function(e){return{type:E.SET_DOWNLOAD_DATA,downloadData:e}}(e.data));var t=d(),i=t.downloadData,r=!1,o=(null==i?void 0:i.data).modifications_url;return n||!i.hasDownloadDestinations||o?"complete"===document.readyState?o?(le([o,i.downloadDestinationUrl]),s(!1)):window.location.href=i.downloadDestinationUrl:window.addEventListener("load",(function(){o?le([o,i.downloadDestinationUrl]):window.location.href=i.downloadDestinationUrl})):r=i.dropboxEnabled,ne(t,h),a(),l(function(e,t){return{type:E.SET_TOASTER,forceDownload:e,dropboxEnabled:t}}(n,r)),t.calc.buyAndBurnDownload?l(ae(!1)):t.calc.redownloadForFree?l(function(e){return{type:E.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}}(r)):void l(function(e){return{type:E.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}}(r))})).catch((function(e,n){403===e.status&&l(re(t)),l(ie("download_failed")),s(!1)}))}},ue={PERSONAL:"personalAccount",TEAM:"teamAccount"},_e=n(41457),pe=function(e){return void 0===e&&(e=document.referrer),null!=function(e){var t=new _e.A,n=t.normalizeUrl(e)[1];return t.parseQuery(n)[0]}(e).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:E.SET_SPECTRUM_DOWNLOADED_ASSET_ID}};var fe=function(){return function(e,t){if(t().userDetails.authenticated)return N().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then((function(t){return e({subscription:t.data,type:E.LOAD_SUBSCRIPTION}),Promise.resolve(!0)})).catch((function(e){}))}},he=function(e){return{type:E.SET_AGREEMENTS,agreements:e}},me=function(){return function(e,t){var n=t(),i=n.agreements,r=n.asset;return 0!==i.size?Promise.resolve(!0):t().userDetails.authenticated?N().get("/downloads/asset-agreements/"+r.assetId,{headers:{Accept:"application/json"}}).then((function(t){return e(he((null!=t.data?t.data.agreements:void 0)||[])),e(fe()),Promise.resolve(!0)})).catch((function(t){return e(he([])),e(fe()),Promise.resolve(!1)})):(e(he([])),e(fe()),Promise.resolve(!1))}},ge=function(){return function(e){return N().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data,{type:E.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:n}));var n})).catch((function(t){return e(ie("download_failed"))}))}},ve=function(){return function(e){return N().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data.personal_credits,i=t.data.team_credits,{type:E.SET_AVAILABLE_CREDITS,personalCredits:n,teamCredits:i}));var n,i})).catch((function(t){return e(ie("download_failed"))}))}},we=function(){return function(e,t){if(e({type:E.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!t().redirectToUrl)return e(pe()),t().userDetails.team_member||e(K(ue.PERSONAL)),e(me()).then((function(n){return e(ve()).then((function(){return t().calc.isFreeAdminDownload?e({type:E.GO_TO_FREE_ADMIN_DOWNLOAD}):e(ge()).then((function(){if(!t().redirectToUrl)return e(J())}))}))})).catch((function(t){return e(ie("download_failed"))}))}},Ee=function(e){return{type:E.SET_LICENSES,licenses:e}},Ce=function(e,t){return function(n,i){var r=i().licenses.toJS();return r.size>1?n(Ee(r)):N().get(window.siteMap.cleanRelativePath("/asset-detail/"+e.assetId+"/licenses"),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then((function(e){var t=e.data||[];n(Ee(t)),n({type:E.SET_CTA_IN_PROGRESS,inProgress:!1})})).catch((function(e){return n(ie("can_not_get_extended_licenses"))}))}},ye=function(){return function(e,t){return e(me()).then((function(){if(function(e){return e.userDetails.team_member&&e.userDetails.has_purchase_history&&!e.calc.selectedAccount}(t()))return e(ve()).then((function(){return e({type:E.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})}));var n=t();e(Ce(n.asset,n.calc.isTeamAccountSelected))})).catch((function(t){e(ie("download_failed"))}))}},be=function(){return function(e,t){return e(ye()).then((function(){return e({type:E.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})}))}},Ie={initializeDataStep:function(e,t,n,i,r,a,o,s,c,l,d,u,_,p,f,h,m){return void 0===a&&(a={}),void 0===o&&(o={}),void 0===l&&(l={}),void 0===d&&(d={}),{type:E.INITIALIZE,asset:e,userDetails:t,preferredDownloadSize:n,preferredEpsDownloadSize:i,localePhoneNumber:r,buyCardData:a,categories:o,editable:s,isAiEditable:c,keywordsView:l,metaTags:d,mobileSimplification:u,showVideoPnp:_,searchPhrase:p,searchScope:f,versionCount:h,hasAvailableCredits:m}},cancelDownload:function(){return{type:E.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage:function(){return function(e,t){Y(t()),e({type:E.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker:function(){return{type:E.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize:function(e){return{type:E.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress:function(e){return{type:E.SET_CTA_IN_PROGRESS,inProgress:e}},setMiniPnpOpen:function(e){return{type:E.SET_MINI_PNP_OPEN,open:e}},checkLicense:function(e){return{type:E.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle:function(e){return{type:E.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setSelectedAgreementType:function(e){return{type:E.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl:function(e){return{type:E.REDIRECT_TO_URL,url:e}},goToInitialLoad:function(){return function(e,t){return e(me()).then((function(t){return e({type:E.GO_TO_BEGINNING})})).catch((function(e){}))}},goToNextStep:J,setSelectedAccount:K,initiateDownload:we,openMiniPnp:function(){return function(e,t){e({type:E.SET_MINI_PNP_OPEN,open:!0})}},pickOptionalLicenses:ye,performDownload:de,goToInitiateDownloadAndSelectLicensesStep:be,showPostDownloadOnboarding:function(){return{type:E.SHOW_POST_DOWNLOAD_ONBOARDING}},hidePostDownloadOnboarding:function(){return{type:E.HIDE_POST_DOWNLOAD_ONBOARDING}}},Te=Ie,Ne=n(89593);var Se=function(e,t){if(void 0===e&&(e=null),t.type===E.LOAD_SUBSCRIPTION)e=H.fromJS(t.subscription);return e},xe=new Map;xe.set(E.SHOW_POST_DOWNLOAD_ONBOARDING,!0),xe.set(E.HIDE_POST_DOWNLOAD_ONBOARDING,!1);var Ae=function(e,t){var n;return null!=(n=xe.get(t.type))?n:e},Oe=function(e,t){return e=e.set("displayError",t.message)},De=function(e,t){return e=e.setIn(["calc","ctaInProgress"],t.inProgress)},Pe=function(e,t){var n,i,r,a;return e=e.mergeIn(["calc"],{showDropboxModal:(n=t,i=n.forceDownload,r=n.dropboxEnabled,a=null!=giLocalStorage.getItem("dropboxOptOut"),!i&&!r&&!a)})},je=function(e){return e.calc.optionalLicenseIndexes.map((function(t){return e.licenses.get(t)}))},ke=function(e){return je(e).reduce((function(e,t){return e||t.is_selected}),!1)},Re=function(e){var t=Ue(e),n=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return n?Le(n):Fe},Le=function(e){var t=new RegExp("^"+e+"$","i");return function(e,n){return n.reduce((function(n,i){return n||null!=(null!=e[i]?e[i].match(t):void 0)}),!1)}},Fe=function(){return!1},Ue=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null},Me=function(e){var t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t},Be=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return e.is_free&&n(e,t)}))},Ge=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return n(e,t)}))},We=function(e){var t;return e.calc.redownloadForFree&&!ke(e)?t=function(e){var t=Re(e),n=Me(e),i=e.agreements.filter((function(e){return e.type===X.ROYALTY_FREE_SUBSCRIPTION})),r=Be(i,n,t);if(!r){var a=e.agreements.filter((function(e){return e.type===X.CREDIT_PACK}));r=Be(a,n,t)}return r}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){var t=Re(e),n=Me(e),i=e.agreements.filter((function(e){return e.type===X.EASY_ACCESS}));return Ge(i,n,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){var t=Re(e),n=Me(e);return e.calc.selectedAgreement.authorized_sizes.find((function(e){return t(e,n)}))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)},ze=function(e){var t,n=e.find((function(e){return e.type===X.CREDIT_PACK&&e.agreement_details.is_credit_share}));return(null==n||null==(t=n.agreement_details)?void 0:t.available_credits)||0},He=function(e){return e.some((function(e){return e.agreement_details.available_credits>0}))},Ve=function(e){return!!e.find((function(e){return e.authorized_sizes.find((function(e){return e.is_free}))}))},Ye=function(e,t){return e.some((function(e){return e.type===t}))},Ke=function(e,t){var n=t.agreements||e.agreements||[];return e=(e=e.set("agreements",H.fromJS(n))).mergeIn(["calc"],{includedWithSubscription:Ye(n,X.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:!e.asset.freeFile&&Ve(n),isFreeAdminDownload:Ye(n,X.EASY_ACCESS),teamCreditsAvailable:ze(n),hasAvailableCredits:He(n)}),e=We(e)},Je=function(e,t){if(!t)return null;var n=new RegExp("^"+t+"$","i");return e.find((function(e){return null!=e.teeShirtSize?e.teeShirtSize.match(n):void 0}))},Qe=function(e,t){var n=t.assetSize,i=n;return!n&&e.calc.assetIsImage&&(i=function(e,t){var n,i=e.sizes;if(e.hasEpsFileSize)return Je(i,t.preferredEpsDownloadSize)||i.get(e.epsFileSizeIndex);if(null!=(n=i.last())&&n.epsUnavailable){var r=i.pop();return Je(i,t.preferredDownloadSize)||r.last()}return Je(i,t.preferredDownloadSize)||i.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],i),e=We(e)},qe=function(e,t){var n=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],n)},Ze=function(e){return function(e){return e.asset.freeFile?e.agreements.find((function(e){return e.type===X.CREDIT_PACK})):null}(e)||function(e){return e.agreements.find((function(t){return t.type===e.calc.selectedAgreementType&&(function(e,t){return function(e){return!!e.agreement_details.is_credit_share}(t)===e.calc.isTeamAccountSelected||function(e){return!!e.agreement_details.is_shared_subscription}(t)===e.calc.isTeamAccountSelected}(e,t)||e.userDetails.team_leader)}))}(e)},Xe=function(e,t){return e=e.setIn(["calc","selectedAgreement"],Ze(e)),e=We(e)},$e=function(e,t){var n=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===X.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===X.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,n)?n:null),e=Xe(e)},et=function(e,t){void 0===t&&(t=void 0);var n=null!=t?t.selectedAccountName:void 0,i=null,r=n===ue.TEAM||!!e.userDetails.team_leader;return r?i=e.calc.teamCreditsAvailable:n===ue.PERSONAL&&(i=e.userDetails.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:n,selectedAccountCredits:i,selectedAccountHasAnyCredits:i>0,isTeamAccountSelected:r}),e=function(e){var t;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=X.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=X.ROYALTY_FREE_SUBSCRIPTION),$e(e,{agreementType:t})}(e=qe(e))},tt=function(e,t){var n,i,r,a,o=t.downloadData,s=(null==(n=(null==(i=o.single_downloads)?void 0:i[0])||(null==(r=o.singleDownloads)?void 0:r[0]))?void 0:n.url)||null,c=!!(o.download_destinations&&o.download_destinations[0]&&o.download_destinations[0].token);return e=e.set("downloadData",H.fromJS({data:o,hasDownloadDestinations:(null==(a=o.download_destinations)?void 0:a.length)>0,downloadDestinationUrl:s,dropboxEnabled:c}))},nt=function(e){return function(){if("undefined"==typeof s||null===s)return!1;var t=$.siteCatalyst.pageTrackingVariables(),n=$.extend({},t);n.eVar77=!0,s.linkTrackVars=$.map(n,(function(e,t){return t})).join(","),s.linkTrackEvents="event197",s.events="event197",s.eVar77=e===ue.PERSONAL?"MyAccount":"SharedCreditAccount",s.tl(!0,"o","Choose Account")}},it={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1},rt=function(e,t){for(var n=function(e){return e.calc.step.showSubTypeMessage}(e)&&!function(e){return e.calc.step.selectedAccount===ue.TEAM}(e),i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var o=Object.assign.apply(Object,[{},it,t,{showSubTypeMessage:n}].concat(Array.from(r))),s=H.fromJS(o);return e=e.setIn(["calc","step"],s),e=$e(e,{agreementType:e.calc.selectedAgreementType||s.selectedAgreementType})},at=Object.freeze({CREATE_DOWNLOAD:"createDownload",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"goToInitiateDownloadAndSelectLicensesStep",HANDLE_ACCOUNT_SELECTION:"handleAccountSelection",INITIATE_DOWNLOAD:"initiateDownload",OPEN_MINI_PNP:"openMiniPnp",REDIRECT_TO_CHECKOUT:"redirectToCheckout",REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:"redirectToCheckoutWithFreeTrial",REDIRECT_TO_CREDITPACKS:"redirectToCreditPacks",REDIRECT_TO_FAST_CHECKOUT:"redirectToFastCheckout",REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:"redirectToFastCheckoutWithAnnualPack",REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:"redirectToFastCheckoutWithSubscription",REDIRECT_TO_PRICING:"redirectToPricing"}),ot=Object.freeze({FULL_WIDTH_SUPER_CTA:"super-cta super-cta--full-width",HOLLOW_CTA:"hollow-cta",PRIMARY_CTA:"primary-cta",SUPER_CTA:"super-cta"}),st=Object.freeze({BUY_CREDITS:"buy_credits",CHOOSE_ACCOUNT:"choose_account",CONFIRM_DOWNLOAD:"confirm_download",CONTINUE_TO_CHECKOUT:"continue_to_checkout",DOWNLOAD_FOR_FREE:"download_for_free",DOWNLOAD_METHOD:"download_method",DOWNLOAD_THIS_IMAGE:"download_this_image",DOWNLOAD_THIS_VIDEO:"download_this_video_clip",FREE_DOWNLOAD:"free_download_cta",REDOWNLOAD_FOR_FREE:"re-download_for_free"}),ct=function(e,t){void 0===t&&(t={});var n=st.CHOOSE_ACCOUNT,i=ot.PRIMARY_CTA,r=at.HANDLE_ACCOUNT_SELECTION;return e=rt(e,{name:g.CHOOSE_ACCOUNT,title:e.calc.assetCollectionName+"_collection",ctaTitle:n,ctaClass:i,selectedAccount:ue.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?at.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:r,showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerTracking:nt(e.calc.selectedAccount)}),e=et(e,{selectedAccountName:e.calc.step.selectedAccount})},lt=function(e){return et(e,void 0)},dt=function(e,t){return e+t.credit_cost},ut=function(e){return e.reduce(dt,0)},_t=function(e){var t=function(e){return e.licenses.filter((function(e){return e.is_selected&&!e.is_acquired_and_not_repurchasable}))}(e);return e=e.mergeIn(["calc"],{totalCreditCost:ut(t),notAcquiredSelectedLicenses:t}),e=qe(e)},pt=function(e){var t=e.licenses.withMutations((function(t){return e.calc.optionalLicenseIndexes.forEach((function(e){return t.setIn([e,"is_selected"],!1)}))}));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=_t(e)).setIn(["calc","step","viewLicenseSelection"],!1)},ft=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",Object.assign({adp_interaction:e.adp_interaction||"ADP_Download_Button_Click",adp_selection:e.adp_selection,sku:e.sku,download_payment_source:e.download_payment_source,ui_element_location:e.ui_element_location},e.asset_size&&{asset_size:e.asset_size},{purchase_type:e.purchase_type}))}},ht=Object.freeze({PRICING_OPTION_CHECKOUT:"checkout",PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:"checkoutLargerCreditPack",PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:"freeTrialSubscriptionMultivariantOption",PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:"checkoutWithAnnualMonthlyToggleOption",PRICING_OPTION_PRICING:"pricing",PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:"checkoutSubscription",PRICING_OPTION_FREE_TRIAL:"checkoutFreeTrial"}),mt=function(e){return"pricing"===e?"PnP_Checkout_Option":"Fast_Checkout_Option"},gt=function(e,t){switch(e){case ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:return wt(t.userDetails);case ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:return t.userDetails.fast_checkout_subs_pack_sku;case ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:return t.userDetails.fast_checkout_subs_annual_pack_sku;default:return vt(t.asset)}},vt=function(e){return e.standardLicense.minimum_sku},wt=function(e){return e.istock_fast_checkout_larger_offer_credit_pack_sku},Et=function(e,t){return e===ht.PRICING_OPTION_CHECKOUT?function(e,t){return function(e){return"film"==e.assetType}(t)?"adp_continue_to_checkout_button_single_clip_credit_pack_option":e===ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?"adp_continue_to_checkout_button_multi_credit_pack_option":"adp_continue_to_checkout_button-single_image_option"}(e,t):e===ht.PRICING_OPTION_PRICING?"adp_buy_card_view_plans_option":e===ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION||e===ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE||e===ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?function(e){return e===ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?"adp_continue_to_checkout_button_multi_clip_credit_pack_option":"adp_continue_to_checkout_button-subscription_option"}(e):void 0},Ct=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"No_Checkout_Option",ui_element_location:"adp_buy_card_paid_download_start_cta",asset_size:null==t?void 0:t.name};return e.freeFile&&(n.ui_element_location="adp_buy_card_free_download_start_cta"),n},yt=function(e,t){return{adp_interaction:"ADP_PnP_Button_Click",sku:e.standardLicense.minimum_sku,adp_selection:"Buy_Credits",ui_element_location:"adp_buy_card_download_error_"+t}},bt=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"Download_Confirm",ui_element_location:t?"adp_extended_license_download_confirm_cta":"adp_buy_card_download_confirm_cta"};return e.freeFile&&(n.download_payment_source="free_download"),n},It=function(e){var t=bt(e);return t.download_payment_source="redownload",t},Tt=function(e,t){return{sku:gt(e,t),adp_selection:mt(e),ui_element_location:Et(e,t.asset)}},Nt=function(e){return{adp_selection:"ADP_Subscribe_Button_Option",ui_element_location:"adp_buy_card_download_error_insufficent_credits",sku:e.standardLicense.minimum_sku}},St=function(e){return{adp_selection:"Upgrade_to_Premium_Plus_Video_Sub",ui_element_location:"adp_buy_card_download_error_asset_unavailable_with_plan",sku:e.standardLicense.minimum_sku}},xt=function(e){return e.userDetails.premium_video_subscription_enabled},At=function(e){var t;return null==(t=e.subscription)?void 0:t.include_video},Ot=function(e){return e.userDetails.video_credit_pack_fco_eligible},Dt=function(e){return xt(e)?at.REDIRECT_TO_CREDITPACKS:at.REDIRECT_TO_PRICING},Pt=function(e){return!e.userDetails.has_purchase_history&&(t=e.userDetails.country_code,void 0===(n=["BRA"])&&(n=["AUT","BEL","BRA","DEU","IRL","NLD","CHE"]),n.includes(t)||jt(e));var t,n},jt=function(e){return kt(e.userDetails.country_code)||Rt(e)||Lt(e)},kt=function(e){return function(e){return["PER","IDN","COL"].includes(e)}(e)||function(e){return["RUS","THA","IND"].includes(e)}(e)||function(e){return["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e)}(e)},Rt=function(e){return e.userDetails.fast_checkout_sub||e.userDetails.fast_checkout_sub_savings},Lt=function(e){return e.userDetails.pricing_clarity_flow&&e.calc.assetIsVideo},Ft=function(e){return e.mobileSimplification},Ut={buildInsufficientCreditsHtmlTranslation:function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=e.userDetails.istock_asset_credit_cost,r={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:t,greaterthan1_credit_balance:n,credit_amount:i};return{tag:(e.calc.assetIsVideo?"video_":"image_")+(1===t?"insf_one_credit_cost":1===n?"insf_one_credit":"insf_credits"),translationVariables:r}},ctaActionForInitiateDownload:function(e){return e.userDetails.mini_pnp_active?at.OPEN_MINI_PNP:at.INITIATE_DOWNLOAD},defaultCtaTitle:function(e){var t=st.CONTINUE_TO_CHECKOUT,n=st.FREE_DOWNLOAD,i=st.DOWNLOAD_THIS_VIDEO,r=st.DOWNLOAD_THIS_IMAGE;return e.asset.freeFile?n:Pt(e)?t:e.calc.assetIsVideo?i:r},buildConfirmDownloadPaidByCreditsStep:function(e,t){void 0===t&&(t=!1);return{name:"PLACEHOLDER",title:null,ctaTitle:st.CONFIRM_DOWNLOAD,ctaClass:ot.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:X.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking:function(){var n=e.userDetails.team_leader,i=e.calc.userIsTeamUser,r=e.userDetails.team_member&&e.calc.isTeamAccountSelected;return i&&!n&&(window.tracking_data.download_with_team_credits=r),ft(bt(e.asset,t))()}}},buildMustBuyStep:function(e){var t=Ot(e),n=ot.PRIMARY_CTA,i=e.calc.totalCreditCost,r=e.calc.selectedAccountCredits,a=st.BUY_CREDITS;return t&&(a=st.CONTINUE_TO_CHECKOUT),{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:a,ctaClass:n,ctaAction:e.calc.assetIsVideo&&t?at.REDIRECT_TO_FAST_CHECKOUT:Dt(e),ctaTranslationVariables:{credit_cost:i,selected_credits:r}}},buildStepDetailsToShowDownloadChoices:function(e){var t=(At(e)?"premium_video":function(e){var t;return null==(t=e.subscription)||null==(t=t.sku)?void 0:t.includes("PREM")}(e)?"premium":"basic")+"_subscription";return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===ue.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.userDetails.subsInfo.downloadsRemaining}},hasPremiumVideoSub:At,isUsingTeamAccount:function(e){return e.userDetails.team_member&&e.calc.isTeamAccountSelected},inGeoLocPricingTest:kt,inFreeTrialSubscriptionMultivariant:function(e){return e.userDetails.free_trial_subscription_test_active&&e.userDetails.free_trial_subscription_multivariant_exp_b},inFreeTrialSubscriptionMultivariantExpansion:function(e){return e.userDetails.free_trial_subscription_test_active&&e.userDetails.free_trial_subscription_multivariant_expansion_in_experience},inFastCheckoutSub:Rt,inVideoPricingClarityTest:Lt,inVideoPricingClarityPremiumVideoSub:function(e){return e.userDetails.pricing_clarity_flow&&e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow},premiumVideoEnabled:xt,selfServeUpgradeEnabled:function(e){return e.userDetails.self_serve_upgrade_enabled},ctaPricingActionData:Dt,inMobileSimplification:Ft,inMobileSimplificationFreeTrial:function(e){return Ft(e)&&function(e){return e.userDetails.free_trial_subscription_test_active}(e)},isPricingClarityDurationToggleDefaultAnnual:function(e){return e.userDetails.is_annual_monthly_toggle_annual_active},isVideoCreditPackFCO:Ot},Mt=Ut.ctaActionForInitiateDownload,Bt=Ut.defaultCtaTitle,Gt=function(e){return rt(e,{name:g.PICK_PAYMENT_OPTION,title:e.calc.assetCollectionName+"_collection",ctaClass:ot.SUPER_CTA,ctaTitle:Bt(e),ctaAction:Mt(e),showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:function(){ft(Ct(e.asset,e.calc.selectedAssetSize))()}},function(e){var t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e))},Wt=function(e,t){void 0===t&&(t={});var n=e.asset;return rt(e,{name:g.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:ot.PRIMARY_CTA,ctaTitle:st.REDOWNLOAD_FOR_FREE,ctaAction:at.CREATE_DOWNLOAD,lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:n.isIllustration?"download_no_charge_illustration":n.isFilm?"download_no_charge_video":"download_no_charge_photo",warningBox:!0,triggerTracking:ft(It(e.asset))})},zt=Ut.inVideoPricingClarityPremiumVideoSub,Ht=Ut.inFreeTrialSubscriptionMultivariant,Vt=Ut.inFreeTrialSubscriptionMultivariantExpansion,Yt=Ut.inMobileSimplification,Kt=Ut.inMobileSimplificationFreeTrial,Jt=Ut.inVideoPricingClarityTest,Qt=Ut.inFastCheckoutSub,qt=Ut.inGeoLocPricingTest,Zt=Ut.defaultCtaTitle,Xt=Ut.isPricingClarityDurationToggleDefaultAnnual,$t=g.PICK_PRICING_CLARITY_PAYMENT_OPTION,en=["DEU","BRA"],tn=function(e){switch(!0){case Ht(e):case Vt(e):return ht.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT;case Kt(e):return ht.PRICING_OPTION_FREE_TRIAL;case Yt(e):return ht.PRICING_OPTION_CHECKOUT;case zt(e):case Qt(e):return Xt(e)?ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION;case qt(e.userDetails.country_code):case en.includes(e.userDetails.country_code):return ht.PRICING_OPTION_CHECKOUT;default:return ht.PRICING_OPTION_PRICING}},nn=function(e,t){return e.calc.step.name!==$t?tn(e):function(e,t){return t||tn(e)}(e,t.pricingOptionSelected)},rn=function(e){return Qt(e)||Jt(e)?ot.FULL_WIDTH_SUPER_CTA:ot.SUPER_CTA},an=function(e,t){var n=nn(e,t),i=function(e,t){switch(t){case ht.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:return{ctaTitle:st.DOWNLOAD_FOR_FREE,ctaAction:at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case ht.PRICING_OPTION_FREE_TRIAL:return{ctaTitle:Zt(e),ctaAction:at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case ht.PRICING_OPTION_CHECKOUT:case ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:return{ctaTitle:Zt(e),ctaAction:at.REDIRECT_TO_CHECKOUT};case ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:return{ctaTitle:Zt(e),ctaAction:at.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION};case ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:return{ctaTitle:Zt(e),ctaAction:at.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK};default:return{ctaTitle:st.DOWNLOAD_METHOD,ctaAction:at.REDIRECT_TO_PRICING}}}(e,n);return rt(e,{name:$t,title:e.calc.assetCollectionName+"_collection",ctaClass:rn(e),ctaTitle:i.ctaTitle,ctaAction:i.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:n,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:ft(Tt(n,e))})},on=function(e,t){return void 0===t&&(t={}),(e=e.setIn(["calc","isInPricingClarity"],function(e){return e.userDetails.pricing_clarity_flow}(e))).calc.isInPricingClarity&&(e=an(e,t)),e},sn=function(e){return e=lt(e),e=pt(e),(e=on(e)).calc.isInPricingClarity||(e=Gt(e)),e.calc.redownloadForFree&&(e=Wt(e)),e},cn=function(e){if(e.calc.step.name===g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||e.calc.step.name===g.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS){var t,n,i,r;e.subscription&&(t=e.subscription.sku,n=e.subscription.status);var a=window.tracking_data.page_name;switch(n){case"Suspended":e.subscription.can_unsuspend?(i="Unsuspend_Subscription_Notification_Dismiss",r=window.tracking_data.page_name,a="adp_unsuspend_subscription_message"):(i="Subscription_Suspended_Notification_Dismiss",r="adp_subscription_suspended_message");break;case"Expired":i="Account_Subscription_Expired_Warning_Dismiss",r="adp_subscription_expired_message"}i&&r&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:i,account_selection:a,sku:t,ui_element_location:r})}},ln=function(e,t){return cn(e),e=Ke(e,t),e=lt(e),e=pt(e),(e=on(e)).calc.isInPricingClarity||(e=Gt(e)),e.calc.redownloadForFree&&(e=Wt(e)),e},dn=function(e,t){return e=e.mergeIn(["calc","isMiniPnpOpen"],t.open)},un=function(e,t){return e=e.mergeIn(["userDetails"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=et(e,{selectedAccountName:e.calc.selectedAccount})},_n=function(e){return e=rt(e,{name:g.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:e.calc.assetCollectionName+"_collection",ctaTitle:Ut.defaultCtaTitle(e),ctaClass:ot.SUPER_CTA,ctaAction:Ut.ctaActionForInitiateDownload(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){ft(Ct(e.asset,e.calc.selectedAssetSize))()}})},pn=function(e,t){return rt(e,{name:g.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},fn=function(e,t){return rt(e,{name:g.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},hn=function(e){var t=g.PURCHASE_AND_SELECT_LICENCES_STEP;return e=rt(e,{name:t,title:e.calc.assetCollectionName+"_collection",ctaTitle:Ut.defaultCtaTitle(e),ctaClass:ot.SUPER_CTA,ctaAction:Ut.ctaPricingActionData(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){ft({adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_extended_license_view_plans_and_pricing_button"})()}})},mn=function(e,t){var n=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!n)).setIn(["calc","hasSelectedOptionalLicenses"],ke(e)),(e=_t(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?hn(e):_n(e)),e},gn=function(e,t){return function(){if("undefined"==typeof s||null===s)return!1;s.linkTrackEvents+=",event198",s.events+=",event198";var n=$.siteCatalyst.pageTrackingVariables(),i=$.extend({},n);return i.eVar62=!0,s.linkTrackVars+=$.map(i,(function(e,t){return t})).join(","),e&&(s.eVar62=t?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image")}},vn=function(e){var t=st.CONFIRM_DOWNLOAD;return rt(e,{name:g.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:t,ctaClass:ot.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!1,selectedAgreementType:X.EASY_ACCESS,triggerTracking:gn(e.calc.userIsTeamUser,e.userDetails.isTeamLeader)})},wn=function(e,t){var n=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:n,isSubscriptionDownloadAllowed:n&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})},En=function(e){var t;return e.calc.assetIsImage&&(t=function(e){var t,n=e.sizes;return e.hasEpsFileSize?n.get(e.epsFileSizeIndex):null!=(t=n.last())&&t.epsUnavailable?n.pop().last():n.last()}(e.asset)),e=e.setIn(["calc","largestSizeAvailable"],t)},Cn=function(e,t){var n=t.asset,i=t.userDetails,r=t.preferredDownloadSize,a=t.preferredEpsDownloadSize,o=t.localePhoneNumber,s=t.buyCardData,c=t.categories,l=t.editable,d=t.isAiEditable,u=t.keywordsView,_=t.metaTags,p=t.mobileSimplification,f=t.showVideoPnp,h=t.searchPhrase,m=t.searchScope,g=t.versionCount,v=t.hasAvailableCredits;n.sizes=n.sizes||[];var w=(e=e.merge({asset:H.fromJS(n),buyCardData:H.fromJS(s),categories:H.fromJS(c),editable:l,isAiEditable:d,keywordsView:H.fromJS(u),licenses:H.fromJS([n.standardLicense]),metaTags:H.fromJS(_),mobileSimplification:p,showVideoPnp:f,searchPhrase:h,searchScope:m,userDetails:H.fromJS(i),versionCount:g})).calc.withMutations((function(e){e.merge(function(e,t){return wn(z().Map({calc:z().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,i));var t=F.getAssetCollectionName(n);return e.merge({assetCollectionName:F.getAssetCollectionName(n),assetCollectionIsSignature:F.isSignature(t),assetIsIllustration:"illustration"===n.mediaType,assetIsImage:"image"===n.assetType,assetIsVideo:"film"===n.assetType,localePhoneNumber:o,userIsTeamUser:i.team_member||i.team_leader,hasSubscription:e.hasSubscription,hasAvailableCredits:v})}));return e=function(e){return et(e)}(e=e.set("calc",w)),e=_t(e),e=sn(e),e=En(e),Qe(e,{preferredDownloadSize:r,preferredEpsDownloadSize:a})},yn=function(e,t){return e=on(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected})},bn=function(e,t){return e=e.set("redirectToUrl",t.url)},In=function(e,t){var n=t.licenses||[];return e=(e=e.set("licenses",H.fromJS(n))).setIn(["calc","optionalLicenseIndexes"],H.fromJS(function(e){return e.map((function(e,t){return"Standard"!==e.license_type?t:null})).filter((function(e){return null!==e}))}(n))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],ke(e)),e=(e=_t(e)).calc.isInPricingClarity?hn(e):_n(e)},Tn=function(e,t){return e.userDetails.authenticated||(e.asset.freeFile?e=e.set("redirectToUrl","/sign-in?returnurl="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo):(e.userDetails.remembered||e.userDetails.has_purchase_history)&&(e=e.set("redirectToUrl","/sign-in?returnurl="+window.siteMap.download_balance_check+"?url="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo))),e},Nn={};Nn[p.suspended]=function(e){var t,n;e.subscription.can_unsuspend?(t="Unsuspend_Subscription_Notification_Shown",n="adp_unsuspend_subscription_message"):(t="Subscription_Suspended_Notification_Shown",n=window.tracking_data.page_name);window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:t,account_selection:n,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},Nn[p.paused]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},Nn[p.expired]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})};var Sn=function(e){if(e.subscription){var t=Nn[e.subscription.status];t&&t(e)}},xn=function(e){var t=st.CONFIRM_DOWNLOAD,n=e.calc.assetCollectionName+"_download";return rt(e,{name:g.SELECT_ACCOUNT_TYPE,title:n,ctaTitle:t,ctaClass:ot.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:X.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking:function(){var t=e.userDetails.team_leader,n=e.calc.userIsTeamUser,i=e.userDetails.team_member&&e.calc.isTeamAccountSelected;return n&&!t&&(window.tracking_data.download_with_team_credits=i),ft(bt(e.asset))()}},Ut.buildStepDetailsToShowDownloadChoices(e))};var An=function(){return{tag:"contact_your_administrator"}},On=function(e){return rt(e,{name:g.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Ut.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:An()})},Dn=function(e){var t=st.CONFIRM_DOWNLOAD;return rt(e,{name:g.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:t,ctaClass:ot.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0,triggerTracking:ft(It(e.asset))})},Pn=function(e){return rt(e,{name:g.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Ut.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:An()})},jn=function(e){return rt(e,{name:g.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:e.calc.assetCollectionName+"_download",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:X.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:st.CONFIRM_DOWNLOAD,ctaClass:ot.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0,triggerTracking:ft(bt(e.asset))},Ut.buildStepDetailsToShowDownloadChoices(e))},kn=ot.PRIMARY_CTA,Rn=at.CREATE_DOWNLOAD,Ln=function(e){var t=st.CONFIRM_DOWNLOAD;return rt(e,{name:g.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",ctaTitle:t,ctaClass:kn,ctaAction:Rn,confirmSection:!0,isConfirmationState:!0,selectedAgreementType:X.ROYALTY_FREE_SUBSCRIPTION,triggerTracking:ft(bt(e.asset))},function(e){var t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}}(e))},Fn=function(e){return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:g.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0})},Un=function(e){return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),{name:g.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:e.calc.assetCollectionName+"_collection",focusView:!0,paymentSelect:!0})},Mn=function(e){var t=Ut.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),{name:g.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:e.calc.assetCollectionName+"_download",reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Ut.buildStepDetailsToShowDownloadChoices(e))},Bn=function(e){var t=Ut.hasPremiumVideoSub(e),n="look_no_downloads_"+e.calc.assetCollectionName+(t&&e.calc.assetIsVideo?"_video":"");return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),{name:g.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",reasonForBox:n,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},Ut.buildStepDetailsToShowDownloadChoices(e))},Gn="urls.plans_and_pricing_images",Wn="urls.plans_and_pricing_images_credit_pack",zn="urls.plans_and_pricing_images_subscriptions",Hn="urls.plans_and_pricing_video",Vn="urls.plans_and_pricing_videos_credit_pack",Yn="urls.plans_and_pricing_videos_subscriptions",Kn={annualSelfUpgradeRoute:"urls.plans_and_pricing_self_serve",defaultPnpRoute:"urls.plans_and_pricing_subscriptions",pnpCreditsRoute:"urls.plans_and_pricing_credit_packs",getPricingRoute:function(e){return e?Hn:Gn},getCreditsPricingRoute:function(e){return e?Vn:Wn},getSubscriptionPricingRoute:function(e){return e?Yn:zn},imagePnpRoute:Gn,imagePnpCreditRoute:Wn,imagePnpSubsRoute:zn,videoPnpRoute:Hn,videoPnpCreditRoute:Vn,videoPnpSubsRoute:Yn},Jn=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:e.adp_selection,sku:e.sku,ui_element_location:e.ui_element_location})}},Qn=function(e){var t=Ut.premiumVideoEnabled(e),n=Ut.selfServeUpgradeEnabled(e),i=t&&"OneYear"===e.subscription.duration,r=i?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link",a=null;return i&&(a=n?Kn.annualSelfUpgradeRoute:Kn.getSubscriptionPricingRoute(e.asset.isFilm)),rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),{name:g.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:t?r:"video_only_with_credits",reasonForBoxLink:a,triggerTracking:Jn(St(e.asset)),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Ut.buildStepDetailsToShowDownloadChoices(e))},qn=function(e){return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),{name:g.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:X.CREDIT_PACK,isConfirmationState:!0,selectedAccount:ue.TEAM})};var Zn=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}},Xn={};Xn[p.suspended]=function(e){var t="your_subscription_suspended";if(e.subscription.can_unsuspend){return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:"/purchase/subscriptions/"+e.subscription.sku+"?unsuspend=true"}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Xn[p.paused]=function(e){return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:new Date(e.subscription.resumed_date).toLocaleDateString(),one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:Zn()}},Xn[p.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var $n=function(e){if(e.subscription){var t=Xn[e.subscription.status];return t?t(e):null}},ei=function(e){var t=(e.subscription||{}).downloads_remaining||0,n=(Ut.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName)+"_subscription",i=Object.assign({name:g.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:e.calc.assetCollectionName+"_download",focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:n,subDownloadsTranslationValue:t},$n(e));return rt(e,Ut.buildConfirmDownloadPaidByCreditsStep(e),i)},ti=Ut.premiumVideoEnabled,ni=Ut.hasPremiumVideoSub,ii=Ut.buildInsufficientCreditsHtmlTranslation,ri=function(e){return function(e){return e.calc.assetIsVideo&&ti(e)&&!ni(e)}(e)?function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=ii(e);return{tag:"premium_"+i.tag,translationVariables:Object.assign({},i.translationVariables,{credit_cost:t-n})}}(e):ii(e)},ai=function(e){var t=Ut.isVideoCreditPackFCO(e),n=Ut.premiumVideoEnabled(e),i=Ut.selfServeUpgradeEnabled(e),r="OneYear"===e.subscription.duration,a=i?Kn.annualSelfUpgradeRoute:Kn.getSubscriptionPricingRoute(e.asset.isFilm),o=n&&r&&{id:"upgrade-to-premium",href:a},s=n&&r?Kn.annualSelfUpgradeRoute:null,c=n?"video_not_available_with_subscription_no_link":"video_only_with_credits",l=Ut.isUsingTeamAccount(e)?An():null,d=ri(e),u=g.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return n&&(r||(d.tag=d.tag+"_you_can_download"),o&&(d.tag=d.tag+"_link")),rt(e,Ut.buildMustBuyStep(e),{name:u,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:c,reasonForBoxLink:s,additionalInfoHtml:d,additionalInfoHtmlLink:o,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Ut.isUsingTeamAccount(e),showCreditCost:!0,premiumVideoEnabled:n,videoCreditPackFCO:t,userHasAnnualSubscription:r,warningCta:l,triggerTracking:ft(yt(e.asset,"asset_not_available_with_sub"))})},oi=function(e){var t=Ut.premiumVideoEnabled(e),n=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",i=Ut.isUsingTeamAccount(e)?An():null,r=g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,a=ri(e);if(t){var o=e.calc.totalCreditCost,s=e.calc.selectedAccountCredits;a.tag=1==s?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",a.translationVariables=Object.assign({},a.translationVariables,{credit_cost:o-s})}return rt(e,Ut.buildMustBuyStep(e),{name:r,title:e.calc.assetCollectionName+"_collection",showCreditCost:!0,warningBox:!0,reasonForBox:n,additionalInfoHtml:a,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Ut.isUsingTeamAccount(e),warningCta:i,triggerTracking:ft(yt(e.asset,"insufficient_credits_essentials_sub"))})},si=function(e){var t=h(e)||"blocked",n=g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,i=Object.assign({name:n,title:e.calc.assetCollectionName+"_download",ctaTitle:st.BUY_CREDITS,ctaClass:ot.PRIMARY_CTA,ctaAction:at.REDIRECT_TO_PRICING,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Ut.isUsingTeamAccount(e),triggerTracking:ft(yt(e.asset,t.toLowerCase()+"_sub"))},$n(e));return rt(e,i)},ci=function(e){var t=Ut.premiumVideoEnabled(e),n=e.calc.assetIsVideo;g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION;return rt(e,Ut.buildMustBuyStep(e),{name:g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:ri(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerSubscribeTracking:Jn(Nt(e.asset)),showSubscribeToPremiumVideo:t&&n,ctaClass:t&&n?ot.HOLLOW_CTA:ot.PRIMARY_CTA,triggerTracking:ft(yt(e.asset,"insufficient_credits_no_sub"))})},li=function(e){var t=Ut.isUsingTeamAccount(e)?An():null,n=g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return rt(e,Ut.buildMustBuyStep(e),{name:n,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:ri(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Ut.isUsingTeamAccount(e),warningCta:t,triggerTracking:ft(yt(e.asset,"insufficient_sub_downloads"))})},di=function(e){var t=g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;return rt(e,Ut.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:Ut.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:Ut.ctaPricingActionData(e),triggerTracking:function(){ft(yt(e.asset,"insufficient_credits_extended_license"))()}})},ui=function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=t-n,r=1==i,a=1==n,o=ht.PRICING_OPTION_CHECKOUT;return rt(e,{title:"signature_collection",showBasicSelfServeUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,upsellData:e.buyCardData.basicSelfServeUpgrade.upsellProducts,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:i,oneCreditNeeded:r,oneCreditRemaining:a,balance:n,pricingOption:o})},_i=function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=t-n;return rt(e,{title:"signature_collection",showEnhancedPPVUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:i,oneCreditNeeded:1==i,oneCreditRemaining:1==n,balance:n})},pi=function(e){var t=st.CONFIRM_DOWNLOAD,n=ot.PRIMARY_CTA,i=at.CREATE_DOWNLOAD,r=e.subscription.downloads_remaining,a={showBasicVolumeSelfUpgrade:!0,cancelButton:!0,title:"essentials_collection",downloadsRemaining:r},o=Object.assign({},a,{hideDownloadButton:!0,showCreditCost:!1,showDownloadChoices:!1,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,upsellData:e.buyCardData.basicVolumeSelfUpgrade.upsellProducts}),s=Object.assign({},a,{name:g.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,ctaTitle:t,ctaClass:n,ctaAction:i,isConfirmationState:!0,selectedAgreementType:X.ROYALTY_FREE_SUBSCRIPTION});return rt(e,0===r?o:s,{showSubTypeMessage:!1})},fi=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed},hi=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed},mi=function(e){return e.asset.isEssentialImage&&!e.calc.hasAvailableCredits&&e.subscription.downloads_remaining<=2&&e.buyCardData.basicVolumeSelfUpgrade.eligible},gi=function(e){if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return Ln(e);if(e.calc.redownloadForFree)return Dn(e)}if(e.userDetails.team_member){if(!e.userDetails.has_purchase_history)return(e=et(e,{selectedAccountName:ue.TEAM})).calc.selectedAccountHasEnoughCredits?qn(e):Pn(e);if(!e.calc.selectedAccount)return ct(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return Pn(e)}return e.calc.selectedAccount||(e=et(e,{selectedAccountName:ue.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?Fn(e):e.userDetails.team_member&&e.calc.isTeamAccountSelected?On(e):di(e):m(e)?(Sn(e),e.calc.selectedAccountHasEnoughCredits?ei(e):si(e)):function(e){return e.buyCardData.basicSelfServeUpgrade.eligible}(e)&&function(e){return e.calc.hasSubscription&&!e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed&&e.calc.assetCollectionIsSignature&&!e.asset.isFilm&&!e.calc.selectedAccountHasEnoughCredits}(e)?ui(e):!function(e){return e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm}(e)||function(e){return e.calc.selectedAccountHasEnoughCredits}(e)||mi(e)?mi(e)?pi(e):!e.calc.hasSubscription&&e.userDetails.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?Pn(e):e.calc.selectedAccountHasEnoughCredits&&fi(e)?xn(e):e.calc.selectedAccountHasEnoughCredits&&hi(e)?Bn(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&fi(e)?jn(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.userDetails.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?Mn(e):oi(e):!e.calc.selectedAccountHasEnoughCredits&&hi(e)?li(e):e.calc.assetIsVideo&&e.calc.hasSubscription&&!Ut.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?Un(e):Qn(e):ai(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||fi(e)?Ln(e):ci(e):e.calc.selectedAccountHasEnoughCredits?Un(e):ci(e):_i(e)},vi=function(e,t){return e=e.mergeIn(["userDetails","subsInfo"],H.fromJS(t)),e=wn(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription})},wi=function(e,t){var n=t.agreementOverview||{};if(null!=(null!=n.credit_pack_agreement?n.credit_pack_agreement.credits_available:void 0)&&(e=un(e,{personalCredits:n.credit_pack_agreement.credits_available||0})),(null!=n.royalty_free_subscription_agreements?n.royalty_free_subscription_agreements.length:void 0)>0){var i=n.royalty_free_subscription_agreements[0];if(null!=i.download_count&&null!=i.download_limit&&null!=i.name){var r=function(e){var t=e.name||"",n=e.download_count||0,i=e.download_limit||0;return{isSignature:F.isSignature(t),isEssentials:F.isEssentials(t),downloadedCount:n,downloadLimit:i,downloadsRemaining:i-n,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(i);e=vi(e,r)}}return e=function(e){if(!(e.asset.freeFile||e.calc.redownloadForFree||e.userDetails.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||m(e))){var t=e.calc.assetIsVideo,n=function(e){return Ut.premiumVideoEnabled(e)&&t}(e)&&!e.showVideoPnp?Kn.getSubscriptionPricingRoute(t):Kn.getPricingRoute(t);e=e.set("redirectToUrl",n)}return e}(e)},Ei=function(e,t){return e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload})},Ci={};Ci[E.INITIALIZE]=Cn,Ci[E.GO_TO_BEGINNING]=sn,Ci[E.CANCEL_AND_BACK_TO_BEGINING]=ln,Ci[E.SELECT_ASSET_SIZE]=Qe,Ci[E.SET_CTA_IN_PROGRESS]=De,Ci[E.GO_TO_NEXT_STEP]=gi,Ci[E.SET_AGREEMENTS]=Ke,Ci[E.SET_TOASTER]=Pe,Ci[E.SET_BUY_AND_BURN_DOWNLOAD]=Ei,Ci[E.SELECT_AGREEMENT_TYPE]=$e,Ci[E.SET_LICENSES]=In,Ci[E.GO_TO_FREE_ADMIN_DOWNLOAD]=vn,Ci[E.CHECK_LICENSE]=mn,Ci[E.SET_AVAILABLE_CREDITS]=un,Ci[E.GO_TO_COMPLETE_DOWNLOAD]=pn,Ci[E.GO_TO_COMPLETE_REDOWNLOAD]=fn,Ci[E.SET_SELECTED_ACCOUNT]=et,Ci[E.SET_MINI_PNP_OPEN]=dn,Ci[E.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=yn,Ci[E.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=wi,Ci[E.SET_DISPLAY_ERROR]=Oe,Ci[E.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=Tn,Ci[E.REDIRECT_TO_URL]=bn,Ci[E.SET_DOWNLOAD_DATA]=tt,Ci[E.SELECT_ACCOUNT_STEP]=ct,Ci[E.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=_n,Object.freeze(Ci);var yi=function(e,t){void 0===e&&(e=V);var n=Ci[t.type];return n?n(e,t):e};function bi(e,t){return e}var Ii=(0,Ne.H)({agreements:bi,asset:bi,buyCardData:bi,calc:bi,categories:bi,displayError:bi,downloadData:bi,editable:bi,isAiEditable:bi,keywordsView:bi,licenses:bi,metaTags:bi,redirectToUrl:bi,mobileSimplification:bi,subscription:Se,userDetails:bi,postDownloadOnboarding:Ae,showVideoPnp:bi,searchPhrase:bi,searchScope:bi,versionCount:bi}),Ti=function(e,t){return void 0===e&&(e=V),e=yi(e,t),e=Ii(e,t)},Ni=(n(45967),n(74848)),Si=function(e,t){var n=function(e){return Object.assign({},e,{asset:P.formatAsset(e.asset),userDetails:G.formatUser(e.userDetails),preferredDownloadSize:P.getPreferredSize(e.buyCardData.preferences),preferredEpsDownloadSize:P.getEpsPreferredSize(e.buyCardData.preferences)})}(t),i=n.asset,r=n.userDetails,a=n.preferredDownloadSize,o=n.preferredEpsDownloadSize,s=n.localePhoneNumber,c=n.buyCardData,l=n.categories,d=n.editable,u=n.isAiEditable,_=n.keywordsView,p=n.metaTags,f=n.mobileSimplification,h=n.showVideoPnp,m=n.searchPhrase,g=n.searchScope,v=n.versionCount,w=n.hasAvailableCredits;e.dispatch(Te.initializeDataStep(i,r,a,o,s,c,l,d,u,_,p,f,h,m,g,v,w))},xi=function(e){var t=e.payload,n=e.children,i=e.testRecorder,r=I(Ti,V);return i&&(i.getState=function(){return r.getState()}),Si(r,t),(0,Ni.jsx)(c.Kq,{store:r,children:n})};xi.defaultProps={testRecorder:null};var Ai=xi,Oi=n(66143),Di=n(42030),Pi=n(59656),ji=n(49368),ki=n(20740),Ri=n(11480),Li=n(56223),Fi=function(){var e=(0,c.d4)((function(e){return e.asset}));(0,i.useEffect)((function(){var t;"image"===e.assetType&&((t=(t=JSON.parse(localStorage.getItem("search.assetsViewedData"))||[]).filter((function(t){return t.id!==e.assetId}))).length>=100&&t.pop(),t.unshift({id:e.assetId,width:e.assetDimensions.width,height:e.assetDimensions.width,deliveryUrl:e.thumb612Url}),localStorage.setItem("search.assetsViewedData",JSON.stringify(t)))}),[])},Ui=n(47950),Mi=n(42810),Bi=n(77478),Gi=n(75838),Wi=n(64422),zi=n(17188),Hi=n(38327),Vi=n(5109),Yi=n(93223),Ki=n(6780),Ji=n(32485),Qi=n.n(Ji),qi="gW7HFfb7Cin1PoIVRY3Q",Zi="LcswaaqKmLnYFfq7WfUk",Xi="wp3ztbULtfmWKUPyugTp",$i="peHGEkbrpbJ7Y2woV2HA",er=n(19456),tr=n(97632),nr=n(26773),ir=function(){var e=(0,er.c)(),t=(0,c.d4)((function(e){return e.asset.isImage})),n=(0,c.d4)((function(e){return e.buyCardData.orderId})),r=(0,c.d4)((function(e){return e.userDetails.subscription_upgrade})),a=(0,tr.F)().cleanPath("/account"),o=e(r?"subscription_was_upgraded":"asset_purchase_thank_you"),s=(0,i.useMemo)((function(){var i=t?"image":"video",o=r&&!n?e("image_purchase_locate_upgrade_perb"):e(i+"_purchase_locate",{zero:n,links:[a]}),s=[e(i+"_purchase_desired_size"),e(i+"_purchase_download"),o];return(0,Ni.jsx)("ol",{"data-testid":"thank-you-"+i+"-steps",children:s.map((function(e,t){return 2!==t?(0,Ni.jsx)("li",{children:e},e):(0,Ni.jsx)("li",{children:(0,Ni.jsx)(nr.A,{children:e})},e)}))})}),[t,n,r]);return(0,Ni.jsxs)("div",{className:"confirmation-text",children:[(0,Ni.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:o}),s,n&&(0,Ni.jsx)("p",{className:$i,"data-testid":"invoice",children:(0,Ni.jsx)(nr.A,{children:e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:[a]})})})]})},rr=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],r=t?Zi:"",a=function(e){"Enter"===e.key&&n(!0)};return(0,Ni.jsxs)("section",{className:"inline-purchase "+r,id:qi,children:[(0,Ni.jsxs)("div",{className:Xi,children:[(0,Ni.jsx)("div",{className:"close-button",id:"close-inline-purchase",onClick:function(){return n(!0)},onKeyPress:a,role:"button",tabIndex:0}),(0,Ni.jsx)(ir,{})]}),t?null:(0,Ni.jsx)("div",{className:"grey-out",onClick:function(){return n(!0)},onKeyPress:a,role:"button",tabIndex:0})]})},ar=(n(54824),n(96045)),or="O7jjO1OCGh06gTa27jGT",sr="ow0qGZRKCM7uQ_J7776T",cr="g5wSC_AVt_E9HjViAQuN",lr=function(e){var t=e.asset,n=e.show,i=e.closeModal,r=e.trackClick,a=(0,Gi.A)().watermarkedAlteredImageUrl,o={zoomedImageUrl:t.zoomedImageUrl,zoomedWebPUrl:t.zoomedWebPUrl},s=(0,c.d4)((function(e){return e.metaTags.seoAlt})),l=(0,c.d4)((function(e){return e.metaTags.seoImageTitle})),d=function(e){"Enter"!==e.key&&"Escape"!==e.key||i()},u=a||o.zoomedImageUrl,_=a?"cropped-img":"img";return n?(0,Ni.jsxs)("div",{role:"button",tabIndex:0,onClick:i,onKeyPress:d,className:or,children:[(0,Ni.jsx)("div",{role:"button",tabIndex:0,onKeyPress:r,onClick:r,onContextMenu:r,children:(0,Ni.jsx)("img",{id:"zoom-image","data-testid":_,src:u,alt:s,title:l,className:sr})}),(0,Ni.jsx)("div",{role:"button",tabIndex:0,className:cr,onClick:i,onKeyPress:d,children:(0,Ni.jsx)(ar.A,{})})]}):null};lr.defaultProps={closeModal:function(){},trackClick:function(){}};var dr=lr,ur=n(60666),_r=n(30094),pr=n(78849),fr=n(28418),hr=n(23468),mr=n(10232),gr="wlKPaIRRuGtLQ4k_LRRk",vr=function(e){var t=e.showLoadingErrorMessage,n=e.showErrorMessage,i=e.handleLoadingErrorDismissal,r=e.handleDismissal,a=(0,er.c)(),o=(0,Ni.jsx)(hr.A,{text:a("saved_modifications_couldnt_load_try_again"),handleDismissal:i}),s=(0,Ni.jsx)(mr.A,{text:a("background_removal_an_error_occurred"),Icon:ar.A,handleDismissal:r});return(0,Ni.jsxs)("div",{className:gr,children:[t&&o,n&&s]})},wr=n(183),Er=function(){var e=(0,c.d4)((function(e){return e.asset})),t=(0,c.d4)((function(e){return e.metaTags.seoAlt})),r=(0,c.d4)((function(e){return e.metaTags.seoFilmAlt})),a=(0,c.d4)((function(e){return e.metaTags.seoImageTitle})),o=e.assetDimensions.width,s=e.assetDimensions.height,l=e.galleryComp1024Url,d=e.galleryHighResCompUrl;return(0,i.useEffect)((function(){var e,t,i,a;document.querySelector("body").classList.add("vr-asset"),function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}()&&(e=document.querySelector(".vr-image"),t=e.getAttribute("height"),i=e.getAttribute("width"),(a=document.createElement("div")).classList.add("viewer_360_image"),a.setAttribute("data-testid","panorama-image"),a.setAttribute("style","height: "+t+"px; width: "+i+"px"),a.id="panorama-image",a.alt=r,e.replaceWith(a),n.e(945).then(n.t.bind(n,15940,23)).then((function(){return window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:l,panorama:d})})))}),[]),(0,Ni.jsx)("section",{className:"preview "+(e.is360Image&&"viewer-360-container"),children:(0,Ni.jsx)("img",{className:"vr-image viewer_360_image",width:o,height:s,src:l,alt:t,title:a,"data-preview":l,"data-ratio":e.ratio,"data-alt":r,style:{maxWidth:o,maxHeight:s}})})},Cr=n(51338),yr=n(19560),br=n(30282),Ir=n(91770),Tr=n(24702),Nr=n(3881),Sr=n(70388),xr=["styles"];function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(null,arguments)}var Or=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,xr);return r().createElement("svg",Ar({"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M12.472 14.488c-2.995 1.103-6.312-.463-7.396-3.493h.023l2.702-1.002-3.018-1.826-2.374-1.435-.258-.154L0 12.863l2.608-.96c1.588 4.405 6.406 6.682 10.767 5.075a8.386 8.386 0 003.774-2.799l-2.567-1.05a5.749 5.749 0 01-2.11 1.359zM7.625 1.016a8.333 8.333 0 00-3.774 2.793L6.418 4.87a5.75 5.75 0 012.11-1.358c2.995-1.103 6.306.463 7.396 3.493h-.023l-2.702 1.002 3.018 1.826 2.374 1.435.258.154L21 5.131l-2.608.96C16.804 1.687 11.986-.59 7.625 1.017z",fill:"#0C0D0D"}))},Dr=n(92463),Pr=n(35413),jr=n(11081),kr=n(97182),Rr=n(97396),Lr="AGfhrofv8p3H8ScXLUrp",Fr="nNer6mASpD0jeJHW3FnX",Ur="vW5coxBKRPGBITscIvaS",Mr="lfioeko9DzxwGEgLOFB1",Br=function(e){var t=e.open,n=e.onReset,i=e.onClose,r=(0,Rr.I)();return(0,Ni.jsxs)(Dr.A,{open:t,onClose:i,rootProps:{className:Lr},children:[(0,Ni.jsx)(Pr.Ay,{heading:r("want_to_reset_image"),handleClose:i,headingProps:{className:Fr}}),(0,Ni.jsx)(kr.Ay,{component:kr.QY.P,variant:kr.PT.body.medium,className:Ur,children:r("lose_changes_return_to_original")}),(0,Ni.jsx)(jr.A,{className:Mr,primaryButtonProps:{children:r("yes_reset"),onClick:function(e){n(),i(e)}},secondaryButtonProps:{children:r("cancel"),onClick:i}})]})},Gr=Br;Br.defaultProps={open:!1,onReset:function(){},onClose:function(){}};var Wr="Gps0EhBfk59LuChvqHUe";function zr(){zr=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function Hr(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var Vr=function(e){var t=e.assetId,n=e.className,r=(0,Tr.A)(),a=r.setImageFlipX,o=r.setZoomLevel,s=r.setTopRotate,c=r.setBottomRotate,l=r.setActivePresetAndRatio,d=r.setCropRatio,u=r.defaultPreset,_=(0,Gi.A)(),p=_.setEditDetails,f=_.setWatermarkedAlteredImageUrl,h=_.setImageIsEdited,m=(0,Nr.A)().resetBackgroundRemoved,g=(0,i.useState)(!1),v=g[0],w=g[1],E=(0,er.c)(),C=function(){var e,n=(e=zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(0),o(0),l(u),s(0),a(!1),d(void 0),h(!1),p(void 0),f(void 0),m(),e.next=12,(0,Sr.A)({assetId:t,editDetails:{},backgroundRemoved:!1});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Hr(a,i,r,o,s,"next",e)}function s(e){Hr(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)(Ir.Ay,{onClick:function(e){e.stopPropagation(),w(!0)},variant:Ir.Jr.HOLLOW,className:Qi()(Wr,n),"data-testid":"edit-reset-badge",children:[(0,Ni.jsx)(Or,{}),E("reset")]}),(0,Ni.jsx)(Gr,{open:v,onReset:C,onClose:function(e){e.stopPropagation(),w(!1)}})]})};Vr.defaultProps={className:""};var Yr=Vr,Kr=["styles"];function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jr.apply(null,arguments)}var Qr=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Kr);return r().createElement("svg",Jr({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14",fill:"none"},t),r().createElement("path",{d:"M2.846 6.99c-.715 0-1.296-.564-1.296-1.257a.084.084 0 00-.085-.082.082.082 0 00-.084.082C1.38 6.426.8 6.99.085 6.99A.084.084 0 000 7.072c0 .046.037.082.085.082.715 0 1.296.564 1.296 1.257 0 .044.037.082.084.082a.082.082 0 00.085-.082c0-.693.581-1.257 1.296-1.257a.084.084 0 00.085-.082.082.082 0 00-.085-.082zM11.928 10.912a1.858 1.858 0 01-1.856-1.856.072.072 0 00-.144 0 1.858 1.858 0 01-1.856 1.856.073.073 0 00-.072.072c0 .04.031.072.072.072 1.024 0 1.856.833 1.856 1.856 0 .04.032.072.072.072.04 0 .072-.031.072-.072 0-1.023.832-1.856 1.856-1.856a.072.072 0 00.072-.072.071.071 0 00-.072-.072zM6.633 3.19c-1.208 0-2.19-.953-2.19-2.124A.084.084 0 004.36.984a.082.082 0 00-.085.082c0 1.171-.982 2.124-2.19 2.124A.085.085 0 002 3.273c0 .044.037.082.085.082 1.207 0 2.189.953 2.189 2.124 0 .046.037.082.085.082a.082.082 0 00.085-.082c0-1.17.981-2.124 2.189-2.124a.084.084 0 00.085-.082.082.082 0 00-.085-.083zM11.745 4.58a.59.59 0 000-.836l-1.05-1.05a.59.59 0 00-.836 0L8.77 3.778l1.886 1.886m-9.067 5.301l-.171 2.051 2.056-.165 6.554-6.56L8.14 4.407l-6.553 6.56z",fill:"#fff"}))},qr="QwCl_CsEGWcEPq8Ha5q9",Zr=function(e){var t=e.versionCount,n=(0,er.c)(),i=1===t?n("version_one"):n("versions_multiple",{version_count:t});return(0,Ni.jsxs)("div",{className:qr,"data-testid":"modifications-available-badge",children:[(0,Ni.jsx)(Qr,{}),(0,Ni.jsx)("span",{children:i})]})},Xr="UcU8ureQnpvZvSsFIQQo",$r="nd6A5E548WVOVWXWYAxO",ea="wMgLANQ4KzDt3pL5JYIX",ta="_StJSx0EdFAmrG6JvZo7",na="mMKfHQUsRgcOswIcHIaA",ia=function(e){var t=e.asset,n=t.assetId,r=t.mainImageUrl,a=t.mainWebPUrl,o=t.defaultMainImageURL,s=t.defaultMainWebPURL,l=t.largeMainImageURL,d=t.largeMainWebPURL,u=e.trackClick,_=e.toggleModal,p=e.imageEditorToolAvailable,f=(0,c.d4)((function(e){return e.metaTags.seoImageTitle})),h=(0,c.d4)((function(e){return e.metaTags.seoImageTitle})),m=(0,i.useState)(!!a),g=m[0],v=m[1],w=(0,c.d4)((function(e){return e.versionCount})),E=(0,Gi.A)().watermarkedAlteredImageUrl,C=(0,Wi.A)(),y=C.setShowLoadingOverlay,b=C.setShowLoadingModificationState,I=C.showLoadingModificationState,T=(0,i.useRef)(),N=(0,yr.useExperience)("AIGenPreShotMerchandising"),S=N.isActive()&&N.isOfferActive("expA");(0,br.A)({assetId:n,imageEditorToolAvailable:p});var x=function(){u(),_()},A=(0,i.useCallback)((function(){y(!1),b(!1)}),[y,b]);(0,i.useEffect)((function(){var e=T.current;return e.addEventListener("load",A),function(){null!==E&&e.removeEventListener("load",A)}}),[E,A]);var O=!!E&&(0,Ni.jsx)(Yr,{className:ea,assetId:n}),D=S&&w&&w>0?(0,Ni.jsx)(Zr,{versionCount:w}):null;return(0,Ni.jsxs)("div",{role:"button","data-testid":"imageCard",tabIndex:0,onClick:x,onKeyPress:function(e){"Enter"===e.key&&x()},onContextMenu:function(){u(),v(!1)},className:Qi()(Xr,I&&na),children:[(0,Ni.jsxs)("div",{className:ta,children:[(0,Ni.jsxs)("picture",{"data-testid":"hero-picture",className:$r,children:[(0,Ni.jsxs)(Ni.Fragment,{children:[E?(0,Ni.jsx)("source",{srcSet:E,type:"image/png","data-testid":"cropped-image"}):null,g&&!E&&(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("source",{srcSet:a,media:"(max-width: 1100px)",type:"image/webp"}),(0,Ni.jsx)("source",{srcSet:s,media:"(max-width: 1530px)",type:"image/webp"}),(0,Ni.jsx)("source",{srcSet:d,type:"image/webp"})]}),(0,Ni.jsx)("source",{srcSet:r,media:"(max-width: 1100px)",type:"image/jpeg"}),(0,Ni.jsx)("source",{srcSet:o,media:"(max-width: 1530px)",type:"image/jpeg"}),(0,Ni.jsx)("source",{srcSet:l,type:"image/jpeg"})]}),(0,Ni.jsx)("img",{"data-testid":"image-asset",src:o,alt:h,title:f,style:{maxHeight:668,maxWidth:"100%",objectFit:"scale-down",width:"auto",height:"auto"},fetchpriority:"high",ref:T})]}),D]}),O]})};ia.defaultProps={trackClick:function(){}};var ra=ia,aa=n(12032),oa="ldJ0mz8r6T2R_LThLWr6",sa="QTyASGPMnJ4POb6oU1Af",ca="dMuK98MJmDy67rN26W2Z",la=function(e){var t=e.asset,n=t.filmCompUrl,r=t.orientation,a=t.actualMaxDimensions,o=a.width,s=a.height,l=t.filmPreviewDimensions,d=l.width,u=l.height,_=(0,c.d4)((function(e){return e.metaTags.seoImageTitle})),p=(0,i.useMemo)((function(){return(0,aa.r)(d,u,o,s,r)}),[d,u,o,s,r]);return(0,Ni.jsx)("div",{className:oa,style:{maxWidth:p.maxWidth},children:(0,Ni.jsx)("div",{className:sa,style:{paddingBottom:p.paddingTop},children:(0,Ni.jsx)("video",{"data-testid":"video-asset",className:ca,src:n,alt:_,controls:"controls",controlsList:"nodownload",autoPlay:!0,loop:!0})})})},da=function(e){var t=e.asset,n=e.trackClick,i=e.toggleModal,r=t.isImage,a=t.is360Image,o=(0,Cr.A)(t);return a?(0,Ni.jsx)(Er,{}):r?(0,Ni.jsx)(ra,{asset:t,trackClick:n,toggleModal:i,imageEditorToolAvailable:o}):(0,Ni.jsx)(la,{asset:t})};da.defaultProps={trackClick:function(){}};var ua=da,_a=["styles"];function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pa.apply(null,arguments)}var fa=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,_a);return r().createElement("svg",pa({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),r().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"}))},ha=n(47585),ma="YiNp6dCG6jKbroaAQizq",ga="grPu5hBCNNNGZ9kT07oh",va="GNQT5my0fjBNGJibx49k",wa="CLKcR06MeB6QZKn5kKCE",Ea="DmWOvctQRnwPbcdFnRhM",Ca="AAime6IsRoZeZI_puk4x",ya="_tt5W_xAaiYqJia95F5J",ba=function(e){var t=e.show,n=e.toggleModal,i=(0,er.c)();return t?(0,Ni.jsx)(ha.A,{className:wa,"data-testid":"zoom-in-overlay",onClick:n,ariaLabel:i("zoom"),children:(0,Ni.jsx)("span",{children:(0,Ni.jsx)(fa,{})})}):null};ba.defaultProps={show:null};var Ia=ba,Ta=n(95030),Na=n(68616),Sa=n(78780),xa=n(88354),Aa=n(45753),Oa=n(85620),Da=n(76880),Pa=n(91091),ja=function(e,t){void 0===t&&(t={});try{window.combinedGtmTracking.gtmPushTracking(e,t)}catch(e){}},ka="iuUSOOQ8NxtLiV0v_0p3",Ra=function(){return(0,Ni.jsx)("div",{"data-testid":"onboarding-overlay",className:ka})},La=n(54942),Fa=function(){var e;window.tracking_data&&(window.tracking_data.merchandising_units=["adp_tools_panel_post_download_intro"]),null==(e=window.combinedGtmTracking)||e.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Shown",merch_unit_selection:"adp_tools_panel_post_download_intro-shown",ui_element_location:"adp_tools_panel_top_overlay"})},Ua=n(55268);function Ma(){Ma=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function Ba(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function Ga(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Ba(a,i,r,o,s,"next",e)}function s(e){Ba(a,i,r,o,s,"throw",e)}o(void 0)}))}}var Wa=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.calc.selectedAgreement}));return Ga(Ma().mark((function n(){var i;return Ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("RoyaltyFreeSubscription"===(null==t?void 0:t.type)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Ua.A)("post_download_onboarding_client");case 5:i=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return");case 11:e(Te.showPostDownloadOnboarding()),Fa(),i.dismiss();case 14:case"end":return n.stop()}}),n,null,[[2,8]])})))},za=function(){var e=(0,c.wA)();return function(){var t;e(Te.hidePostDownloadOnboarding()),null==(t=window.combinedGtmTracking)||t.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-close",ui_element_location:"adp_tools_panel_top_overlay"})}},Ha="Xc9NMt5yrBJcz13LFAFb",Va="tn2gkaUMkKAPIaiN87up",Ya="hxGvbGjfTMDGrPSLg8ZE",Ka="rMGpQv6630Y5ZaxZ8Uz7",Ja="EUqkhY00_WqNk6OAlLgR",Qa=function(e){var t=e.src,n=e.thumbnailSrc,r=e.alt,a=(0,i.useState)(!1),o=a[0],s=a[1];return(0,Ni.jsxs)("div",{className:Ha,children:[(0,Ni.jsx)("video",{"data-testid":"video",className:Qi()(Va,o?Ka:Ja),autoPlay:!0,loop:!0,src:t,onLoadedData:function(){return s(!0)}}),(0,Ni.jsx)("img",{"data-testid":"thumbnail",className:Qi()(Va,Ya,o?Ja:Ka),src:n,alt:r})]})},qa=n.p+"static/post-download-onboarding-thumbnail-b24582a54bb3ac2018b9.png",Za="r5dzD3s8qBdl0JZfyIpK",Xa="mkoqypVVYf0QbADac_gM",$a="DjqO9t8jvFF5nES4UEhC",eo="CgOl4IqyeBmyrorOp1uq",to="Mn348R8IuK_Y1yvvohFc",no=["KO","NL","PL","PT-BR","PT-PT","RO","RU","SV","TH","TR","UK","VI","ZH-HK","CS","DE","EN-US","ES","FI","FR","HU","ID","IT","JA"],io=function(e){var t=e.children,n=(0,er.c)(),i=(0,La.Y)(),r=za(),a=function(e){var t=e.toUpperCase();return no.includes(t)?"https://static.istockphoto.com/display-sets/istock/adp/"+t+".mp4":"https://static.istockphoto.com/display-sets/istock/adp/EN-US.mp4"}(i);return(0,Ni.jsxs)("div",{"data-testid":"post-download-onboarding",className:Za,children:[t,(0,Ni.jsxs)("div",{className:Xa,children:[(0,Ni.jsx)(ar.A,{"data-testid":"close-icon",className:to,onClick:r}),(0,Ni.jsx)("div",{className:$a,children:n("save_content_to_boards")}),(0,Ni.jsx)(Qa,{src:a,thumbnailSrc:qa,alt:n("save_your_favorite_images_and_videos")}),(0,Ni.jsx)("div",{className:eo,children:n("save_your_favorite_images_and_videos")})]})]})},ro=n(81812),ao=n(13694),oo=["styles"];function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},so.apply(null,arguments)}var co=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,oo);return r().createElement("svg",so({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16.1",height:"16.2"},t),r().createElement("path",{fill:"#353838",d:"M16.1 7.4H8.8V.1H7.3v7.3H0v1.5h7.3v7.3h1.5V8.9h7.3z"}))},lo=["styles"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uo.apply(null,arguments)}var _o=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,lo);return r().createElement("svg",uo({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),r().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),r().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"}))},po=n(21200),fo=n(68282),ho=function(e){var t=e.assetIsInBoard,n=(0,er.c)();return t?(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("div",{className:fo.A.boardsActive,children:[(0,Ni.jsx)(po.A,{}),n("saved")]}),(0,Ni.jsxs)("div",{className:fo.A.boardsRemove,children:[(0,Ni.jsx)(_o,{}),n("remove")]})]}):(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)(co,{})," ",n("save")]})};ho.defaultProps={assetIsInBoard:null};var mo=ho,go=function(e){var t,n=e.children,i=e.onClick,r=e.greenBorder,a=e.assetModificationIsActive,o=e.testid,s=e.disabled;return(0,Ni.jsx)("button",{"data-testid":o,onClick:i,type:"button",className:Qi()((t={},t[fo.A.button]=!a,t[fo.A.removeBackgroundButton]=a,t[fo.A.button__greenBorder]=r,t)),disabled:s,children:n})};go.defaultProps={greenBorder:!1,assetModificationIsActive:!1,onClick:function(){},testid:"button",disabled:!1};var vo=go,wo=function(e){var t=e.asset,n=(0,o.bH)(),i=n.boards,r=n.toggleAsset,a=(0,Pa._k)().addToaster,s=i.isAssetInBoard(t),l=(0,Li.Z)(),d=(0,c.d4)((function(e){return e.postDownloadOnboarding})),u="adp_tools_panel_top",p=(0,Na.A)(t),f=function(){if(s){var e=(0,ro.A)({ui_element_location:u,board_interaction:"remove_single_asset_from_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,_.C)(e),ja("removeFromBoard",{removedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:u}),l.sendBoardItemRemovedSignal(t,i.defaultBoard.id)}else{var n=(0,ao.A)({ui_element_location:u,board_interaction:"add_to_existing_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,_.C)(n),ja("addToBoard",{addedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:u}),l.sendAssetAddedToBoardSignal(t,i.defaultBoard.id)}var c;d&&(null==(c=window.combinedGtmTracking)||c.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-clicked",ui_element_location:"adp_tools_panel_top_overlay"})),r(s?"remove_assets":"add_assets",i.defaultBoard.id,t.id),a((0,Ni.jsx)(o.FW,{uiLocation:u,theme:"istock",asset:t}))},h=(0,Ni.jsxs)(vo,{disabled:!i.defaultBoard,onClick:function(){f()},greenBorder:d,assetModificationIsActive:p,testid:"boards-button",children:[(0,Ni.jsx)("div",{className:fo.A.boardsTooltip,children:(0,Ni.jsx)(o.MS,{uiLocation:u,theme:"istock",asset:t,modal:(0,Ni.jsx)(o.ho,{uiLocation:u,theme:"istock",asset:t})})}),(0,Ni.jsx)(mo,{assetIsInBoard:i.isAssetInBoard(t)})]});return d?(0,Ni.jsx)(io,{children:h}):h},Eo=n(37081),Co=n(10284),yo=n(36653),bo=n(39020),Io=n(68510),To=n(66600),No={container:"Dqs20PpUHyfeUwA7ohm3",header:"ed44G7C6JFYw4GiJK0Pg",footer:"pby3pmwl6sptMWcsw0Xw",body:"v42us1KBxb3U2AcQYmQb",checkbox:"P5mCMOMaN04Atu8vsEzi"},So=function(e){var t=e.downloadLink,n=e.trackDownload,r=e.isFilm,a=e.type,o=e.typeCap,s=e.asset,c=e.open,l=e.onClose,d=(0,i.useState)(!1),u=d[0],p=d[1],f=(0,er.c)(),h=(0,Gi.A)().watermarkedAlteredImageUrl,m={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Shown",adp_selection:"ADP_Preview_"+o,ui_element_location:a+"_adp_modal"}},g=function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Dismiss",adp_selection:"ADP_Preview_"+o,ui_element_location:a+"_adp_modal_X"}},t=(0,To.A)({event:"close_modal",modal_content:"preview_"+a,modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"preview_"+a+"_close"});(0,_.u)(e,t),l()};return(0,i.useEffect)((function(){(0,_.u)(m,null)}),[]),(0,Ni.jsxs)(Dr.A,{open:c,onClose:g,rootProps:{className:No.container},"data-testid":"preview-modal-container",children:[(0,Ni.jsx)(Pr.Ay,{heading:f(r?"try_this_clip":"try_this_image"),handleClose:g,headingProps:{className:No.headier}}),(0,Ni.jsx)(kr.Ay,{component:kr.QY.P,variant:kr.PT.body.medium,className:No.body,children:f(r?"try_this_clip_disclaimer":"try_this_image_disclaimer")}),(0,Ni.jsx)(Io.A,{checked:u,onClick:function(){var e;e=!u,localStorage.setItem("assetDetail.hidePreviewLicense",e),p(!u)},className:No.checkboxInput,label:f("download_workflow.dont_show_message")}),(0,Ni.jsx)(jr.A,{className:No.footer,primaryButtonProps:{children:f("download"),onClick:function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Button_Click",adp_selection:"ADP_Preview_"+o,ui_element_location:a+"_adp_modal"}},i=(0,ee.A)({asset_details:{asset_id:null==s?void 0:s.id,asset_type:null==s?void 0:s.assetType,asset_family:null==s?void 0:s.assetFamily},download_method:"comp"}),r=!!h;(0,yo.hC)(t,null==s?void 0:s.id,r),(0,_.u)(e,i),n(a+"_adp_modal"),l()}},secondaryButtonProps:{children:f("cancel"),onClick:function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Dismiss",adp_selection:"ADP_Preview_"+o,ui_element_location:a+"_adp_modal_CTA"}},t=(0,To.A)({event:"close_modal",modal_content:"preview_"+a,modal_type:"detailed_modal_with_cta",cta_text:"cancel",ui_element_location:"modal_cta",modal_selection:"preview_"+a+"_cancel"});(0,_.u)(e,t),l()}}})]})},xo=["styles"];function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ao.apply(null,arguments)}var Oo=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,xo);return r().createElement("svg",Ao({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("g",{clipPath:"url(.preview-icon)",fill:"#353838"},r().createElement("path",{d:"M15.71 12.15v2.91H1.5v-2.91H0v4.41h17.21v-4.41zM13.6 6.33l-1.06-1.06-3.18 3.18V0h-1.5v8.61L4.68 5.43 3.62 6.5l4.9 4.9z"})))},Do=function(e){var t=e.asset,n=e.userDetails,r=(0,er.c)(),a=(0,Li.Z)(),o=(0,Gi.A)().watermarkedAlteredImageUrl,s=(0,Wi.A)(),c=s.showLoadingModificationState,l=s.showLoadingOverlay,d="film"===t.assetType,u=d?"video":"image",p=d?"Video":"Image",f=(0,Na.A)(t),h=(0,Eo.A)(),m=(0,i.useState)(!1),g=m[0],v=m[1],w=c||l,E=t.defaultMainImageURL?(0,yo.m1)(t.defaultMainImageURL):null,C=(0,yo.vh)({asset:t,watermarkedAlteredImage:o,compUrl:E}),y=function(e){var i=d?(0,bo.Gy)(n):(0,bo.Uk)(n),r={name:"download",payload:Object.assign({ui_element_location:e},i)};(0,_.u)(r,null),a.sendAssetCompDownloadedSignal(t)};return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)(vo,{onClick:function(){var e=(0,Co.A)({cta_interaction:"preview_asset_cta_clicked",cta_text:"try",cta_url:C,ui_element_location:h}),t=null;"true"===localStorage.getItem("assetDetail.hidePreviewLicense")?(y("video_adp_tools_panel"),(0,yo.hC)(C)):(t={name:"adpInteraction",payload:{adp_interaction:p+"_ADP_Preview_Comp_Button_Click",adp_selection:"ADP_Preview_"+p,ui_element_location:u+"_adp_tools_panel_top"}},v(!0)),(0,_.u)(t,e)},testid:"preview-button",assetModificationIsActive:f,disabled:w,children:[(0,Ni.jsx)(Oo,{}),r("try")]}),g?(0,Ni.jsx)(So,{downloadLink:C,trackDownload:y,isFilm:d,type:u,typeCap:p,asset:t,open:g,onClose:function(){return v(!1)}}):null]})},Po=["styles"];function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jo.apply(null,arguments)}var ko=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Po);return r().createElement("svg",jo({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16.443 16.132",fill:"#353838"},i),r().createElement("path",{className:n.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),r().createElement("path",{className:n.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zm-.322 10.679H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}))},Ro=function(e){var t=e.show,n=e.url,i=e.asset,r=(0,er.c)(),a=(0,Na.A)(i),o=(0,Eo.A)();return t?(0,Ni.jsxs)(vo,{onClick:function(){var e,t,i;t={name:"adpInteraction",payload:{adp_interaction:"Image_ADP_Editor_Link_Click",adp_selection:null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"adp_tools_panel_top"}},i=(0,Co.A)({cta_interaction:"edit_image_cta_clicked",cta_text:"edit",cta_url:n,ui_element_location:o}),(0,_.u)(t,i),window.open(n)},assetModificationIsActive:a,children:[(0,Ni.jsx)(ko,{}),r("edit")]}):null};Ro.defaultProps={show:null,url:""};var Lo=Ro,Fo=n(36288),Uo=n(8693),Mo=n(29946),Bo=function(e){var t=e.isOpen,n=e.close;return(0,Ni.jsx)(Mo.A,{isOpen:t,close:n,children:"Tooltip content: AiRemoveBackgroundButton"})},Go=n(72558),Wo={container:"HFuRc2Gdna9I5hw5UPfg",selectedButton:"xMHWCDVxLFAuZ6QlBQ81",buttonSmallFont:"LHokT8yWFvtqgAR0GMEs"},zo={container:"G90WglaCre4fhMRQv_yJ",selectedButton:"mmFHfiHQflr5WLOQwYsQ",buttonSmallFont:"GIszhPFqE46a_PFtzitq"},Ho=function(e){var t,n=e.isTooltipOpen,i=e.setIsTooltipOpen,r=(0,er.c)(),a=(0,Uo.Z)(),o=(0,tr.F)(),s=a.isGetty()?zo:Wo,c=["nl","fi"].includes(o.locale),l=Qi()(((t={})[fo.A.button]=a.isIstock(),t[Go.A.generalButton]=a.isGetty(),t[s.selectedButton]=n,t[s.buttonSmallFont]=c,t));return(0,Ni.jsxs)("div",{className:s.container,children:[(0,Ni.jsx)("button",{className:l,onClick:function(){return i(!0)},"data-testid":"ai-remove-background-button",type:"button",children:(0,Ni.jsx)("span",{children:r("remove_background")})}),(0,Ni.jsx)(Bo,{close:function(){return i(!1)},isOpen:n})]})},Vo=(0,Ta.A)((function(e){var t=e.asset,n=e.userDetails,r=(0,i.useState)(null),a=r[0],o=r[1],s=(0,tr.F)(),l=t.assetId,d=(0,Na.A)(t),u=(0,c.d4)((function(e){return e.editable})),_=(0,c.d4)((function(e){return e.userDetails.price_book})),p=(0,Nr.A)().backgroundRemoved?Da.A:Oa.A,f=(0,c.d4)((function(e){return e.isAiEditable})),h=(0,yr.useExperience)("AIGenPreShotMerchandising"),m=(0,yr.useExperience)("AIGenBackgroundRemovalMerchandising"),g=(0,yr.useExperience)("AIGenBackgroundRemoval"),v=(0,c.d4)((function(e){return e.userDetails.has_ai_generations})),w=h.isActive()&&h.isOfferActive("expA")&&f,E=m.isActive()&&g.isActive()&&f,C=d||w?fo.A.backgroundRemovalContainer:fo.A.container,y=(0,Cr.A)(t),b=u?(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)(Sa.A,{asset:t}),(0,Ni.jsx)(xa.A,{assetId:l})]}):null,I=(0,Ni.jsx)(Lo,{show:u,url:s.editImagePath(l),asset:Object.assign({id:l},t)}),T=y?b:I,N=w?(0,Ni.jsx)(Fo.A,{asset:t,hasAIGenerations:v,priceBook:_,isTooltipOpen:"ModifyWithAi"===a,setIsTooltipOpen:function(e){return o(e?"ModifyWithAi":null)}}):null,S=E?(0,Ni.jsx)(Ho,{isTooltipOpen:"AiRemoveBackground"===a,setIsTooltipOpen:function(e){return o(e?"AiRemoveBackground":null)}}):null,x=d?(0,Ni.jsx)("div",{className:fo.A.backgroundRemovalContainer,children:(0,Ni.jsx)(Aa.A,{Icon:p,asset:t})}):null,A=(0,Ni.jsxs)("div",{className:fo.A.aiButtons,children:[x,S,N]});return(0,Ni.jsxs)("div",{className:C,"data-testid":"actions-container",children:[(0,Ni.jsxs)("div",{className:fo.A.defaultActions,children:[(0,Ni.jsx)(wo,{asset:Object.assign({id:l},t)}),(0,Ni.jsx)(Do,{asset:Object.assign({id:l},t),userDetails:n}),T]}),A]})}),"tools_panel_top"),Yo=function(e){var t=e.caption;return(0,Ni.jsx)("figcaption",{className:ya,"data-testid":"figcaption",children:t})};Yo.defaultProps={caption:""};var Ko=Yo,Jo=function(){return{categoriesLink:function(e){te.categoriesLink(e)},singleDownload:function(e,t){(window.tracking_data||{}).download_type="comp download",te.singleDownload(e,t)},setZoomStatus:function(e){(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:function(e){return null==window.combinedGtmTracking?null:window.combinedGtmTracking.setUIElementLocation(e)},setAssetDetailTrackingData:function(e,t){var n=window.tracking_data||{};n.asset_details||(n.asset_details={}),n.asset_details[e]=t},setTrackingDataElement:function(e,t){(window.tracking_data||{})[e]=t}}},Qo=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],r=Jo(),a=function(){t?(n(!1),r.setZoomStatus(void 0),document.querySelector("body").classList.remove("modal-visible")):(n(!0),r.setZoomStatus("zoom"),document.querySelector("body").classList.add("modal-visible"))},o=function(e){t&&"Escape"===e.key&&a()};return(0,i.useEffect)((function(){return window.addEventListener("keyup",o),function(){window.removeEventListener("keyup",o)}}),[t]),{open:t,toggleModal:a,sendDownloadCompTracking:function(){var e,t=(0,ee.A)({asset_details:null==(e=window.tracking_data)?void 0:e.asset_details,download_method:"comp",is_eps:!1});(0,_.C)(t),r.singleDownload("comp")}}},qo=function(e){var t,n=e.asset,a=e.userDetails,o=e.handleDismissal,s=e.showEditor,l=e.showErrorMessage,d=e.showLoadingErrorMessage,u=e.handleLoadingErrorDismissal,_=(0,ur.A)(),p=_.toggleFeedbackModal,f=_.showFeedbackBanner,h=(0,zi.A)().showImageEditor,m=(0,Wi.A)().showLoadingModificationState,g=n.isImage,v=n.is360Image,w=n.isFilm,E=n.experiences,C=Qo(g,E),y=C.open,b=C.toggleModal,I=C.sendDownloadCompTracking,T=(0,c.d4)((function(e){return e.postDownloadOnboarding})),N=(0,c.d4)((function(e){return e.metaTags.seoFigCaption})),S=f&&(g&&s&&!l),x=r().useRef(null),A=(0,i.useState)({width:0,height:0}),O=A[0],D=A[1],P=(0,_r.A)().backgroundRemoved?"background_removal_in_progress":"background_restore_in_progress";(0,i.useEffect)((function(){x.current&&D({width:x.current.offsetWidth,height:x.current.offsetHeight})}),[]);var j=Qi()(ga,S&&Ea),k=Qi()(va,((t={})[Ca]="Horizontal"===n.orientation,t));return h?(0,Ni.jsx)(pr.A,{imagePath:n.galleryHighResCompUrl,assetId:n.assetId,initialDimensions:O}):(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("section",{className:Qi()(ma,w?k:j),"data-testid":"asset-card",ref:x,children:[T&&(0,Ni.jsx)(Ra,{}),(0,Ni.jsx)(vr,{showLoadingErrorMessage:d,showErrorMessage:l,handleLoadingErrorDismissal:u,handleDismissal:o}),(0,Ni.jsx)(Vo,{asset:n,userDetails:a}),(0,Ni.jsx)(dr,{asset:n,show:y,closeModal:b,trackClick:I}),(0,Ni.jsxs)("figure",{role:"figure",children:[(0,Ni.jsx)(ua,{asset:n,trackClick:I,toggleModal:b}),(0,Ni.jsx)(Ko,{caption:N}),!m&&(0,Ni.jsx)(Ia,{show:g&&!v,toggleModal:function(){return b()}}),m&&(0,Ni.jsx)(fr.A,{loadingText:P})]})]}),S&&(0,Ni.jsx)(wr.A,{setShowFeedbackModal:p})]})},Zo=(0,i.memo)(qo),Xo=function(e){var t=e.descriptionContent,n=e.editorialImage,i=(0,er.c)(),r=(0,c.d4)((function(e){return e.mobileSimplification})),a=(0,La.Y)(),o=t&&t.match(/[^\x00-\x7F]+/g),s=["ko","vi"].includes(a),l=o&&o.length>0;return!s||l?n?(0,Ni.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:t}):t?(0,Ni.jsx)("section",{className:"description "+(r?"simplification-test-margin":""),children:(0,Ni.jsxs)("div",{className:"section-content",children:[r?(0,Ni.jsx)("p",{className:"description-header",children:i("file_description")}):(0,Ni.jsx)("h2",{children:i("file_description")}),(0,Ni.jsx)("p",{"data-testid":"description-content",children:t})]})}):null:null},$o=Xo;Xo.defaultProps={descriptionContent:null};var es=n(54365),ts={searchBar:"Tfz2TGD82STf7R6UpfPc"},ns=(0,es.A)("search_bar","./SearchBar"),is=function(){var e=function(e,t){return{options:{hideOnScroll:!0,mobileMediaFilter:!0,peekyScroll:!0},searchParameters:{assettype:t||e.assetType,assetfiletype:e.isVector?"eps":null,family:e.assetFamily}}}((0,c.d4)((function(e){return e.asset})),(0,c.d4)((function(e){return e.searchScope}))),t=(0,Ri.Jd)(),n=(0,Uo.Z)();return(0,Ni.jsx)("div",{className:ts.headerSearchBar,children:(0,Ni.jsx)(ns,{config:e,user:t,siteName:n.nickname,locale:t.locale})})},rs=n(21609),as="UoALWQ90Q3abTzfxHYA4",os="kiF1ERA25iBulfkeA2RH",ss=function(e){var t=e.show,n=(0,er.c)();return t?(0,Ni.jsx)("div",{className:as,"data-testid":"istock-exclusive",children:(0,Ni.jsx)("span",{className:os,children:n("only_from_istock")})}):null},cs="U0QAixDdezN2ssj131uy",ls="x8wPOfs4tCJPGjn4Qkbo",ds="xK0cpH1ZT3qYtRbvkl99",us="Bez0nq4IPLfbrOzuvZZE",_s="Ah4WgIQNM_jGg7mlwBZ0",ps="pJvS4Uw7WV6omszWW76f",fs=function(e){var t,n=e.show,i=e.keywords;return n?(0,Ni.jsx)("div",{className:ds,children:n&&(0,Ni.jsx)("h2",{"data-testid":"keywords",children:(t=i,t.slice(0,5).map((function(e){return e.text})).join(", "))})}):null},hs=function(e){var t=e.asset,n=(0,er.c)(),r=t.title,a=t.keywords,o=t.isImage,s=t.isIllustration,c=t.isFilm,l=t.isIstockExclusive,d=t.filmDefinition,u=(0,i.useState)(!1),_=u[0],p=u[1],f=(0,rs.h)(n,d);return(0,Ni.jsxs)("section",{className:cs,"data-testid":"asset-title",children:[(0,Ni.jsxs)("div",{className:us,children:[l&&(0,Ni.jsx)("div",{className:ps,"data-testid":t.assetId,children:(0,Ni.jsx)(ss,{show:l})}),(0,Ni.jsxs)(kr.Ay,{component:kr.QY.H1,variant:kr.PT.body.large,"data-asset-id":t.assetId,className:_s,children:[r?s?n("attributes.seo_title_illustrations",{title:r}):o?n("attributes.seo_title_photos",{title:r}):c?n("seo_film_title",{title:r,film_definition:f}):r:"",!_&&(0,Ni.jsx)("button",{type:"button",className:ls,title:n("see_full_title"),onClick:function(){return p(!0)},children:(0,Ni.jsx)("span",{children:"..."})})]})]}),(0,Ni.jsx)(fs,{show:_,keywords:a})]})},ms=n(76167),gs="pdg7g3UG49eFBtbMMdZw",vs="eEOt6ZGqipFaNm2I3TDc",ws="qCXzjdeh_ml_vY5fqTVQ",Es="P8J2KpxsMpYv4bU0urGP",Cs="Bx9VgqugdY7mJ3NiMBPl",ys="R5LqjvYFPXqMWgYhXQvA",bs="CEdBaudkkfTLYIVfna6j",Is="vMo8CFNGGdoAizNcsh0D",Ts="Ai49p8ZFP9vKspDuA8Ar",Ns=function(e){var t=e.category,n=(0,Li.Z)();return(0,Ni.jsx)("a",{onClick:function(){var e={name:"adpInteraction",payload:{ui_element_location:"category_pill_adp",adp_interaction:"ADP_Category_Browse_Click",adp_selection:t.text}},i=(0,ms.j)({event_name:"search_by_category",search_selection:t.text,ui_element_location:"category_list"});(0,_.u)(e,i),n.sendAdpCategoryBrowseClickSignal()},className:Is,"data-testid":"categoryPill",href:t.href,itemType:"http://schema.org/relatedLink",children:t.text})},Ss=function(){var e,t=(0,c.d4)((function(e){var t;return null==(t=e.categories)||null==(t=t.categoriesView)||null==(t=t.matchingInspirePages)||null==(t=t._tail)?void 0:t.array}))||[],n=(0,c.d4)((function(e){return e.categories.isKeywordsTestAboveSeries})),i=(0,c.d4)((function(e){var t;return null==(t=e.categories)?void 0:t.showRelated}))||!1,r=(0,c.d4)((function(e){var t;return null==(t=e.categories)||null==(t=t.relatedCategories)||null==(t=t._tail)?void 0:t.array}))||[],a=(0,c.d4)((function(e){return e.asset})),o=(0,er.c)(),s=i?[].concat(t,r):t,l=0===s.length?[]:s.map((function(e){return(0,Ni.jsx)("li",{className:bs,children:(0,Ni.jsx)(Ns,{category:e})},e.text)})),d=function(){return n?Ts:""};return l.length>0?(0,Ni.jsx)("section",{className:Qi()(gs,d()),"data-testid":"inspire-page-list",children:(0,Ni.jsxs)("div",{className:Qi()(Es,d(),(e={},e[vs]=a.isImage,e[ws]=a.isFilm,e)),children:[(0,Ni.jsx)("h2",{className:Cs,children:o("categories_no_colon")}),(0,Ni.jsx)("ul",{className:ys,children:l})]})}):null},xs=function(e){var t=e.errorType,n=(0,er.c)();return t?(0,Ni.jsx)("section",{className:"error",children:(0,Ni.jsx)("div",{className:"error-bar",children:(0,Ni.jsx)("span",{children:n("download_failed")})})}):null};xs.defaultProps={errorType:null};var As=xs,Os=n(40333),Ds=n(65975),Ps="ov7hidRfj6r17Xo7kOum",js="O5qkceU1kn1uYV6Mm03A",ks="n8gnpe9sVSlKqgA_16qm",Rs="zmTx1zA9omVOPG4h0sP2",Ls="YeOmFF70dJQ0KqaLlzN1",Fs="XoqGbbLH7NbLfbQSyVFs",Us="uxSwFOww6uMkAE3ycR35",Ms="d8jDIwL6fQGL6g5Pa7pb",Bs="nPIzDdpXYYh0blbGv1Pg",Gs="F4h4tj92VxhM6ZFT1J2Z",Ws=function(e){var t=e.keyword,n=(0,er.c)(),i=(0,Os.m)(),r=(0,Ri.Jd)(),a=(0,Ds.Cz)(),o=(0,c.d4)((function(e){return e.asset.assetType})),s=(0,c.d4)((function(e){return e.asset.mediaType})),l=n("photos"),d=null;"film"===o&&(l=n("videos")),"illustration"!==s&&"photo_and_illustration"!==s||(l=n("illustrations"),d="illustration");var u=t.text.replace(l,"").trim(),p={assettype:o,phrase:u,mediatype:d},f=a.seoSearchPath(p);return(0,Ni.jsxs)("a",{onClick:function(){i.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"});var e={name:"adpInteraction",payload:{ui_element_location:"keyword_button_adp",search_type:"keyword-browse",adp_interaction:"ADP_Keyword_Browse_Click",adp_selection:u}},t=(0,ms.j)({event_name:"search_by_keyword",search_selection:u,ui_element_location:"keyword_list"});(0,_.u)(e,t)},className:Ms,href:f,"data-search-bot":r.isBot?"Bot":"NotBot","data-search-link":"film"===o?"FilmKeywordLink":"KeywordLink",itemType:"http://schema.org/relatedLink",children:[t.text,(0,Ni.jsx)("span",{className:Bs,children:","})]})},zs=function(){var e,t,n=(0,er.c)(),r=(0,c.d4)((function(e){return e.keywordsView})),a=r?null==r||null==(e=r.list)?void 0:e.toArray():[],o=(0,i.useState)(!1),s=o[0],l=o[1],d=(0,c.d4)((function(e){return e.asset})),u=function(e){"Enter"===e.key&&l(!0)};return a.length>0?(0,Ni.jsx)("section",{className:Ps,"data-testid":"keyword-list",children:(0,Ni.jsxs)("div",{className:Qi()(Rs,(t={},t[js]=d.isImage,t[ks]=d.isFilm,t)),children:[(0,Ni.jsx)("h2",{className:Ls,children:n("keywords")}),(0,Ni.jsx)("ul",{className:Fs,children:function(){if(0===a.length)return[];var e=a.map((function(e,t){var n=(0,Ni.jsx)("li",{className:Us,children:(0,Ni.jsx)(Ws,{keyword:e})},e.text);return!s&&t>=18?null:n}));if(!s){var t=(0,Ni.jsx)("li",{className:Us,children:(0,Ni.jsx)("div",{"data-testid":"show-all-button",role:"button",tabIndex:0,className:Gs,onKeyPress:u,onClick:function(){return l(!0)},children:n("see_all_keywords")})},"show-all");e.push(t)}return e}()})]})}):null},Hs=n(92518),Vs="f9aaG6PqBGm15lt0zhS4",Ys="Qy1Q9JW1QHFAUwgwD9Fq",Ks="azxlQqzbRECAOMCrIiR4",Js="vFAy5w684KCLQQzgVz_d",Qs="hqcXtEwQxyYK4SihvtMI",qs="qjVPniXhZIZgddFIswnK",Zs="FGGm7tPf4ZjbykwRd2QU",Xs="QzTsMClEiL1JbmP3GFci",$s="JOIvcAEOMKEcZUQ45C9U",ec="nfx40gwvPmIGqFhbpuxN",tc="Rixk6XimcuoPryIUe2hM",nc="rjYS_O606BS_7EhsmDUX",ic=function(){var e,t=(0,er.c)(),n=(0,Ri.Jd)(),i=(0,tr.F)(),r=(0,Ds.Cz)(),a=(0,c.d4)((function(e){return e.asset.keywords})),o=(0,c.d4)((function(e){return e.asset.assetType})),s=(0,c.d4)((function(e){return e.asset.category})),l=(0,c.d4)((function(e){return e.asset.mediaType})),d=null==a||null==(e=a.first())?void 0:e.text,u={assettype:o,phrase:d};"illustration"===l&&(u.mediatype=l);var _,p="<a href="+r.searchPath(u)+">"+d+"</a>",f=a.size>0?t("rf_licenses_features",{keyword_link:p}):t("rf_licenses_features_no_link"),h=t("rf_licenses_best_option",{links:[{href:i.photos()},{href:i.illustrations()},{href:i.video()}]}),m=a.size>0?t("rf_possibilities",{keyword_link:p}):t("rf_possibilities_no_link"),g={links:[{href:i.royaltyFreeImages()},{href:i.faqUsingFiles(s)}]},v=t(function(e){switch(e){case Hs.A.ILLUSTRATIONS:return"learn_more_about_faq_illustrations";case Hs.A.VIDEOS:return"learn_more_about_faq_videos";default:return"learn_more_about_faq_photos"}}(s),g);return n.isBot||n.isFirstTimeVisitor?(0,Ni.jsx)("section",{className:Vs,children:(0,Ni.jsx)("div",{className:Qi()(Js,(_={},_[Ys]="image"===o,_[Ks]="film"===o,_)),children:(0,Ni.jsxs)("div",{className:Qs,children:[(0,Ni.jsx)("h2",{className:qs,children:t("frequently_asked_questions_capitalized")}),(0,Ni.jsx)("hr",{className:Zs}),(0,Ni.jsxs)("dl",{className:ec,children:[(0,Ni.jsx)("dt",{className:tc,children:t("what_is_a_rf_license")}),(0,Ni.jsx)("dd",{className:nc,children:(0,Ni.jsx)(nr.A,{children:f})}),(0,Ni.jsx)("dt",{className:tc,children:t("what_kinds_rf_files_istock")}),(0,Ni.jsx)("dd",{className:nc,children:(0,Ni.jsx)(nr.A,{children:h})}),(0,Ni.jsx)("dt",{className:tc,children:t("how_to_use_rf_assets")}),(0,Ni.jsx)("dd",{className:nc,children:(0,Ni.jsx)(nr.A,{children:m})})]}),(0,Ni.jsx)("hr",{className:Xs}),(0,Ni.jsx)("p",{className:$s,children:(0,Ni.jsx)(nr.A,{children:v})})]})})}):null},rc=n(8005);function ac(){ac=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function oc(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function sc(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){oc(a,i,r,o,s,"next",e)}function s(e){oc(a,i,r,o,s,"throw",e)}o(void 0)}))}}var cc=function(e,t){return e.filter((function(e){return e.id!==t}))},lc=function(e){return e.map((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t(n)},n.onerror=function(){t()},n.src=e.thumb612Url||e.thumbUrl}))}))},dc=function(e){return Promise.all(e).then((function(e){return e.filter((function(e){return e}))}))};function uc(){return(uc=sc(ac().mark((function e(t){var n,i,r,a,o,s;return ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=rc.A.appendQueryParamsToString("/asset-detail/mosaics/visual-search",t),e.next=4,N().get(n,{headers:{Accept:"application/json"}});case 4:return i=e.sent,r=cc(i.data.assets,t.id),a=lc(r),o=dc(a),e.next=10,o;case 10:return s=e.sent.map((function(e,t){return Object.assign({},r[t],{image:e.src})})),e.abrupt("return",{assets:s,totalNumberOfResults:i.data.totalNumberOfResults});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function _c(e){return pc.apply(this,arguments)}function pc(){return(pc=sc(ac().mark((function e(t){var n,i,r,a,o;return ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N().get("/asset-detail/mosaics/get-stack/"+t.stackId+"?assettype="+t.assettype+"&pagesize="+t.pagesize,{headers:{Accept:"application/json"}});case 3:return n=e.sent,i=cc(n.data.assets,t.id),r=lc(i),a=dc(r),e.next=9,a;case 9:return o=e.sent.slice(0,t.pagesize-1).map((function(e,t){return Object.assign({},i[t],{image:e.src})})),e.abrupt("return",{assets:o,totalNumberOfResults:n.data.totalNumberOfResults});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var fc=n(88997),hc=n(48906),mc=function(e,t,n,i){void 0===i&&(i=void 0);var r={name:"adpInteraction",payload:{adp_interaction:"mosaic_grid "+t,adp_selection:i?n+" "+i:n}};(0,_.u)(r,e)},gc=function(e,t,n){e.sendItemSelectedSignal("subfold",n,"view_all_grid"),t.prepareEvent("search",{ui_element_location:"view_all_"+n+"_overlay_adp"});var i=(0,ms.j)({event_name:"search_"+n,search_selection:"view_all_asset_overlay_cta",ui_element_location:"mosaic_grid"});mc(i,"view_all_overlay_click",n)},vc=function(e,t,n,i,r){var a,o,s,c=null!=(a=t.assetId)?a:t.id,l=(0,ms.j)({event_name:i+"_click",search_selection:c,ui_element_location:"mosaic_grid",search_grid_slot_number:n}),d=(0,hc.A)({asset_interaction:"select_asset",asset_id:c,asset_type:"film"===t.assetType?"video":"image",asset_family:t.assetFamily,istock_collection:t.istockCollection,search_grid_slot_number:n,ui_element_location:r});o=d,void 0===s&&(s=null),(0,_.u)(s,o),mc(l,"click",i,n),e.sendItemSelectedSignal("subfold",i,c)},wc={placeholderHeight:"aLEuO4fxsjJa5wvHUfPX"},Ec=n(37091),Cc=(0,fc._h)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,37091))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),yc=(0,Ta.A)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,r=(0,er.c)(),a=(0,Li.Z)(),o=(0,Os.m)(),s=(0,c.d4)((function(e){return e.asset})),l=(0,i.useState)(null),d=l[0],u=l[1],_=(0,i.useState)(null),p=_[0],f=_[1],h=(0,c.d4)((function(e){return e.categories.isBelowTheFoldH2Test})),m=s.stackId||s.assetId;(0,i.useEffect)((function(){var e={id:s.assetId,stackId:m,assettype:"image",pagesize:5},i={id:s.assetId,stackId:m,assettype:"film",pagesize:5},r=!0;return s.isImage&&e.stackId&&(t(),_c(e).then((function(e){r&&(u(e),e.assets.length>0?n("same_series_images"):n(null))}))),s.isFilm&&i.stackId&&(t(),_c(i).then((function(e){r&&(f(e),e.assets.length>0?n("same_series_videos"):n(null))}))),function(){r=!1}}),[]);var g=function(e){return{trackViewAllOverlay:function(){gc(a,o,e)},trackAssetClick:function(t,n,i){vc(a,t,n,e,i)}}};return(0,Ni.jsxs)(Ni.Fragment,{children:[s.isFilm?(0,Ni.jsx)(Cc,{data:p,containerStyles:wc,header:r("same_series_videos"),linkText:r("view_all_video_clips"),viewAllUrl:"/search/stack/"+m+"?assettype=film",overlayText:r("videos"),tracking:g("same_series_videos"),inGridCount:4,gridType:Ec.MOSAIC_GRID_TYPES.SINGLE_ROW,isH2Header:h}):null,s.isImage?(0,Ni.jsx)(Cc,{data:d,isImage:s.isImage,containerStyles:wc,header:r("same_series_images"),linkText:r("view_all_photos"),viewAllUrl:"/search/stack/"+m+"?assettype=image",overlayText:r("photos"),tracking:g("same_series_images"),inGridCount:4,gridType:Ec.MOSAIC_GRID_TYPES.SINGLE_ROW,isH2Header:h}):null]})}),"similar_series"),bc={placeholderHeight:"dyci2fKWjtOQxtrC3X46"},Ic=(0,fc._h)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,37091))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),Tc=(0,Ta.A)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,r=(0,er.c)(),a=(0,Li.Z)(),o=(0,Os.m)(),s=(0,Ds.Cz)(),l=(0,c.d4)((function(e){return e.asset})),d=l.assetId,u=l.assetType,_=l.mediaType,p=l.isImage,f=(0,c.d4)((function(e){return e.searchPhrase})),h=(0,c.d4)((function(e){return e.searchScope})),m=(0,i.useState)(null),g=m[0],v=m[1],w=(0,c.d4)((function(e){return e.categories.isBelowTheFoldH2Test})),E=(0,c.d4)((function(e){return e.categories.isAssetTitlesBelowTilesTest}));(0,i.useEffect)((function(){var e={assetid:d,assettype:u,mediatype:_};f&&"image"===u&&(e.phrase=f);var i=!0;return t(),function(e){return uc.apply(this,arguments)}(e).then((function(e){if(i){v(e);var t=p?"similar_images":"similar_videos";(null==e?void 0:e.assets.length)>0?n(t):n(null)}})),function(){i=!1}}),[]);var C=function(e){return{trackViewAll:function(){!function(e,t,n){e.sendItemSelectedSignal("subfold",n,"view_all"),t.prepareEvent("search",{ui_element_location:"view_all_"+n+"_adp"});var i=(0,ms.j)({event_name:"search_"+n,search_selection:"view_all_cta",ui_element_location:"mosaic_grid"});mc(i,"view_all_click",n)}(a,o,e)},trackViewAllOverlay:function(){gc(a,o,e)},trackAssetClick:function(t,n,i){vc(a,t,n,e,i)}}};return(0,Ni.jsx)(Ic,{data:g,isImage:p,containerStyles:bc,header:r(p?"similar_images":"similar_films"),linkText:r(p?"view_all_photos":"view_all_video_clips"),viewAllUrl:s.searchByAssetPath({assetid:d,assettype:u}),overlayText:r(p?"similar_images":"similar_films"),tracking:C(p?"similar_images":"similar_videos"),inGridCount:30,gridType:Ec.MOSAIC_GRID_TYPES.MULTI_ROW,searchScope:h,showAssetTitles:E,isH2Header:w})}),"similar_assets"),Nc="cDB0XfdgBlHwrSf1wGRq",Sc=function(){var e=(0,i.useState)([]),t=e[0],n=e[1],r=(0,i.useState)(0),a=r[0],o=r[1],s=function(){o((function(e){return e+1}))},c=function(e){n((function(t){return[].concat(t,[e])}))};return(0,i.useEffect)((function(){if(a>0&&t.length===a){var e=t.filter((function(e){return null!==e})).join(",");n=e,i=(0,ms.j)({event_name:"search_grid_shown",search_selection:n,ui_element_location:"mosaic_grid"}),mc(i,"shown",n)}var n,i}),[t]),(0,Ni.jsxs)("section",{className:Nc,children:[(0,Ni.jsx)(yc,{increaseGridCounter:s,addTrackedGrid:c}),(0,Ni.jsx)(Tc,{increaseGridCounter:s,addTrackedGrid:c})]})},xc=n(68087),Ac={};Ac[p.expired]=Dc((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Renew_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_expired_message"})})),Ac[p.paused]=Dc((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_CTA_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_paused_message"})})),Ac[p.suspended]=Dc((function(e){e.can_unsuspend&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Unsuspend_Subscription_Notification_CTA_Click",account_selection:"adp_unsuspend_subscription_message",sku:e.sku,ui_element_location:window.tracking_data.page_name})}));var Oc=function(e){};function Dc(e){return function(t){if(t)switch(t.name){case g.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case g.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:return e}return Oc}}var Pc=function(e,t,n,i){var r;(void 0===n&&(n=!0),void 0===i&&(i=null),"checkout"===t)?r=n?"?":"&":r=e.search(/\?/)<0?"?":"&";return e+=r+(i?"fastcheckoutasset="+i:"in-pricing-clarity=true"),window.siteMap.cleanRelativePath(e)},jc={getPricingUrl:function(e,t){return void 0===t&&(t=!0),Pc(e,"pricing",t)},getCheckoutUrl:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=null),Pc(e,"checkout",t,n)}},kc=n(28057),Rc=n(46131),Lc=n(85295),Fc=n(95142),Uc=n(62102),Mc=function(){var e=(0,Eo.A)(),t=(0,Uc.A)().trackModifications,n=(0,c.d4)((function(e){return e.calc.selectedAssetSize})),i=(0,c.d4)((function(e){return e.calc.step.name})),r=(0,c.d4)((function(e){return e.calc.step.ctaAction})),a=(0,c.d4)((function(e){return e.calc.step.ctaTitle})),o=(0,c.d4)((function(e){return e.calc.step.triggerTracking})),s=(0,c.d4)((function(e){return e.calc.step.pricingOption})),l=(0,c.d4)((function(e){return e.buyCardData.pricingClarityPacks})),d=null==l?void 0:l[s],u=(0,c.d4)((function(e){return e.asset})),p=u.assetId,f=u.assetType,h=u.assetFamily,m=u.category,v=u.freeFile,w=(0,c.d4)((function(e){return e.calc.selectedAccount===ue.TEAM})),E=(0,c.d4)((function(e){return e.userDetails.team_leader})),C=(0,c.d4)((function(e){return e.userDetails.team_member})),y=(0,c.d4)((function(e){return e.calc.step.upsellData})),b=(0,c.d4)((function(e){return e.userDetails.currency_code})),I=(0,c.d4)((function(e){return e.calc.redownloadForFree})),T=function(t){var n,i,r,a;if(void 0===t&&(t=null),a=t===(null==y||null==(n=y.product_one)?void 0:n.sku)?y.product_one:t===(null==y||null==(i=y.product_two)?void 0:i.sku)?y.product_two:d){var o=Object.assign({},a.toJS(),{location_id:e}),s=(0,kc.A)({products:[o],download_flow:"fast_checkout_option",ui_element_location:e,billing_currency:b||a.currency_code,price:null==(r=a.final_price)?void 0:r.amount});(0,_.u)(null,s)}};return{track:function(){t();var a=null,s=null;switch(r){case at.INITIATE_DOWNLOAD:a=(0,Co.A)({cta_selection:v?"start_free_download":"start_paid_download",cta_text:"Download this image",cta_url:void 0,download_flow:"no_checkout_option",ui_element_location:e});break;case at.HANDLE_ACCOUNT_SELECTION:a=(0,Rc.A)({event_name:"choose_account",member_interaction:"choose_account",member_selection:w?"team_account":"personal_account",ui_element_location:e});break;case at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:s={name:"merchUnitInteraction",payload:{merch_unit_interaction:"Shown",merch_unit_selection:"free_trial_sub_mobile-cta",ui_element_location:"free_trial_sub_mobile_cta"}},a=(0,Lc.A)({event_name:"view_promotion",notification_description:"free_trial_sub",ui_element_location:"mobile_cta",item_id:"SUBISTOCKPREM10AF",creative_name:"mobile_cta",item_name:"istock_free_trial_subscription",item_category:"subscription"});break;case at.CREATE_DOWNLOAD:a=(0,Fc.A)({asset_details:{asset_id:p,asset_type:f,asset_family:h,asset_category:m,asset_size:n.name},download_selection:I?"redownload":v?"free_download":"paid_download",account_type:E?"leader":C?"team_member":"individual",download_flow:"download_confirm",ui_element_location:i===g.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP?"download_actions_licenses":"download_actions"});break;case at.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:case at.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:case at.REDIRECT_TO_CHECKOUT:T()}(0,_.u)(s,a),o&&o()},trackCheckoutProduct:T,preserveAdpToPnpLegacyTracking:function(e){"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point",e)},trackPlansAndPricingCtaClick:function(t){var n=(0,Co.A)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_selection:"view_plans_and_pricing",cta_text:a,cta_url:t,download_flow:"pnp_checkout_option",ui_element_location:e});(0,_.u)(null,n)}}},Bc=function(){var e=(0,er.c)(),t=(0,tr.F)(),n=Mc(),r=(0,c.wA)(),a=(0,c.d4)((function(e){return e.redirectToUrl})),o=(0,c.d4)((function(e){return e.calc.isInPricingClarity})),s=(0,c.d4)((function(e){return e.calc.assetIsVideo})),l=(0,c.d4)((function(e){return e.calc.hasAvailableCredits})),d=(0,c.d4)((function(e){return e.calc.step.name})),u=(0,c.d4)((function(e){return e.calc.step.pricingOption})),_=(0,c.d4)((function(e){return e.calc.step.showPricingClarity})),p=(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection})),f=(0,c.d4)((function(e){return e.userDetails.fast_checkout_subs_pack_sku})),h=(0,c.d4)((function(e){return e.userDetails.fast_checkout_subs_annual_pack_sku})),m=(0,c.d4)((function(e){return e.userDetails.istock_fast_checkout_larger_offer_credit_pack_sku})),g=(0,c.d4)((function(e){return e.userDetails.free_trial_premium_route})),v=(0,c.d4)((function(e){return e.userDetails.premium_video_subscription_enabled})),w=(0,c.d4)((function(e){return e.userDetails.standard_asset_credit_pack})),E=(0,c.d4)((function(e){return e.userDetails.country_code})),C=(0,c.d4)((function(e){return e.userDetails.has_subscription})),y=(0,c.d4)((function(e){return e.asset.assetId})),b=(0,c.d4)((function(e){return e.buyCardData.mubRedirectUrl})),I=(0,c.d4)((function(e){return e.buyCardData.basicSelfServeUpgrade})),T=(0,c.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade})),N=(0,c.d4)((function(e){return e.buyCardData.basicVolumeSelfUpgrade})),S=(0,yr.useExperience)("PnpVideoFocusTest"),x=function(n){if(n===b||n.includes("sign-in"))return n;var i="/"+e(n);return function(n){return/(.*)JS translation missing(.*)/.test(n)?t.cleanPath(e("urls.plans_and_pricing")):n}(t.cleanPath(i))},A=function(){return S.isActive()&&s?(e=x(a),rc.A.appendQueryParamsToString(e,{videofocus:!0})):x(a);var e},O=function(e){return window.location.href=e};(0,i.useEffect)((function(){a&&O(A())}),[a]);var D=function(){return u===ht.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?m:w.product_sku},P=function(){return o&&_&&!p},j=function(){return x(Kn.annualSelfUpgradeRoute)},k=function(e){var t="/purchase/subscriptions/"+e+"?upgrade=true";return jc.getCheckoutUrl(t,!1,y)},R=function(){return x(Kn.pnpCreditsRoute)};return{redirectToPricing:function(){u===ht.PRICING_OPTION_PRICING&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===d&&n.preserveAdpToPnpLegacyTracking("adp-subscription");var e=x(Kn.getPricingRoute(s));return P()&&!v?e=jc.getPricingUrl(e):S.isActive()&&"TestA"===S.activeOffer()&&s&&!l&&!C?e=x(Kn.videoPnpRoute):I.eligible||T.eligible||N.eligible?e=R():!s&&Ut.inGeoLocPricingTest(E)&&(e=x(Kn.defaultPnpRoute)),S.isActive()&&s&&!l&&!C?e=rc.A.appendQueryParamsToString(e,{videofocus:!0}):s&&l&&!C&&(e=x(Kn.videoPnpSubsRoute)),n.trackPlansAndPricingCtaClick(e),O(e)},redirectToFastCheckoutWithSubscription:function(){var e="/purchase/subscriptions/"+f;return e=jc.getCheckoutUrl(e,!0,y),O(e)},pnpCreditsUrl:R,fastCheckoutWithUpgradeUrl:k,redirectToFastCheckoutWithUpgrade:function(e){var t=k(e);return n.trackCheckoutProduct(e),O(t)},redirectToFastCheckoutWithAnnualPack:function(){var e="/purchase/subscriptions/"+h;return e=jc.getCheckoutUrl(e,!0,y),O(e)},redirectToCheckout:function(){var e,t=D();return n.preserveAdpToPnpLegacyTracking("adp-creditPack"),e="/purchase/credits/"+t,P()&&(e=jc.getCheckoutUrl(e,!0,y)),O(e)},redirectToCheckoutWithFreeTrial:function(){return O(g?t.addFreeTrial({premium:!0,ftsfastcheckout:!0}):t.addFreeTrial({ftsfastcheckout:!0}))},handleAccountSelection:function(){return r(Te.goToNextStep())},redirectToCreditPacks:function(){var e=Kn.getCreditsPricingRoute(s),t=x(e);return O(t)},translateCleanAndValidatePath:x,redirectToFastCheckout:function(){var e="/purchase/credits/"+D()+"?asset_type=film";return e=jc.getCheckoutUrl(e,!1,y),O(e)},redirectToUrlFromState:function(){O(A())},redirectToPPVUpgradeContactUs:function(){O("/customer-support/upgrade")},selfServeUpgradeUrl:j,redirectToSelfServeUpgrade:function(){return O(j())},basicVolumeUpgradeRedirectUrl:function(){return window.siteMap.cleanRelativePath("/plans-and-pricing/self-serve")+"?target=volume&assetcarryingpnp=true"},upgradePlanRedirectUrl:function(){return window.siteMap.cleanRelativePath("/plans-and-pricing/self-serve")+"?target=premium&assetcarryingpnp=true"}}},Gc=["styles"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wc.apply(null,arguments)}var zc=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Gc);return r().createElement("svg",Wc({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),r().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}))},Hc="s7zJ6flazXeb0i1UtVug",Vc="YpbZgjd7r4dFQ5htn7BP",Yc="MT19e4f4g7osxjGa14ce",Kc="KW3Kdz6_SS6SmSmR7bul",Jc="nvLTNVscW2f7ZO2VzdSQ",Qc=["styles"];function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qc.apply(null,arguments)}var Zc=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Qc);return r().createElement("svg",qc({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#666E6E"}),r().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"}))},Xc=n(72827),$c="e4wiKtVSGO_8Jm8QnhHl",el="aiBo2I8GKiFYKvA1MS3w",tl="dHYSF5dr9VZc4DurQWPN",nl="IOvPEbM1g30GyUL4pXD4",il="QKxLIZgNOzKPzIPrhX_Y",rl="ERyIVRSgtC1MXTTeboU6",al="sbHky8ZLIEpFcKZvtRQl",ol="zjAhVEAOetjA2NRWwVIg",sl="Pz6NQQghsn_UJ_dpKKzd",cl="ceQbTDLlCsDJV1l1OKbn",ll=(0,Ta.A)((function(e){var t,n,i,r,a,o=e.onReasonForWarningClick,s=e.handleReasonForWarningClick,l=e.handleAdditionalInfoWarningClick,d=e.handleAdditionalInfoWarningKeyDown,u=e.warningCtaClicked,_=(0,er.c)(),p=(0,La.Y)(),f=(0,c.wA)(),h=(0,c.d4)((function(e){return e.calc.step.reasonForBox})),m=(0,c.d4)((function(e){return e.calc.step.warningCta})),g=(0,c.d4)((function(e){return e.userDetails})),v=(0,c.d4)((function(e){return e.calc.step.persistentWarning})),w=(0,c.d4)((function(e){return e.calc.step.premiumVideoEnabled})),E=(0,c.d4)((function(e){return e.calc.step.userHasAnnualSubscription})),C=(0,c.d4)((function(e){return e.calc.step.reasonForBoxLink})),y=(0,c.d4)((function(e){return e.calc.step.additionalInfoHtml})),b=Bc().translateCleanAndValidatePath,I=function(){f(Te.closeDownloadErrorMessage())};return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("section",{className:$c,children:[!v&&(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper "+el,"data-testid":"warning-box-close",children:(0,Ni.jsx)("div",{role:"button",tabIndex:0,className:"adp-confirm-close-btn",onClick:I,onKeyDown:function(e){"Enter"===e.key&&I()}})}),(0,Ni.jsx)("div",{className:Yc,children:(0,Ni.jsxs)("div",{role:"button",tabIndex:0,onClick:o,onKeyDown:s,className:"title "+il,"data-testid":"reason-for-warning",children:[(0,Ni.jsx)("div",{className:tl+" "+(E?nl:""),children:(0,Ni.jsx)(Zc,{className:Jc})}),(0,Ni.jsx)("div",{children:(0,Ni.jsx)(nr.A,{children:(a={},C&&(a.links=[{href:b(C),id:"reason-for-warning"}]),_(w?E?"video_not_available_with_annual_subscription_test_group":"video_not_available_with_monthly_subscription_test_group":h,a))})})]})})]}),(0,Ni.jsx)("section",{className:sl,"data-testid":"warning-box",children:(0,Ni.jsxs)("div",{className:"download-box "+cl,"data-testid":"warning-box-warning",children:[(0,Ni.jsx)("div",{className:"warning-message "+ol,"data-testid":"warning-message",onClick:l,onKeyDown:d,children:(0,Ni.jsxs)("div",{children:[(0,Ni.jsx)("span",{className:al,children:(n=y.translationVariables.credit_amount,(i=null==g?void 0:g.standard_asset_credit_pack)&&"undefined"!==i.price&&(n=(0,Xc.vv)(i.price,p,g.currency_code,{minimumFractionDigits:0,includeGeoTaxDisclosure:!0})),r=n,_("amount_for_clip",{clip_amount:r}))}),(0,Ni.jsx)("br",{}),(0,Ni.jsx)("span",{className:rl,children:(t={credit_units:y.translationVariables.credit_cost},_("when_you_buy_credits",t))})]})}),m&&(0,Ni.jsxs)("div",{className:"warning-cta "+m.ctaClass,"data-testid":"warning-cta",children:[m.url&&(0,Ni.jsx)("a",{className:"warning-cta__text",href:m.url,onClick:u,"data-testid":"warning-cta-url",children:_(m.tag)+" >"}),!m.url&&(0,Ni.jsx)("span",{className:"warning-cta__text",children:_(m.tag)})]})]})})]})}),"test_user_warning_box"),dl=(0,Ta.A)((function(){var e=(0,c.d4)((function(e){return e.calc.step.videoCreditPackFCO})),t=(0,c.wA)(),n=(0,er.c)(),i=(0,c.d4)((function(e){return e.calc.step})),r=(0,c.d4)((function(e){return e.subscription})),a=(0,c.d4)((function(e){return e.calc.step.warningClass})),o=(0,c.d4)((function(e){return e.calc.step.reasonForBox})),s=(0,c.d4)((function(e){return e.calc.step.reasonForBoxLink})),l=(0,c.d4)((function(e){return e.calc.step.warningMessageClass})),d=(0,c.d4)((function(e){return e.calc.step.warningCta})),u=(0,c.d4)((function(e){return e.calc.step.additionalInfoHtml})),p=(0,c.d4)((function(e){return e.calc.step.additionalInfoHtmlLink})),f=(0,c.d4)((function(e){return e.calc.step.persistentWarning})),h=(0,c.d4)((function(e){return e.calc.step.triggerTracking})),m=(0,c.d4)((function(e){return e.calc.step.lightBlueWarning})),g=Bc().translateCleanAndValidatePath,v=(0,Eo.A)(),w=function(){t(function(e,t){if(e){var n=Ac[e.status];n&&n(t)(e)}}(r,i))},E=function(){return h()},C=function(e,t){var n=(0,Co.A)({cta_interaction:"cta_clicked",cta_text:e,cta_url:t,ui_element_location:v,download_flow:"pnp_checkout_option"});(0,_.u)(null,n)},y=function(e){"reason-for-warning"===e.target.id&&E(),null!=s&&s.includes("urls.plans_and_pricing")&&C(o,g(s))},b=function(e){"Enter"===e.key&&E()},I=function(e){var t;if("A"===e.target.tagName&&null!=p&&null!=(t=p.href)&&t.includes("urls.plans_and_pricing")){var n=g(p.href);C(u.tag,n)}},T=function(){var e={};return s&&(e.links=[{href:g(s),id:"reason-for-warning"}]),n(o,e)};return e?(0,Ni.jsx)(ll,{warningCtaClicked:w,onReasonForWarningClick:y,handleAdditionalInfoWarningClick:I,handleAdditionalInfoWarningKeyDown:I,handleReasonForWarningClick:b}):(0,Ni.jsxs)("section",{className:"download-box "+(m?Vc:""),"data-testid":"warning-box",children:[!f&&(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",onClick:function(){t(Te.closeDownloadErrorMessage())}})}),(0,Ni.jsxs)("div",{className:"box "+a,"data-testid":"warning-box-warning",children:[m?(0,Ni.jsxs)("div",{className:Yc,"data-testid":"light-blue-warning",children:[(0,Ni.jsx)(zc,{className:Jc}),o&&(0,Ni.jsx)("div",{role:"button",tabIndex:0,onClick:y,onKeyDown:b,className:"title "+Kc,"data-testid":"reason-for-warning",children:(0,Ni.jsx)(nr.A,{children:T()})})]}):(0,Ni.jsxs)("div",{children:[(0,Ni.jsx)("div",{className:"error-icon"}),o&&(0,Ni.jsx)("div",{role:"button",tabIndex:0,onClick:y,onKeyDown:b,className:"title "+(u?Hc:""),"data-testid":"reason-for-warning",children:(0,Ni.jsx)(nr.A,{children:T()})})]}),u&&(0,Ni.jsx)("div",{className:"warning-message "+l,"data-testid":"warning-message",onClick:I,onKeyDown:function(e){"Enter"===e.key&&I()},children:(0,Ni.jsx)(nr.A,{children:(p&&(u.translationVariables.links=[Object.assign({},Object.fromEntries(p),{href:g(p.href)})]),n(u.tag,u.translationVariables))})}),d&&(0,Ni.jsxs)("div",{className:"warning-cta "+d.ctaClass,"data-testid":"warning-cta",children:[d.url&&(0,Ni.jsx)("a",{className:"warning-cta__text",href:d.url,onClick:w,"data-testid":"warning-cta-url",children:n(d.tag)+" >"}),!d.url&&(0,Ni.jsx)("span",{className:"warning-cta__text",children:n(d.tag)})]})]})]})}),"warning_box"),ul=n(95607),_l=n(87556),pl=function(e){var t=e.postContent,n=e.className,i=e.preContent,r=e.checked,a=e.children,o=e.onChange,s=e.value,c=e.name,l=e.id;return(0,Ni.jsxs)("div",{className:Qi()("purchase-choice",n,{"purchase-choice--selected":r,"radio-button-selected":r}),"data-testid":"radio-button",children:[(0,Ni.jsxs)("label",{htmlFor:l,children:[i,(0,Ni.jsxs)("div",{className:"purchase-choice__control",children:[(0,Ni.jsx)("div",{className:"radio-button",children:(0,Ni.jsx)("input",{onChange:function(){o()},"data-testid":"radio-button--input__"+l,type:"radio",value:s,name:c,id:l,checked:r})}),(0,Ni.jsx)("div",{children:a})]})]}),t&&t]})};pl.defaultProps={className:"",preContent:null,postContent:null,checked:!1,id:null,onChange:function(){},value:null};var fl=pl,hl=function(e){var t=e.option,n=e.selectedPricingOption,i=e.selectPricingClarityOptionToggle,r=(0,c.d4)((function(e){return e.buyCardData.pricingClarityTranslations.firstRadioContent})),a=""!==r.sub_content,o=void 0!==(null==r?void 0:r.tertiary_content);return(0,Ni.jsx)(fl,{onChange:function(){n!==t&&i(t)},value:"checkout",checked:n===t,name:"purchase-choice",id:"firstRadio",children:(0,Ni.jsxs)("div",{className:"purchase-type",children:[(0,Ni.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",children:(0,Ni.jsx)(nr.A,{children:null==r?void 0:r.main})}),a&&(0,Ni.jsx)("div",{className:"purchase-type__sub-text purchase-type__sub-text--savings","data-testid":"first-radio-sub-content",children:(0,Ni.jsx)(nr.A,{children:null==r?void 0:r.sub_content})}),o&&(0,Ni.jsx)("div",{className:"purchase-type__ter-text","data-testid":"first-radio-tertiary-content",children:(0,Ni.jsx)(nr.A,{children:r.tertiary_content})})]})})};hl.defaultProps={selectedPricingOption:null};var ml=hl,gl={badge:"MnOXttMlK_n19IlHSCSb"},vl=function(e){var t=e.children,n=e.className,i=[gl.badge,n].join(" ");return(0,Ni.jsx)("span",{className:i,children:t})};vl.defaultProps={className:""};var wl=vl,El="fLtti_CGCgXIeRSOaVJN",Cl="IhFfZJcLdZfiZOv3WCiA",yl="pJrO8pPNWqfon7mJY8zc",bl=function(){var e=(0,tr.F)(),t=(0,La.Y)(),n=(0,er.c)(),i=(0,c.d4)((function(e){return e.userDetails.free_trial_premium_route})),r=(0,c.d4)((function(e){return e.buyCardData.freeTrialSubscriptionEssentialsMonthlyPrice})),a=(0,c.d4)((function(e){return e.buyCardData.freeTrialSubscriptionSignatureMonthlyPrice})),o=(0,c.d4)((function(e){return e.userDetails.currency_code})),s=e.cleanPath("/plans-and-pricing/free-trial-subscription"),l=n(i?"get_any_10_images":"get_10_essentials_images"),d=i?a:r,u=(0,Xc.vv)(d,t,o,{minimumFractionDigits:0,includeCents:!1,includeGeoTaxDisclosure:!0});return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("ul",{className:El,"data-testid":"free-trial-bullet-points",children:[(0,Ni.jsx)("li",{className:Cl,children:l}),(0,Ni.jsx)("li",{className:Cl,children:n("first_month_free_then_price_per_month",{price:u})}),(0,Ni.jsx)("li",{className:Cl,children:n("cancel_anytime_during_your_trial_month")})]}),(0,Ni.jsx)("a",{className:yl,onClick:function(){var e=(0,Co.A)({cta_interaction:"cta_clicked",cta_text:"Learn more about the Free Trial",cta_url:s,ui_element_location:"adp_buy_card"});(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"Free_Trial_Learn_More_Link_Click",adp_selection:"Free_Trial_Learn_More_From_Fast_Checkout",ui_element_location:"adp_buy_card_fast_checkout_learn_more_free_trial"}},e)},href:s,children:n("learn_more_about_the_free_trial_right_quote")})]})},Il=function(e){var t=e.option,n=e.selectedPricingOption,r=e.selectPricingClarityOptionToggle,a=e.showNewCustomerPPVOffer,o=e.badgeText,s=e.postContent,l=e.secondRadioContent,d=e.radioButtonTitle,u=e.radioButtonSubContent,p=e.showFreeTrialBulletPoints,f=(0,c.d4)((function(e){return e.userDetails.fast_checkout_sub_savings})),h=void 0!==(null==l?void 0:l.tertiary_content);return(0,i.useEffect)((function(){if(a){window.tracking_data.merchandising_units="ppv_new_customer_offer_adp_module";(0,_.u)({name:"merchUnitInteraction",payload:{merch_unit_interaction:"Shown",merch_unit_selection:"new_customer_ppv_offer_pill",ui_element_location:"adp_buy_card"}})}}),[]),(0,Ni.jsxs)(fl,{onChange:function(){n!==t&&r(t)},name:"purchase-choice",value:t,id:"secondRadio",checked:n===t,postContent:s,children:[o&&(0,Ni.jsx)(wl,{className:"purchase-choice__badge",children:(0,Ni.jsx)(nr.A,{children:o})}),(0,Ni.jsx)("div",{className:"purchase-type "+(f?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",children:(0,Ni.jsx)(nr.A,{children:d})}),u&&(0,Ni.jsx)("div",{className:"purchase-type__sub-text "+(f?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",children:(0,Ni.jsx)(nr.A,{children:u})}),h&&(0,Ni.jsx)("div",{className:"purchase-type__ter-text","data-testid":"second-radio-tertiary-content",children:(0,Ni.jsx)(nr.A,{children:l.tertiary_content})}),p&&(0,Ni.jsx)(bl,{})]})};Il.defaultProps={selectPricingClarityOptionToggle:function(){},selectedPricingOption:null,showNewCustomerPPVOffer:!1,badgeText:null,postContent:null,radioButtonTitle:"",radioButtonSubContent:"",secondRadioContent:null,showFreeTrialBulletPoints:!1};var Tl=Il,Nl=(0,Ta.A)((function(){var e=(0,er.c)(),t=(0,Eo.A)(),n=(0,i.useState)(!1),r=n[0],a=n[1],o=(0,c.d4)((function(e){return e.buyCardData.showPricingClarityDurationToggle})),s=(0,c.d4)((function(e){return e.calc.step.pricingOption})),l=(0,c.d4)((function(e){return e.userDetails.videoPricingClarityVariance})),d=(0,c.d4)((function(e){return e.userDetails.new_customer_ppv_offer})),u=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),p=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_exp_b})),f=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_expansion_in_experience})),h=(0,c.d4)((function(e){return e.buyCardData.pricingClarityTranslations.secondRadioContent})),m=(0,c.d4)((function(e){return e.buyCardData.pricingOptions.firstRadioOption})),g=(0,c.d4)((function(e){return e.buyCardData.pricingOptions.secondRadioOption})),v=0!==h.size,w=v?o?r?ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:g:null,E=(0,c.d4)((function(e){return e.buyCardData.pricingClarityPacks})),C=(0,c.wA)(),y=function(e){C(Te.selectPricingClarityOptionToggle(e))},b=(0,i.useState)(o?h.alt_main_content:h.main),I=b[0],T=b[1],N=(0,i.useState)(o?h.alt_sub_content:h.sub_content),S=N[0],x=N[1],A=function(e){var n=e.map((function(e){return E[e]})).filter((function(e){return!!e})).map((function(e){return Object.assign({},e.toJS(),{location_id:t})})),i=(0,_l.A)({products:n,ui_element_location:t});(0,_.u)(null,i)};(0,i.useEffect)((function(){if(o){var e=r?ht.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:ht.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE;if(e!==s){var t=r?[h.main,h.sub_content]:[h.alt_main_content,h.alt_sub_content],n=t[0],i=t[1];y(e),x(i),T(n),A([w])}}}),[r]);var O=p||f;return(0,i.useEffect)((function(){A([m,w])}),[]),(0,Ni.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[l&&(0,Ni.jsx)("hr",{"data-testid":"hr"}),(0,Ni.jsx)(ml,{option:m,selectedPricingOption:s,selectPricingClarityOptionToggle:y}),v&&(0,Ni.jsx)(Tl,{option:w,selectedPricingOption:s,selectPricingClarityOptionToggle:y,showNewCustomerPPVOffer:d,badgeText:u&&O?e("one_month_free_trial_caps"):d?e("new_customer_price"):null,secondRadioContent:h,radioButtonTitle:I,radioButtonSubContent:S,postContent:o?(0,Ni.jsx)("div",{className:"toggle-wrapper","data-testid":"duration-toggle",children:(0,Ni.jsx)(ul.Ay,{id:"annual-monthly",className:"custom-switch",checked:r,onChange:function(e){var t=e.target.checked;a(t)},checkedLabel:e("month_to_month"),uncheckedLabel:e("annual_plan")})}):null,showFreeTrialBulletPoints:u&&O}),(0,Ni.jsx)("hr",{})]})}),"pricing_clarity_options"),Sl=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,c.d4)((function(e){return e.calc.totalCreditCost})),r=(0,c.d4)((function(e){return e.calc.selectedAccountCredits})),a=(0,c.d4)((function(e){return e.calc.step.creditsAvailable})),o=(0,er.c)(),s=X.CREDIT_PACK,l=function(){n!==s&&a&&t(s)};return(0,Ni.jsx)("div",{role:"radio","aria-checked":n===s,tabIndex:0,className:"purchase-choice "+(n===s&&"purchase-choice--selected radio-button-selected")+" "+(!a&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",children:(0,Ni.jsxs)("div",{className:"purchase-choice__control",children:[(0,Ni.jsx)("div",{className:"radio-button",children:(0,Ni.jsx)("input",{type:"radio","data-testid":"radio",value:"credits",name:"purchase-choice",id:"credits"})}),(0,Ni.jsxs)("label",{htmlFor:"credits","data-testid":"label",children:[(0,Ni.jsxs)("div",{className:"purchase-type",children:[i>1&&(0,Ni.jsx)("span",{children:o("more_than_one_credit",{zero:i})}),1===i&&(0,Ni.jsx)("span",{children:o("one_credit")})]}),(0,Ni.jsx)("div",{className:"amount-remaining",children:o("credit_balance_available",{credit_balance:r})})]})]})})};Sl.defaultProps={selectedAgreementType:null};var xl=Sl,Al=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,c.d4)((function(e){return e.calc.step.subsAvailable})),r=(0,c.d4)((function(e){return e.calc.step.subDownloadsTranslationValue})),a=(0,c.d4)((function(e){return e.calc.step.subTitleTranslation})),o=(0,er.c)(),s=X.ROYALTY_FREE_SUBSCRIPTION,l=function(){n!==s&&i&&t(s)};return(0,Ni.jsx)("div",{className:"purchase-choice "+(n===s&&"purchase-choice--selected radio-button-selected")+" "+(!i&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",role:"radio",tabIndex:0,"aria-checked":n===s,children:(0,Ni.jsxs)("div",{className:"purchase-choice__control",children:[(0,Ni.jsx)("div",{className:"radio-button",children:(0,Ni.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice",id:"subscription","data-testid":"radio"})}),(0,Ni.jsxs)("label",{htmlFor:"subscription","data-testid":"label",children:[(0,Ni.jsx)("div",{className:"purchase-type",children:o(a)}),(0,Ni.jsx)("div",{className:"amount-remaining",children:o("subscription_downloads_remaining",{downloads_remaining:r})})]})]})})};Al.defaultProps={selectedAgreementType:null};var Ol=Al,Dl=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.calc.selectedAgreementType})),n=(0,c.d4)((function(e){return e.calc.step.showSubscriptionField})),i=(0,er.c)(),r=function(t){e(Te.setSelectedAgreementType(t))};return(0,Ni.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,Ni.jsx)("div",{className:"title",children:i("how_will_you_pay")}),(0,Ni.jsx)("hr",{}),n&&(0,Ni.jsx)(Ol,{selectedAgreementType:t,onSetSelectedAgreementType:r}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(xl,{selectedAgreementType:t,onSetSelectedAgreementType:r}),(0,Ni.jsx)("hr",{})]})},Pl=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,er.c)(),r=ue.PERSONAL,a=function(){n(r)};return(0,Ni.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===r,className:"account-choice-container "+(t===r?"selected radio-button-selected":""),onClick:a,onKeyPress:function(e){"Enter"===e.key&&a()},"data-testid":"radio-button",children:[(0,Ni.jsx)("div",{className:"radio-button",children:(0,Ni.jsx)("input",{type:"radio",name:"account-choice",value:r,"data-testid":"radio",id:"personal"})}),(0,Ni.jsx)("label",{"data-testid":"label",htmlFor:"personal",children:(0,Ni.jsx)("div",{className:"account-type",children:i("download_using_my_account")})})]})};Pl.defaultProps={selectedAccount:null};var jl=Pl,kl=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,c.d4)((function(e){return e.userDetails.team_name})),r=ue.TEAM,a=(0,er.c)(),o=function(){n(r)};return(0,Ni.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===r,className:"account-choice-container "+(t===r?"selected radio-button-selected":""),onClick:o,onKeyPress:function(e){"Enter"===e.key&&o()},"data-testid":"radio-button",children:[(0,Ni.jsx)("div",{className:"radio-button",children:(0,Ni.jsx)("input",{type:"radio",name:"account-choice",value:r,id:"team","data-testid":"radio"})}),(0,Ni.jsx)("div",{className:"company-icon"}),(0,Ni.jsx)("label",{"data-testid":"label",htmlFor:"team",children:(0,Ni.jsx)("div",{className:"account-type",children:a("download_on_behalf_of_the_team",{name:i})})})]})};kl.defaultProps={selectedAccount:null};var Rl=kl,Ll=function(){var e=(0,c.d4)((function(e){return e.calc.selectedAccount})),t=(0,c.wA)(),n=(0,i.useState)(e),r=n[0],a=n[1],o=function(e){t(Te.setSelectedAccount(e)),a(e)};return(0,Ni.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(jl,{selectedAccount:r,setSelectedAccountChoiceOption:o}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(Rl,{selectedAccount:r,setSelectedAccountChoiceOption:o}),(0,Ni.jsx)("hr",{})]})},Fl=["styles"];function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ul.apply(null,arguments)}var Ml=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Fl);return r().createElement("svg",Ul({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),r().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"}))},Bl=function(e){void 0===e&&(e=!1);var t=(0,c.wA)(),n=Jo(),i=(0,Li.Z)(),r=(0,c.d4)((function(e){return e.calc.step})).dropboxEnabled,a=(0,c.d4)((function(e){return e.buyCardData})).mubRedirectUrl,o=(0,c.d4)((function(e){return e})).asset,s=(0,c.d4)((function(e){return e.calc})),l=s.selectedAssetSize,d=s.selectedAgreementSize,u=s.selectedAgreementType,_=(0,Gi.A)(),p=_.imageIsEdited,f=_.editDetails,h=(0,zi.A)().clearEditsPendingForDownload,m=(0,Wi.A)().setShowOverlay,g=(0,_r.A)().backgroundRemoved;return{createDownload:function(){return d?(n.setAssetDetailTrackingData("asset_size",l.name),i.sendAssetDownloadedSignal(o,{agreement_type:u}),t(de(window.korrelationId,a,r,e,p,h,g,m,null==f?void 0:f.imageState))):t(ie("download_failed"))}}},Gl=n(73405),Wl=(0,es.A)("plans_and_pricing","./PlansAndPricing"),zl=function(e){var t,n=e.asset,r=e.testVariation,a=e.onClose,o=(0,Ri.Jd)(),s=(0,Uo.Z)();return(0,Ni.jsx)("div",{"data-testid":"mini-pnp-container",children:(0,Ni.jsx)(i.Suspense,{children:(t=(0,Ni.jsx)(Wl,{payload:{user:o,site:s,asset:n,testVariation:r,onClose:a}}),(0,Ni.jsx)(Gl.A,{children:t}))})})},Hl="gTohuItovlNtAwu_K5ti",Vl="FsO0VaojVsVdZGuz3txe";function Yl(){Yl=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function Kl(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var Jl={"super-cta":Ir.Jr.PRIMARY,"primary-cta":Ir.Jr.SECONDARY,"hollow-cta":Ir.Jr.HOLLOW},Ql=function(e){var t,n=e.showEditor,i=e.validateEpsPickerAndSave,r=e.isEpsFormatTest,a=e.epsFormatCtaTitle,o=Bc(),s=Mc(),l=(0,er.c)(),d=(0,c.wA)(),u=Bl(n),p=(0,c.d4)((function(e){return e.calc.ctaInProgress})),f=(0,c.d4)((function(e){return e.calc.step.ctaAction})),h=(0,c.d4)((function(e){return e.calc.step.ctaClass})),m=(0,c.d4)((function(e){return e.calc.step.ctaTitle})),g=(0,c.d4)((function(e){return e.calc.step.ctaTranslationVariables})),v=(0,c.d4)((function(e){return e.calc.step.completeSection})),w=(0,c.d4)((function(e){return e.calc.step.confirmSection})),E=(0,c.d4)((function(e){return!e.calc.step.hideDownloadButton})),C=(0,c.d4)((function(e){return e.asset})),y=null!=(t=Jl[h])?t:Ir.Jr.PRIMARY,b=(0,c.d4)((function(e){return e.redirectToUrl})),I=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),T=(0,c.d4)((function(e){return e.mobileSimplification})),N=Wa(),S=(0,c.d4)((function(e){return e.calc.isMiniPnpOpen})),x=(0,c.d4)((function(e){return e.userDetails.mini_pnp_active})),A=(0,Gi.A)().imageIsEdited,O=(0,Wi.A)().setShowOverlay,D=(0,_r.A)().backgroundRemoved,P=I&&T,j=function(){var e,t=(e=Yl().mark((function e(t){return Yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r||i()){e.next=3;break}return e.abrupt("return");case 3:if(s.track(),d(Te.setCtaInProgress(!0)),!Te[f]){e.next=14;break}if(!b){e.next=10;break}o.redirectToUrlFromState(),e.next=12;break;case 10:return e.next=12,d(Te[f]());case 12:e.next=23;break;case 14:if(f!==at.CREATE_DOWNLOAD){e.next=21;break}return N(),(A||D)&&O(!0),e.next=19,u[f]();case 19:e.next=23;break;case 21:return e.next=23,o[f]();case 23:d(Te.setCtaInProgress(!1));case 24:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Kl(a,i,r,o,s,"next",e)}function s(e){Kl(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),k=v?(0,Ni.jsx)(Ir.Ay,{"data-testid":"complete-button",disabled:v,className:Vl,variant:y,size:Ir.Ni.LARGE,fullWidth:!0,children:(0,Ni.jsx)("span",{className:"white-checkmark",children:(0,Ni.jsx)(Ml,{})})}):(0,Ni.jsx)(Ir.Ay,{id:"download-button",type:"submit","data-testid":"download-button",onClick:j,disabled:p,className:Vl,variant:y,size:Ir.Ni.LARGE,fullWidth:!0,children:p?(0,Ni.jsx)(Mi.A,{"data-testid":"spinner",className:Hl}):m?P?l("download_for_free"):function(){if(r){var e=a(),t=e.download,n=e.confirm,i=f===at.INITIATE_DOWNLOAD?t:n;return l(i)}return l(m,g)}():null}),R=w?(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){d(Te.cancelDownload())}})}):null;return(0,Ni.jsxs)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:[E&&(0,Ni.jsxs)("div",{className:"adp-file-download-button-wrapper","data-testid":"adp-download-button",children:[k,R]}),x&&S&&(0,Ni.jsx)(zl,{asset:C,onClose:function(){var e;e={name:"pnpInteraction",payload:{pnp_interaction:"PnP_Modal_Close",pnp_selection:C.assetType,page_mode:"adp_download_cta",ui_element_location:"adp_download_cta"}},(0,_.u)(e),d(Te.setMiniPnpOpen(!1))}})]})};Ql.defaultProps={showEditor:!1,validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0};var ql=Ql,Zl=function(){var e=(0,er.c)(),t=(0,c.d4)((function(e){return e.asset})),n=(0,c.d4)((function(e){return e.userDetails.has_subscription})),i=(0,c.d4)((function(e){return e.calc.hasAvailableCredits})),r=(0,yr.useExperience)("PnpVideoFocusTest"),a=(0,tr.F)(),o=(0,Eo.A)(),s=function(){var o=a.cleanPath(e("urls.plans_and_pricing_images"));return t.isFilm&&(o=a.cleanPath(e("urls.plans_and_pricing_video")),!r.isActive()||n||i||(o=rc.A.appendQueryParamsToString(o,{videofocus:!0}))),o};return(0,Ni.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:s(),onClick:function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_view_plans_and_pricing_button",istock_collection:t.istockCollection}},n=(0,Co.A)({cta_interaction:"cta_clicked",cta_text:"view_plans_and_pricing",cta_url:s(),ui_element_location:o,download_flow:"pnp_checkout_option"});(0,_.u)(e,n)},children:e("view_plans_and_pricing")})},Xl=n(18602),$l=n(9015),ed="Hyfv_ewT6G9DUJopl4wc",td="V03aNKWQWBid0o8p3OJw",nd=function(e){var t,n,i,r=e.showEditor,a=e.isEpsFormatTest,o=e.epsFormatCompleteDownload,s=e.editsPendingForDownload,l=e.imageIsEdited,d=(0,c.d4)((function(e){return e.calc.step.dropboxEnabled})),u=(0,c.d4)((function(e){return e.asset})),_=(0,Wi.A)().setShowOverlay,p=(0,_r.A)().backgroundRemoved,f=(0,c.d4)((function(e){return e.calc.step.name}))===g.COMPLETE_DOWNLOAD&&s,h=Bl(r),m=d?"download_again":"issues_download_again",v=(0,er.c)(),w=function(e){"redownload-for-free"===e.target.id&&((l||p)&&_(!0),h.createDownload())},E=function(e){"Enter"===e.key&&((l||p)&&_(!0),h.createDownload())},C=(0,Ni.jsx)(Xl.A,{downloadCompletionText:v("you_received"),firstListItemText:v("one_original_image"),secondListItemText:v("one_modified_image"),checkDownloadsText:v("please_check_your_downloads_folder"),redownloadLink:(0,Ni.jsx)(nr.A,{children:v(m,{links:[{href:"#",id:"redownload-for-free"}]})})}),y=(0,Ni.jsx)("div",{className:ed,"data-testid":"original-image-only-successful-download",children:(0,Ni.jsx)(nr.A,{children:v(a?(t=o(),n=t.dropbox,i=t.local,d?n:i):d&&u.isFilm?"successful_download_dropbox_video":d&&u.isIllustration?"successful_download_dropbox_illustration":d?"successful_download_dropbox_photo":u.isFilm?"successful_download_local_video":u.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:"<strong class="+td+">",end_strong:"</strong>"})})}),b=(0,Ni.jsx)("div",{onClick:w,onKeyDown:E,role:"button",tabIndex:0,"data-testid":"redownload-for-free",children:(0,Ni.jsx)("span",{id:"download-again",children:(0,Ni.jsx)(nr.A,{children:v(m,{links:[{href:"#",id:"redownload-for-free"}]})})})}),I=(0,Ni.jsx)($l.A,{updatedText:v("youve_made_an_update"),redownloadText:(0,Ni.jsx)(nr.A,{children:v("redownload_for_free",{links:[{href:"#",id:"redownload-for-free"}]})}),handleKeyDown:E,handleClick:w}),T=(0,Ni.jsx)(xc.A,{title:v("your_download_includes_v2"),firstListItemText:v("one_original_image"),secondListItemText:v("one_modified_image"),allowMultipleFileText:v("allow_multiple_files_saved")}),N=r||l?C:y;return(0,Ni.jsx)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:f?(0,Ni.jsxs)(Ni.Fragment,{children:[I,T]}):(0,Ni.jsxs)(Ni.Fragment,{children:[N,b]})})},id=nd;nd.defaultProps={showEditor:!1,isEpsFormatTest:!1,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var rd="t3cvXnZLl8qc0i9uF2rU",ad="DL3rzyL3kPMkV6jZv0au";function od(){od=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function sd(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var cd=function(){var e=Bc(),t=(0,er.c)(),n=(0,c.d4)((function(e){return e.calc.step.triggerSubscribeTracking})),i=function(){var t,i=(t=od().mark((function t(i){return od().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),n&&n(),t.next=4,e.redirectToPricing();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(e){sd(a,i,r,o,s,"next",e)}function s(e){sd(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return i.apply(this,arguments)}}();return(0,Ni.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,Ni.jsx)("div",{className:rd,children:(0,Ni.jsx)("button",{className:ad,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:i,children:(0,Ni.jsx)("span",{"data-testid":"title",children:t("subscribe_to_premium_plus_video")})})})})},ld="RZZjFWZEckW2RYjueUnx",dd="SSKEpQo3j8KoavhySQIY",ud="q_fhEb21QiNivijzViCN",_d="uCVwOJo9_m_SVafgpkPs",pd=function(){var e=(0,er.c)(),t=(0,c.wA)(),n=(0,c.d4)((function(e){return e.calc.totalCreditCost})),i=(0,c.d4)((function(e){return e.calc.selectedAccountCredits}));return(0,Ni.jsxs)("section",{className:ld,"data-testid":"credit-balance-box",children:[(0,Ni.jsx)("div",{className:_d,children:(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){t(Te.cancelDownload())}})})}),(0,Ni.jsxs)("div",{className:dd,children:[(0,Ni.jsxs)("div",{className:ud,"data-testid":"credit-balance-cost",children:[n>1&&(0,Ni.jsx)("span",{children:e("more_than_one_credit",{zero:n})}),1===n&&(0,Ni.jsx)("span",{children:e("one_credit")})]}),(0,Ni.jsx)("div",{className:"amount-remaining","data-testid":"credit-balance-available",children:e("multiple_credits_available",{available:i})})]})]})},fd=function(e){var t=e.showEditor,n=e.validateEpsPickerAndSave,r=e.isEpsFormatTest,a=e.epsFormatCtaTitle,o=e.epsFormatCompleteDownload,s=e.editsPendingForDownload,l=e.hasEnoughCredits,d=e.imageIsEdited,u=(0,c.d4)((function(e){return e.userDetails.fast_checkout_sub})),_=(0,c.d4)((function(e){return e.userDetails.fast_checkout_sub_savings})),p=(0,c.d4)((function(e){return e.userDetails.video_pricing_clarity_variance})),f=(0,c.d4)((function(e){return e.calc.step.showAccountChoices})),h=(0,c.d4)((function(e){return e.calc.step.showDownloadChoices})),m=(0,c.d4)((function(e){return e.calc.step.showPricingClarity})),g=(0,c.d4)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),v=(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection})),w=(0,c.d4)((function(e){return e.calc.step.warningBox})),E=(0,c.d4)((function(e){return e.buyCardData.licenseOverviewPath})),C=(0,c.d4)((function(e){return e.calc.redownloadForFree})),y=(0,c.d4)((function(e){return e.calc.step.completeSection})),b=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),I=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_exp_b})),T=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_expansion_in_experience})),N=(0,er.c)(),S=Jo(),x=I||T;return(0,i.useEffect)((function(){S.setTrackingDataElement("downloadActions",m&&!v?"clarity":"default")}),[m,v]),(0,Ni.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[w&&!l&&(0,Ni.jsx)(dl,{}),!v&&m&&(0,Ni.jsx)(Nl,{}),h&&!l&&(0,Ni.jsx)(Dl,{}),l&&(0,Ni.jsx)(pd,{}),f&&(0,Ni.jsx)(Ll,{}),g&&(0,Ni.jsx)(cd,{}),(0,Ni.jsx)(ql,{showEditor:t,validateEpsPickerAndSave:n,isEpsFormatTest:r,epsFormatCtaTitle:a}),!m||C||!(b&&x||u||_||p)?null:(0,Ni.jsx)(Zl,{"data-testid":"pnp-cta-container"}),v&&(0,Ni.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",children:(0,Ni.jsx)(nr.A,{children:N("not_sure_what_license",{links:[{href:""+E,target:"new"}]})})}),y&&(0,Ni.jsx)(id,{showEditor:t,isEpsFormatTest:r,epsFormatCompleteDownload:o,editsPendingForDownload:s,imageIsEdited:d})]})},hd=fd;fd.defaultProps={showEditor:!1,validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,hasEnoughCredits:!1};var md=function(){var e=(0,er.c)();return(0,Ni.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,Ni.jsx)("div",{className:"adp-btn-flow-text",children:(0,Ni.jsx)("small",{children:e("you_already_downloaded")})})})},gd=function(e){var t=e.isEpsFormatTest,n=e.epsFormatTypeCreditAgreement,i=(0,c.d4)((function(e){return e.buyCardData.licenseAgreement})),r=(0,er.c)();return(0,Ni.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,Ni.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,Ni.jsx)("small",{children:(0,Ni.jsx)(nr.A,{children:r(t?n():"credit_license_agreement",{links:[{href:i}]})})})})})};gd.defaultProps={isEpsFormatTest:!1,epsFormatTypeCreditAgreement:null};var vd=gd,wd="M36zwv59j_huVvhClpXQ",Ed=function(){var e=(0,c.d4)((function(e){return e.buyCardData.licenseOverviewPath})),t=(0,er.c)();return(0,Ni.jsx)("div",{className:wd,"data-testid":"redownload-agreement",children:(0,Ni.jsx)(nr.A,{children:t("redownload_free_agreements",{links:[{href:""+e,target:"new"}]})})})},Cd="jsInk_jaLG5L1eWJUGwv",yd="wD_iemGyRxuzLPJPx9RM",bd="dTR7tSm1CMo1uDAXlF0d",Id="mrnZDo7dSPNM6rO5uGiB",Td=function(e){var t=e.children,n=(0,Ri.Jd)(),r=Id,a=n.isBot?null:bd;return(0,i.useEffect)((function(){var e=document.querySelector(".footer-copyright");return e&&e.classList.add(r),function(){e&&e.classList.remove(r)}}),[]),(0,Ni.jsxs)("div",{className:Cd+" "+a,id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[t,(0,Ni.jsx)("div",{className:yd,children:(0,Ni.jsx)(ql,{})})]})},Nd="_ynfpD1jAx8yxSkFXhMo",Sd="HByGNe2mceGIAElzYJQa",xd="Gjx9S7UusukrilRMBjd6",Ad="RvunXRIKW7OhmgZcedbW",Od=function(e){var t=e.assetSizes,n=(0,er.c)(),i=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}];(!Object.keys(t).length||null!=t&&t.some((function(e){return"Web"!==e.label})))&&i.pop();return(0,Ni.jsx)(a.aF,{modalClassName:Nd,onClose:function(){var e=(0,To.A)({event:"close_modal",modal_content:"video_size_and_format",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"video_size_and_format_modal"});(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"Video_ADP_Modal_Dismiss",adp_selection:"video_adp_modal_x",ui_element_location:"video_adp_size_and_format_modal"}},e)},children:function(){return(0,Ni.jsx)(Ni.Fragment,{children:(0,Ni.jsxs)("div",{className:Sd,"data-testid":"sizes-formats-modal-body",children:[(0,Ni.jsx)("h2",{children:n("video_sizes_and_formats")}),(0,Ni.jsx)("p",{children:n("find_the_right_format")}),(0,Ni.jsx)(Ni.Fragment,{children:i.map((function(e){var t=e.title,i=e.subTitle,r=e.content;return(0,Ni.jsxs)("div",{className:xd,children:[(0,Ni.jsxs)("div",{children:[(0,Ni.jsx)("h3",{children:n(t)}),i&&(0,Ni.jsx)("h3",{className:Ad,children:n(i)})]}),(0,Ni.jsx)("p",{children:n(r)})]},r)}))})]})})}})},Dd={helpMeChoose:"o7tmlqNtSNyby0nRKTyt",noWrap:"v0LqeTgWALD9FCOxvNCY",flexBreak:"S3SOehgGqVF6u17eYj29",sizeDescriptionContainer:"qGMaEeDDkgAmYaBsFOSD"},Pd=["image","raster","vector","film"],jd=["Web","SD","HD_Web","HD","4K"],kd=function(e,t,n){return t.find((function(t){return n?t.name===e:t.teeShirtSize===e}))},Rd=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.asset})),n=(0,c.d4)((function(e){return e.calc.step})),r=(0,c.d4)((function(e){return e.calc.selectedAssetSize})),o=(0,c.d4)((function(e){return e.buyCardData.preferences})),s=(0,er.c)(),l=t.assetType,d=(0,c.d4)((function(e){return e.userDetails.authenticated})),u=(0,a.hS)().showModal,p=(0,Eo.A)(),f=t.sizes.toArray().filter((function(e){return null!=e.description})),h=Pd.includes(l)&&(n.showTshirtSizes||t.isFilm&&!d),m=(0,i.useState)(null),g=m[0],v=m[1];(0,i.useEffect)((function(){if(!r||"epsUnavailable"===r.name){var n=function(e,t,n){if(!n)return kd(e,t,n);if(e){var i=e.name,r=e.definition,a=t.find((function(e){return e.name===i}));if(a)return a;var o=t.filter((function(e){return e.definition===r}));if(1===o.length)return o[0];if(o.length>1)return o.find((function(e){return"H.264"===e.codec}))||o[0];var s=jd.findIndex((function(e){return e===r}));if(-1===s)return null;for(var c,l=function(){var e=jd[d],n=t.filter((function(t){return t.definition===e}));return 1===n.length?{v:n[0]}:n.length>1?{v:n.find((function(e){return"H.264"===e.codec}))||n[0]}:void 0},d=s;d<jd.length;d+=1)if(c=l())return c.v}}(t.isFilm?P.getVideoPreferredSize(o):P.getPreferredSize(o),f,t.isFilm),i=f.length-1,a=f[i];"epsUnavailable"===(null==a?void 0:a.name)&&(i=f.length-2),n&&"epsUnavailable"!==n.name?e(Te.selectAssetSize(n)):e(Te.selectAssetSize(f[i]))}}),[]);var w,E=function(e){var n=e.target.attributes.name.value;return kd(n,f,t.isFilm)},C=function(){return g||r},y=function(e){v(E(e))},b=function(){v(null)},I=function(n){var i;"epsUnavailable"!==(i=E(n)).name&&(e(Te.selectAssetSize(i)),t.isFilm||P.setPreferredSize(i.teeShirtSize),t.isFilm&&P.setPreferredVideoSize(i.name,i.definition))},T=function(){var e,t="size-description";return null!=(e=C())&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},N=function(e){var t="tile";return r===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},S=function(e){return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("span",{children:[e.pixels," ",e.codec]}),(0,Ni.jsx)("span",{className:"divider",children:"|"}),(0,Ni.jsxs)("span",{className:Dd.noWrap,children:[e.frameRate," fps",(0,Ni.jsx)("span",{className:"divider",children:"|"})]}),(0,Ni.jsx)("span",{className:Dd.noWrap,children:e.contentType}),e.hasFileSize&&(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("span",{className:"divider",children:"|"}),(0,Ni.jsx)("span",{className:Dd.noWrap,children:e.fileSize})]})]})},x=function(){var e=(0,Co.A)({cta_interaction:"help_me_choose_clicked",cta_text:"help_me_choose",cta_url:void 0,ui_element_location:p});return(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"Video_ADP_Help_Me_Choose_Link_Click",adp_selection:"video_adp_help_me_choose",ui_element_location:"video_adp_buy_card_help_me_choose_link"}},e),u((0,Ni.jsx)(Od,{assetSizes:f}))},A=function(e){"Enter"===e.key&&x()},O=function(e){"Enter"===e.key&&I(e)},D=function(e){if(t.isFilm)return e.label;var n=P.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?n:s(n)};return h?(0,Ni.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,Ni.jsxs)("div",{className:"sizes",children:[(0,Ni.jsx)("ol",{className:l+" tiles",children:f.map((function(e){var n=t.isFilm?e.name:e.teeShirtSize;return(0,Ni.jsx)("li",{"aria-label":D(e),className:N(e),children:(0,Ni.jsx)("div",{role:"radio",tabIndex:0,"aria-checked":r===e,onClick:I,onKeyPress:O,onMouseOver:y,onFocus:y,onMouseOut:b,onBlur:b,id:"download-size-"+n,name:n,children:D(e)})},n)}))}),(w=C(),w?t.isFilm?(0,Ni.jsxs)("div",{className:Qi()(T(),Dd.assetMetaData,Dd.sizeDescriptionContainer),children:[S(w),(0,Ni.jsx)("div",{className:Dd.flexBreak}),(0,Ni.jsx)("div",{role:"button",tabIndex:0,className:Qi()(Dd.helpMeChoose,Dd.noWrap),"data-testid":"HelpMeChooseLink",onClick:x,onKeyPress:A,children:s("help_me_choose")})]}):(0,Ni.jsxs)("div",{className:T(),children:[" ",w.epsUnavailable?s(w.description):w.description," "]}):null)]})}):null},Ld=function(){return!(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection}))&&(0,Ni.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,Ni.jsx)(Rd,{})})},Fd=function(){var e=(0,c.d4)((function(e){return e.calc.step.showSubTypeMessage})),t=(0,c.d4)((function(e){return e.calc.step.dropboxEnabled})),n=(0,c.d4)((function(e){return e.asset.freeFile})),i=(0,er.c)();return(0,Ni.jsxs)(Ni.Fragment,{children:[e&&!n&&(0,Ni.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,Ni.jsx)("span",{children:i("available_with_your_subscription")})}),t&&(0,Ni.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,Ni.jsx)("span",{children:i("download_workflow.download_will_be_saved_to_dropbox")})})]})},Ud=n(45887),Md="tXdiSc_DcwQodaWMcBgM",Bd="m0LNKvsjmSPI0xjGPzau",Gd="un7DUzLsnqcne4woRQ4I",Wd="zNNi9wkKIKbQl7zsw3sg",zd=function(){var e=(0,Os.m)(),t=(0,c.d4)((function(e){return e.calc.step.ctaClass})),n=(0,c.d4)((function(e){return e.userDetails.authenticated})),i=(0,c.d4)((function(e){return e.mobileSimplification})),r=(0,c.d4)((function(e){return e.userDetails.free_trial_premium_route})),a=(0,c.d4)((function(e){return e.userDetails.currency_code})),o=(0,c.d4)((function(e){return e.asset})),s=(0,c.d4)((function(e){return e.buyCardData.signInPath})),l=(0,Ud.DP)().link||{},d=(0,er.c)(),u=(0,tr.F)(),p=(0,Eo.A)(),f=function(t,n){e.trackEvent("adpInteraction",{adp_interaction:t,adp_selection:n,ui_element_location:"adp_buy_card_start_free_trial_cta"});var i=(0,kc.A)({products:[{asset_id:o.assetId,asset_type:o.assetType,license_type:o.licenseType,asset_family:o.assetFamily,media_type:o.mediaType,currency_code:a||"USD",final_price:{amount:0}}],download_flow:"free_trial_option",ui_element_location:p});(0,_.u)(null,i)},h=function(){f("ADP_Buy_Card_Sign_in_Button_Click","adp_sign_in"),window.location=u.cleanPath("/sign-in?returnurl="+window.location.pathname+window.location.search)},m=function(){f("ADP_Download_Button_Click","Free_Trial_Option"),window.location=r?u.addFreeTrial({premium:!0,ftsfastcheckout:!0}):u.addFreeTrial({ftsfastcheckout:!0})};return(0,Ni.jsxs)("section",{"data-testid":"free-trial-subs-buyCard",children:[(0,Ni.jsx)("h4",{className:Md,children:d("get_image_for_free")}),(0,Ni.jsx)("p",{"data-testid":"learn-more-link",className:Bd+" "+l.textLink,children:(0,Ni.jsx)(nr.A,{children:d("download_image_free_trial_learn_more",{links:[{href:u.cleanPath(d("urls.plans_and_pricing_free_trial_subscription"))}]})})}),i?!n&&(0,Ni.jsx)("div",{"data-testid":"sign-in-cta",children:(0,Ni.jsx)(nr.A,{children:d("already_member_sign_in",{links:[{href:s}]})})}):(0,Ni.jsxs)("div",{"data-testid":"free-trial-cta",children:[(0,Ni.jsx)("button",{className:t+" "+Gd,id:"download-free-trial-button",type:"button","data-testid":"download-free-trial-button",onClick:m,children:d("download_for_free")}),!n&&(0,Ni.jsx)("button",{className:Wd,id:"signin-free-trial-button",type:"button",onClick:h,"data-testid":"signIn-button",children:d("sign_in")})]})]})},Hd=function(){var e=(0,er.c)(),t=(0,c.d4)((function(e){return e.asset}));return(0,Ni.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:(0,Ni.jsx)("span",{children:t.isIllustration?e("free_illustration_otm"):t.isFilm?e("free_video_otm"):e("free_photo_otw")})})},Vd=function(e){var t=e.totalCreditCost,n=(0,er.c)(),i=Number(t);if(!i)return null;var r=i>1?n("more_than_one_credit",{zero:i}):n("one_credit");return(0,Ni.jsx)("span",{children:r})},Yd=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,r=e.redownloadSection,a=(0,c.d4)((function(e){return e.buyCardData})).geoPricingPromoPolicy,o=a.showTestA,s=a.showTestB,l=(0,c.d4)((function(e){return e.calc.totalCreditCost})),d=(0,er.c)();return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,Ni.jsx)("span",{children:d("new_lower_prices")})}),(0,Ni.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[o&&(0,Ni.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[t&&(0,Ni.jsx)("span",{"data-testid":"title",children:d(t)}),t&&(i||n)&&(0,Ni.jsx)("span",{children:" | "}),(i||n)&&(0,Ni.jsx)("span",{"data-testid":"credit-cost",children:(0,Ni.jsx)(Vd,{totalCreditCost:l})})]}),s&&(0,Ni.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:r&&t?(0,Ni.jsx)("span",{"data-testid":"title",children:d(t)}):(0,Ni.jsx)("span",{"data-testid":"subtitle",children:d("high_quality_for_projects")})})]})]})};Yd.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,redownloadSection:null};var Kd=Yd,Jd=n(12238),Qd=["styles"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qd.apply(null,arguments)}var Zd=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Qd);return r().createElement("svg",qd({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),r().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),r().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),r().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"}))},Xd="bKL2hIUxRhzeBpub_cgF",$d=function(e){var t=e.className,n=Qi()(Xd,t);return(0,Ni.jsx)(Zd,{className:n})};$d.defaultProps={className:""};var eu=$d,tu="kdZrypqPcxYUebEMLyDp",nu="a4SeezPVDeTi7mWep0Ui",iu=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,r=e.showPricingClarity,a=(0,er.c)(),o=(0,c.d4)((function(e){return e.userDetails.team_name})),s=(0,c.d4)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),l=(0,c.d4)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),d=(0,c.d4)((function(e){return e.calc.totalCreditCost}));return(0,Ni.jsxs)(Ni.Fragment,{children:[(i||n)&&(0,Ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,Ni.jsx)("div",{className:"download-actions__header",children:(0,Ni.jsx)(Vd,{totalCreditCost:d})})}),t&&(0,Ni.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,Ni.jsx)("span",{"data-testid":"title",children:a(t,{team_name:o})}),r&&(0,Ni.jsx)("span",{children:s&&(0,Ni.jsx)(Jd.A,{"data-testid":"info-tooltip",className:nu,content:l,children:(0,Ni.jsx)(eu,{className:tu})})})]})]})};iu.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,showPricingClarity:null};var ru=iu,au=function(e){var t=e.title,n=(0,er.c)(),i=(0,c.d4)((function(e){return e.userDetails.team_name})),r=(0,c.d4)((function(e){return e.asset.assetCost}));return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,Ni.jsx)("div",{className:"download-actions__header",children:r})}),t&&(0,Ni.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:(0,Ni.jsx)("span",{"data-testid":"title",children:n(t,{teamName:i})})})]})};au.defaultProps={title:null};var ou=au,su=function(e){var t=e.showEditor,n=e.isEpsFormatTest,i=e.epsFormatTitleDownload,r=e.editsPendingForDownload,a=e.imageIsEdited,o=(0,er.c)(),s=(0,c.d4)((function(e){return e.asset})),l=(0,c.d4)((function(e){return e.calc.step.title})),d=(0,c.d4)((function(e){return e.calc.step.name})),u=(0,c.d4)((function(e){return e.calc.step.showCreditCost})),_=(0,c.d4)((function(e){return e.calc.step.showPricingClarity})),p=(0,c.d4)((function(e){return e.calc.step.redownloadSection})),f=(0,c.d4)((function(e){return e.calc.selectedOptionalLicenses})),h=(0,c.d4)((function(e){return e.calc.selectedAgreementType})),m=(0,c.d4)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),g=f&&h,v=(0,c.d4)((function(e){return e.mobileSimplification})),w=(0,c.d4)((function(e){return e.calc.step})).completeSection,E=l;return"COMPLETE_DOWNLOAD"===d&&((t||a)&&(E="your_download_is_complete"),r&&(E="youve_updated_this_photo")),s.freeFile?(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)(Hd,{}),E&&(0,Ni.jsx)("h2",{id:"card-title","data-testid":"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:o(E)})]}):m?(0,Ni.jsx)(Kd,{title:E,canPeekAtCost:g,showCreditCost:u,redownloadSection:p}):v?(0,Ni.jsx)(ou,{title:E}):(0,Ni.jsx)(ru,{title:n&&w?i():E,canPeekAtCost:g,showCreditCost:u,showPricingClarity:_})};su.defaultProps={showEditor:!1,isEpsFormatTest:!1,epsFormatTitleDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var cu=su,lu="ITe3EojEowNtmkiK79On",du=function(){var e=(0,c.d4)((function(e){return e.buyCardData.restrictedUsesPath})),t=(0,er.c)();return(0,Ni.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,Ni.jsx)(nr.A,{children:t("editorial_use_only_with_link",{links:[{href:""+e,target:"_blank",rel:"noopener noreferrer"}]})}),(0,Ni.jsx)(Jd.A,{content:t("editorial_use_clarification"),children:(0,Ni.jsx)(eu,{className:lu})})]})},uu=function(){var e=(0,c.d4)((function(e){return e.asset})),t=(0,c.d4)((function(e){return e.calc.hasSelectedOptionalLicenses})),n=(0,c.d4)((function(e){return e.calc.selectedAgreementType})),i=(0,c.d4)((function(e){return e.calc.step.showCreditCost})),r=t&&n,a=(0,c.d4)((function(e){return e.calc.totalCreditCost}));return(0,Ni.jsx)(Ni.Fragment,{children:e.freeFile?(0,Ni.jsx)(Hd,{}):i||r?(0,Ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,Ni.jsx)("div",{className:"download-actions__header",children:(0,Ni.jsx)(Vd,{totalCreditCost:a})})}):null})},_u="mYBkt5RleZd5SvNvAGsQ",pu="rSdZF1J6Jjnxhi71p6BC",fu="JfX9VvvG5YXwBqOHFENQ",hu="gxbSGKPNgW1agrnD9g91",mu="NFewzkaSWd7_cENynmj1",gu="YvwlaNWqE8of9mfE366e",vu="lncPfMCyzhBqOLYKy3aP",wu="sem1lo74ysNecGf_kxsy",Eu="wuLKuLie0XLRvynrxylL",Cu=function(){var e=(0,c.d4)((function(e){return e.licenses})).toArray(),t=(0,er.c)(),n=(0,c.wA)(),r=(0,Ud.DP)().checkbox||{};(0,i.useEffect)((function(){document.querySelector("#licenses-close-btn").focus()}),[]);var a=function(e){var t=[];return e.is_acquired_and_not_repurchasable&&t.push(pu),e.is_selected&&t.push(fu),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push(hu),t.join(" ")},o=(0,Ni.jsxs)("header",{className:"el-header",children:[(0,Ni.jsx)("h2",{children:t("add_licenses")}),(0,Ni.jsx)(ha.A,{id:"licenses-close-btn",className:"el-close-btn",ariaLabel:"close license picker",onClick:function(){n(Te.closeLicensePicker())}})]}),s=(0,Ni.jsxs)("div",{className:Qi()("el-title",gu),children:[(0,Ni.jsx)("div",{children:t("license_types")}),(0,Ni.jsx)("div",{children:t("istock_credits")})]}),l=(0,Ni.jsx)("ul",{"data-testid":"license-list",children:e.map((function(e,t){var i=e.is_purchase_required||e.is_acquired_and_not_repurchasable;return(0,Ni.jsx)("li",{className:Qi()(mu,a(e)),"data-testid":"license-listitem",children:(0,Ni.jsxs)("label",{htmlFor:"el_"+t,className:vu,children:[(0,Ni.jsx)("input",{id:"el_"+t,type:"checkbox",className:Qi()(r.checkboxInput,i?r.defaultChecked:"",wu),disabled:Boolean(i),defaultChecked:i,onChange:function(){return function(e){n(Te.checkLicense(e))}(t)}}),(0,Ni.jsxs)("div",{className:Eu,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,Ni.jsx)("p",{className:_u,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,Ni.jsx)("span",{className:"el-credit-cost",children:e.credit_cost})]})},""+e.license_type)}))});return(0,Ni.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[o,(0,Ni.jsxs)("div",{children:[s,(0,Ni.jsx)("hr",{}),l]})]})},yu=function(e){return"eps"===e.format?"eps":"jpeg"===e.format&&""!==e.size&&e.size},bu=function(){var e,t=(0,c.wA)(),n=(0,c.d4)((function(e){return e.asset})).sizes,r=(0,c.d4)((function(e){return e.buyCardData.preferences})),a=P.getEpsPreferredSize(r),o=(e=a)?"eps"===e?e:"jpeg":"",s=(0,i.useState)(""),l=s[0],d=s[1],u=(0,i.useState)(Object.assign({format:o,size:""},"eps"!==a&&{size:a})),p=u[0],f=u[1],h=n.toArray();return{errorElem:l,pickerOptions:p,setSelected:function(e){d("");var n=Object.assign({},p,e);f(n);var i,r=yu(n),a="";r&&(a=h.filter((function(e){return e.teeShirtSize===r})),t(Te.selectAssetSize(a[0])),P.setPreferredSize(null==(i=a[0])?void 0:i.teeShirtSize))},validateEpsPickerAndSave:function(){if(""===p.format?((0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:"ADP_File_Type_Error",ui_element_location:"adp_buy_card_download_error"}},null),d("format"),0):"jpeg"!==p.format||p.size||((0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:"ADP_File_Size_Error",ui_element_location:"adp_buy_card_download_error"}},null),d("size"),0)){var e=yu(p);return P.setPreferredSize(e),!0}return!1},epsFormatCtaTitle:function(){return"eps"===p.format?{download:"download_eps",confirm:"confirm_eps_download"}:"jpeg"===p.format?{download:"download_jpeg",confirm:"confirm_jpeg_download"}:{download:"download_illustration",confirm:"confirm_illustration_download"}},epsFormatCompleteDownload:function(){return"eps"===p.format?{dropbox:"successful_download_dropbox_eps_file",local:"successful_download_local_eps_file"}:{dropbox:"successful_download_dropbox_jpeg_file",local:"successful_download_local_jpeg_file"}},epsFormatTitleDownload:function(){return"eps"===p.format?"eps_download_complete":"jpeg_download_complete"},epsFormatTypeCreditAgreement:function(){return"eps"===p.format?"credit_license_agreement_for_eps":"credit_license_agreement_for_jpeg"}}},Iu="SZupAPXHv9lwE4bHCnsh",Tu="H2YLK8XGNKtJ73S2beSK",Nu="aZjghFc_EfeKZ3zoHVsg",Su="lrWt7GlujgxII793DNvb",xu="kJrQ8UxwAS0BaY2jd6kQ",Au=function(e){var t,n=e.errorElem,i=(0,er.c)(),r="format"===n,a=r?"select_file_type_above":"select_file_size_above";return(0,Ni.jsx)("section",{"data-testid":"vector-"+n+"-error-banner",className:Qi()(Nu,(t={},t[xu]=r,t)),children:(0,Ni.jsx)("span",{className:Su,children:i(a)})})};Au.defaultProps={errorElem:""};var Ou=Au,Du="fhVykPXUvWLQ_4CHdMqV",Pu="iH6kD78V6BOobcFbUxUW",ju="a7Uf4MIj08i2PkWU18od",ku=function(e){var t,n,r,a=e.size,o=e.selected,s=e.setSelected,c=(0,er.c)(),l=(0,i.useState)(!1),d=l[0],u=l[1];return(0,Ni.jsx)("button",{type:"button","data-testid":"jpeg-size-option",onMouseEnter:function(){u(!0)},onMouseLeave:function(){u(!1)},onClick:function(e){e.stopPropagation(),s({size:a.teeShirtSize})},className:Qi()(Du,(t={},t[ju]=d,t[Pu]=o,t)),children:(n=a,r=P.getSizeMap()[n.teeShirtSize],c(r))})},Ru=function(e){var t,n,i=e.pickerOptions,r=e.errorElem,a=e.setSelected,o=(0,c.d4)((function(e){return e.asset})).sizes,s=i.size,l="size"===r,d=Array.from(o).filter((function(e){return!0!==e.isEps})),u=(t=s)?null==(n=d.filter((function(e){return e.teeShirtSize===t}))[0])?void 0:n.description:"";return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("section",{"data-testid":"jpeg-size-options",className:Iu,children:d.map((function(e){return(0,Ni.jsx)(ku,{size:e,selected:s===e.teeShirtSize,setSelected:a},e.teeShirtSize)}))}),s&&(0,Ni.jsx)("section",{"data-testid":"jpeg-size-details",className:Tu,children:u}),l&&(0,Ni.jsx)(Ou,{errorElem:r})]})};Ru.defaultProps={pickerOptions:{format:"jpeg",size:""},errorElem:"",setSelected:function(){}};var Lu=Ru,Fu="NOg5aJnAnpuiBR0ocdDS",Uu="_8lQ3dOKZZycl9kurd8r",Mu="RX4NIVexP91oNlrpcQh0",Bu="RHnGInCTXn2qLXHVPJsw",Gu="fIhh1pLZd10WS629EGg_",Wu="m8gSKFreN1AxHI0YC6W8",zu="vcsuBKPoBGDCQsSXd7qR",Hu="lVqzYL7ojvRfxvYckZQw",Vu="nXnXnDfEs9QNb_dWKWEJ",Yu="qEEtfKuAngkCL5kqu2X4",Ku="XKVzhOYAppZCuOjGl8cq",Ju="CiIZHu0zkDMOf2daQQdI",Qu="UxrzRcRPko5ZSBWIEkd5",qu="xQ_jDxkTWlHiQ7BDi_mg",Zu="sOIAq9mBM91w6mfmsPwA",Xu="ou8YqaeUZ06nXKha5ZoC",$u=function(e){var t,n,r,a,o,s,c=e.value,l=e.heading,d=e.description,u=e.selected,_=e.setSelected,p=e.error,f=e.children,h=u===c,m=""===u,g="vector-format-option-"+c,v=(0,i.useState)(!1),w=v[0],E=v[1];return(0,Ni.jsxs)("div",{role:"radio","aria-label":l,"data-testid":g,className:(n=h,r=m,a=w,o=p,Qi()(Gu,((s={})[Wu]=n,s[zu]=!n&&!r,s[Hu]=r,s[Yu]=a,s[Vu]=o,s))),tabIndex:0,"aria-checked":h,onClick:function(){_({format:c})},onKeyDown:function(e){32===e.keyCode&&_({format:c})},onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},name:g,children:[(0,Ni.jsx)("span",{"data-testid":g+"-radio",className:Qi()(Ku,(t={},t[Qu]=h,t[Yu]=w,t[Ju]=h&&f,t))}),(0,Ni.jsxs)("div",{className:qu,children:[(0,Ni.jsx)("span",{className:Zu,children:l}),(0,Ni.jsx)("span",{className:Xu,children:d}),h&&f]})]},c)};$u.defaultProps={selected:void 0,setSelected:function(){},children:void 0,error:!1};var e_=$u,t_=function(e){var t,n=e.errorElem,i=e.pickerOptions,r=e.setSelected,a=(0,er.c)(),o=""!==n,s=i.format,c=""!==s;return(0,Ni.jsxs)("section",{"data-testid":"vector-format-options",className:Qi()(Fu,(t={},t[Uu]=c,t[Mu]=o,t)),role:"radiogroup",children:[(0,Ni.jsx)(e_,{value:"jpeg",heading:a("jpeg_file"),description:a("jpeg"===s?"choose_preferred_file_type":"pixel_based"),selected:s,setSelected:r,error:"size"===n,children:(0,Ni.jsx)(Lu,{pickerOptions:i,errorElem:n,setSelected:r})}),!c&&(0,Ni.jsx)(n_,{isError:o&&"format"===n}),(0,Ni.jsx)(e_,{value:"eps",heading:a("eps_file"),description:a("vector_based_requires_software"),selected:s,setSelected:r})]})};t_.defaultProps={errorElem:"",pickerOptions:{format:"",size:""},setSelected:function(){}};var n_=function(e){var t,n=e.isError;return(0,Ni.jsx)("div",{className:Qi()(Bu,(t={},t[Mu]=n,t)),"data-testid":"vector-format-divider"})};n_.defaultProps={isError:!1};var i_=t_,r_="YvRnAIqISUDf57rcrbwY",a_="PgyBWPUAKXUfCQsD0p53",o_=function(e){var t,n=e.errorElem,i=e.setSelected,r=e.pickerOptions,a="format"===n;return(0,Ni.jsxs)("section",{"data-testid":"vector-format-size-picker",className:Qi()(r_,(t={},t[a_]=a,t)),children:[(0,Ni.jsx)(i_,{errorElem:n,pickerOptions:r,setSelected:i}),a&&(0,Ni.jsx)(Ou,{errorElem:n})]})};o_.defaultProps={errorElem:"",setSelected:function(){},pickerOptions:""};var s_=o_,c_=["styles"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l_.apply(null,arguments)}var d_=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,c_);return r().createElement("svg",l_({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M5.372 20.361h8.6l3.376-8.055h-4.9l-7.076 8.055zM14.621 21.03h10.74l-5.303 14.09-5.437-14.09zM22.485 12.306l3.67 8.055h8.184l-6.543-8.055h-5.31z",fill:"#AEDDD6"}),r().createElement("path",{d:"M35.864 20.704c0-.006.003-.011.003-.017 0-.033-.015-.061-.019-.093a.816.816 0 00-.04-.2c-.018-.047-.046-.086-.072-.129-.022-.037-.034-.078-.063-.113l-7.198-8.605a.834.834 0 00-.64-.299H12.363a.835.835 0 00-.627.285l-7.53 8.605c-.031.036-.045.079-.069.118-.027.044-.058.083-.077.132-.025.066-.033.135-.04.204-.005.033-.02.061-.02.095 0 .005.003.008.003.013a.832.832 0 00.056.277c.004.011.003.025.007.036a.839.839 0 00.143.21c.014.017.02.039.036.053l15.141 15.141c.013.013.03.018.044.03a.82.82 0 00.18.12c.025.012.048.027.075.037.09.034.186.057.286.057h.01c.1-.001.193-.023.283-.057.028-.01.053-.025.08-.039a.82.82 0 00.175-.117c.014-.013.034-.018.047-.032l15.059-15.141a.83.83 0 00.175-.261c.006-.014.005-.03.01-.043a.83.83 0 00.054-.267zm-22.254.816l4.19 10.955L6.845 21.52h6.765zm7.896-8.605l3.135 6.939H15.43l2.87-6.939h3.207zm3.203 8.605l-4.723 12.004-4.592-12.004h9.315zm1.791 0h6.53L22.226 32.382 26.5 21.52zm6.75-1.666h-6.78l-3.136-6.939h4.112l5.805 6.939zm-20.509-6.939h3.753l-2.868 6.939H6.67l6.071-6.939zM20.225 8.632a.833.833 0 01-.833-.833V4.167a.833.833 0 111.666 0v3.632c0 .46-.373.833-.833.833zM27.796 9.384a.833.833 0 01-.59-1.423l2.57-2.567a.833.833 0 111.178 1.178L28.385 9.14a.83.83 0 01-.589.244zM12.072 9.384a.83.83 0 01-.59-.244L8.914 6.572a.833.833 0 111.178-1.178l2.569 2.568a.833.833 0 01-.59 1.422z",fill:"#0D0D0D"}))},u_={upgradePromo:"YWNFEPrrte3fgo0AVs6M",icon:"Qm4OUR1N6KSNuZyJIVZB"},__={upgradeChoice:"J6MRDdLvtd1jb6mESeB3",selected:"PPimrFg0Nh0WmLjCjE0o",radioContainer:"KV_3zPeX0fbJc3qsakSg",label:"hzfcWekMwy5qix19gZwb",badge:"auBpBBkkPpuuRriL5l8A",radioButton:"BEz1heXsMkvtHKP91_wE",title:"X3l7OQmH1kC7ffWJ8pb7",subtitle:"DLl1UMCI4C19vHoCm51t"},p_=function(e){var t=e.product,n=e.showBadge,i=e.selectedSku,r=e.handleRadioSelection,a=e.showCreditsOption,o=void 0!==a&&a,s=(0,er.c)(),l=(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),d=(0,c.d4)((function(e){return e.calc.step.neededCredits})),u=(0,c.d4)((function(e){return e.calc.step.oneCreditNeeded})),_=(0,c.d4)((function(e){return e.calc.step.oneCreditRemaining})),p=(0,c.d4)((function(e){return e.calc.step.balance})),f=!l,h=function(){return i===(o?"credit":t.sku)};return(0,Ni.jsxs)("div",{className:__.upgradeChoice+" "+(h()?__.selected:""),"data-testid":"radio-button",onChange:r,role:"radio",tabIndex:0,"aria-checked":!0,children:[n?(0,Ni.jsx)(wl,{className:__.badge,"data-testid":"badge",children:(0,Ni.jsx)("span",{"data-testid":"badge",children:(0,Ni.jsx)(nr.A,{children:s("best_value_caps")})})}):null,(0,Ni.jsxs)("label",{className:__.label,htmlFor:o?"credit":t.sku,"data-testid":"label",children:[(0,Ni.jsx)("input",{type:"radio",className:__.radioButton,value:o?"credit":t.sku,name:"purchase-choice",id:o?"credit":t.sku,"data-testid":"radio",defaultChecked:h()}),(0,Ni.jsxs)("div",{className:__.titleContainer,children:[(0,Ni.jsx)("div",{className:__.title,"data-testid":"title",children:o?s("get_image_with_credits"):f?s("any_downloads_for_price",{downloads:t.download_cap,price:t.price_per_month}):s("get_image_by_upgrading")}),(0,Ni.jsx)("div",{className:__.subtitle,"data-testid":"subtitle",children:function(){if(o){var e=u?"buy_one_more_credit":"buy_multiple_credits";return s(_?"single_credit_available":"multiple_credits_available",{available:p})+"\n        "+s(e,{needed:d})}return f?s("per_image",{price:t.price_per_image}):s("any_downloads_for_price",{downloads:t.download_cap,price:t.price_per_month})}()})]})]})]})};p_.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var f_=p_,h_="lewH3g0fs1B9xAb_2vXZ",m_="vh7oVkyqBObJQ0gfOwU6",g_=function(e){var t,n,i,r=e.buttonText,a=e.variant,o=e.isUpgradeButton,s=e.selectedSku,l=e.ga4CtaLabel,d=Bc(),u=(0,Eo.A)(),p=(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),f=(0,c.d4)((function(e){return e.calc.step.upsellData})),h=s===(null==f||null==(t=f.product_one)?void 0:t.sku),m=null!=(n={"super-cta":Ir.Jr.PRIMARY,"primary-cta":Ir.Jr.SECONDARY,"hollow-cta":Ir.Jr.HOLLOW}[a])?n:Ir.Jr.PRIMARY,g=Qi()(((i={})[h_]=o,i[m_]=!o,i));return(0,Ni.jsx)(Ir.Ay,{type:"submit","data-testid":"cta-button",className:g,variant:m,size:Ir.Ni.LARGE,onClick:function(e){if(e.preventDefault(),s&&"credit"!==s){var t=(0,Co.A)({cta_text:l,cta_url:"/purchase/subscriptions/"+s+"?upgrade=true",ui_element_location:u});!function(e,t){void 0===t&&(t=null);var n={name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Button_Click",adp_selection:"Fast_Checkout_option_upgrade",ui_element_location:e?"adp_continue_to_checkout_button-sub_same_volume":"adp_continue_to_checkout_button-sub_higher_volume"}};(0,_.u)(n,t)}(h,t),d.redirectToFastCheckoutWithUpgrade(s)}else!function(e){var t={name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"Buy_Credits",ui_element_location:e?"adp_buy_card_insufficient_credits":"adp_buy_card_no_credits"}};(0,_.u)(t,null)}(p),d.redirectToPricing()},fullWidth:!0,children:r})};g_.defaultProps={selectedSku:null,isUpgradeButton:!0,ga4CtaLabel:null};var v_=g_,w_=function(){var e,t,n=(0,er.c)(),r=(0,Os.m)(),a=(0,c.d4)((function(e){return e.calc.totalCreditCost})),o=(0,c.d4)((function(e){return e.calc.step.upsellData})),s=(0,c.d4)((function(e){return e.calc.step.oneCreditNeeded})),l=(0,i.useState)((null==o||null==(e=o.product_two)?void 0:e.sku)||(null==o||null==(t=o.product_one)?void 0:t.sku)),d=l[0],u=l[1],_=function(e){u(e.target.value)};return(0,i.useEffect)((function(){r.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_View",adp_selection:"is_premium_self_upgrade-no-credits"})}),[]),(0,Ni.jsxs)("div",{"data-testid":"zero-credits-component",children:[(0,Ni.jsxs)("div",{className:u_.upgradePromo,children:[(0,Ni.jsx)(d_,{className:u_.icon,"data-testid":"icon"}),(0,Ni.jsx)(nr.A,{children:n("get_this_image_by_upgrading",{strong:"<strong>",end_strong:"</strong>"})})]}),(0,Ni.jsx)("span",{className:u_.optionsText,children:(0,Ni.jsx)(nr.A,{children:n("ready_to_upgrade")})}),(0,Ni.jsx)("hr",{}),o.product_one&&(0,Ni.jsx)(f_,{product:o.product_one,selectedSku:d,handleRadioSelection:_}),(0,Ni.jsx)("hr",{}),o.product_two&&(0,Ni.jsx)(f_,{product:o.product_two,selectedSku:d,handleRadioSelection:_,showBadge:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(v_,{buttonText:n("upgrade_to_premium"),variant:"primary-cta",selectedSku:d,ga4CtaLabel:"upgrade_to_premium"}),(0,Ni.jsx)(v_,{buttonText:n(s?"get_image_one_credit":"get_image_x_credits",{amount:a}),variant:"hollow-cta",isUpgradeButton:!1,selectedSku:"credit"})]})},E_=function(){var e,t,n,r=(0,er.c)(),a=(0,Os.m)(),o=(0,c.d4)((function(e){return e.calc.step.upsellData})),s=(0,i.useState)((null==o||null==(e=o.product_one)?void 0:e.sku)||(null==o||null==(t=o.product_two)?void 0:t.sku)),l=s[0],d=s[1],u=function(e){d(e.target.value)},_="credit"===l?"buy_credits":"upgrade_your_subscription",p=null!=(n=null==o?void 0:o.product_one)?n:null==o?void 0:o.product_two;return(0,i.useEffect)((function(){a.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_View",adp_selection:"is_premium_self_upgrade-insufficient-credits"})}),[]),(0,Ni.jsxs)("div",{"data-testid":"insufficient-credits-component",children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(f_,{selectedSku:l,handleRadioSelection:u,showCreditsOption:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(f_,{product:p,selectedSku:l,handleRadioSelection:u,showBadge:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(v_,{buttonText:r(_),variant:"primary-cta",selectedSku:l,ga4CtaLabel:_})]})},C_="ubQ2qE9EQCIjLa4WspC1",y_=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),n=(0,c.d4)((function(e){return e.subscription.sku})),i=!t,r=(0,c.d4)((function(e){return e.calc.step.confirmSection}))?(0,Ni.jsx)("div",{className:C_,children:(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Te.cancelDownload())}})})}):null;return function(e,t){window.tracking_data&&(window.tracking_data.page_mode=e?"premium_self_upgrade_insufficient-credits":"premium_self_upgrade-no-credits",window.tracking_data.sku=t)}(t,n),(0,Ni.jsxs)(Ni.Fragment,{children:[r,i?(0,Ni.jsx)(w_,{}):(0,Ni.jsx)(E_,{})]})},b_="weMD47uojTSjy4Qw8ZRQ",I_="KmTHr1nVV1xa5J0QStX6",T_=function(){var e=(0,er.c)(),t=(0,Os.m)(),n=Bc().upgradePlanRedirectUrl;return function(e){window.tracking_data&&(window.tracking_data.page_mode="premium_self_upgrade-sufficient-credits",window.tracking_data.sku=e)}((0,c.d4)((function(e){return e.subscription.sku}))),(0,i.useEffect)((function(){document.getElementById("upgrade-plan-redirect-link").addEventListener("click",(function(){(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"Upgrade_to_Premium_Sub",ui_element_location:"adp_buy_card_upgrade_cta"}},null)})),t.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_View",adp_selection:"is_premium_self_upgrade-sufficient-credits"})}),[]),(0,Ni.jsx)("div",{"data-testid":"sufficient-credits-component",children:(0,Ni.jsxs)("div",{className:b_,children:[(0,Ni.jsx)(d_,{className:I_,"data-testid":"icon"}),(0,Ni.jsxs)("span",{"data-testid":"sufficient-credit-msg",children:[e("want_to_access_all_images"),(0,Ni.jsx)(nr.A,{children:e("upgrade_your_plan",{links:[{href:n(),id:"upgrade-plan-redirect-link"}]})}),(0,Ni.jsx)("br",{})]})]})})},N_=function(e){var t=e.showEditor,n=(0,c.d4)((function(e){return e.asset})),i=(0,c.d4)((function(e){return e.calc.step.showTshirtSizes})),r=(0,c.d4)((function(e){return e.calc.step.completeSection})),a=(0,c.d4)((function(e){return e.calc.step.isConfirmationState})),o=(0,c.d4)((function(e){return e.calc.step.redownloadSection})),s=(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection})),l=(0,c.d4)((function(e){return e.calc.redownloadForFree})),d=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),u=(0,c.d4)((function(e){return e.calc.step.showBasicSelfServeUpgrade})),_=(0,c.d4)((function(e){return!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits})),p=bu(),f=p.errorElem,h=p.pickerOptions,m=p.setSelected,g=p.validateEpsPickerAndSave,v=p.epsFormatCtaTitle,w=p.epsFormatCompleteDownload,E=p.epsFormatTitleDownload,C=p.epsFormatTypeCreditAgreement;return(0,Ni.jsx)("div",{className:"download-actions","data-testid":"eps-download-actions",children:(0,Ni.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[s?(0,Ni.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,Ni.jsx)(uu,{}),(0,Ni.jsx)(Cu,{})]}):!d&&(0,Ni.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,Ni.jsx)(cu,{showEditor:t,isEpsFormatTest:!0,epsFormatTitleDownload:E}),n.isEditorialUseOnly&&(0,Ni.jsx)("div",{className:"editorial-bubble",children:(0,Ni.jsx)(du,{})}),!l&&!r&&(0,Ni.jsx)(Fd,{}),i&&(0,Ni.jsx)(s_,{errorElem:f,setSelected:m,pickerOptions:h})]}),(!d||s)&&(0,Ni.jsx)(hd,{showEditor:t,validateEpsPickerAndSave:g,isEpsFormatTest:!0,epsFormatCtaTitle:v,epsFormatCompleteDownload:w}),o&&!n.freeFile&&(0,Ni.jsx)(md,{}),a&&(0,Ni.jsx)(vd,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:C}),u&&(0,Ni.jsx)(y_,{}),a&&_&&(0,Ni.jsx)(T_,{})]})})},S_="zjuS5IAg5CQhd8M44bdT",x_="e3pHE6gYUawxzoWGsSVz",A_=function(e){var t,n=e.buttonText,i=e.variant,r=e.isUpgradeButton,a=e.selectedSku,o=e.creditsFastCheckout,s=e.redirectToPricing,l=Bc(),d=(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),u=function(e){var t;t={name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:r?"Upgrade_to_Premium_Plus_Video_Sub":"Buy_Credits",ui_element_location:d?"adp_buy_card_insufficient_credits":"adp_buy_card_no_credits"}},(0,_.u)(t,null),e.preventDefault(),r?a?l.redirectToFastCheckoutWithUpgrade(a):s?l.redirectToSelfServeUpgrade():l.redirectToPPVUpgradeContactUs():o?l.redirectToFastCheckout():l.redirectToPricing()},p=null!=(t={"primary-cta":Ir.Jr.SECONDARY,"hollow-cta":Ir.Jr.HOLLOW}[i])?t:Ir.Jr.PRIMARY,f=Qi()("primary-cta"===i?S_:x_);return(0,Ni.jsx)(Ir.Ay,{type:"submit","data-testid":"cta-button",className:f,variant:p,size:Ir.Ni.LARGE,onClick:function(e){return u(e)},fullWidth:!0,children:n})};A_.defaultProps={isUpgradeButton:!1,selectedSku:null,creditsFastCheckout:!1,redirectToPricing:!0};var O_=A_,D_="OCvLDWhVCWdAKiqLfmZg",P_="hyfQbD_caPSinI00Sjsp",j_="d6Iqfo2DeAxKwffGFS_A",k_="stGKa1H6RCI8kzbMHf_2",R_="IHQ18PQk_YlYPXVKIn0F",L_="ycqWZmIV1NdVSojlWi7U",F_="GZxXRTA0gNVw47MBbKAy",U_="iRrlxfEjoaK_CylNp6Di",M_="OPdYhmdxHYTmMwrHpjo5",B_="zmgKA4gHoA1gSQj4o0JP",G_=function(e){var t=e.upsellProduct,n=e.showBadge,r=e.selectedOption,a=e.handleRadioSelection,o=e.isCredits,s=void 0!==o&&o,l=(0,i.useState)(""),d=l[0],u=l[1],_=(0,er.c)(),p=(0,c.d4)((function(e){return e.userDetails.currency_code})),f=(0,c.d4)((function(e){return e.calc.totalCreditCost})),h=(0,c.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),m=!(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),g=(0,c.d4)((function(e){return e.calc.step.oneCreditRemaining})),v=s?"credits":"upgrade",w=(0,c.d4)((function(e){return e.calc.step.balance})),E=r===v,C=E?P_:"",y=_(s?"get_this_video_with_credits":"upgrade_to_an_annual_premium");(0,i.useEffect)((function(){if(t&&t.price_per_image){var e=(0,Xc.A3)(t.price_per_image,p).geoTaxDisclosure,n=e?e+" "+p:"";u(t.price_per_image+" "+n)}}),[t]);return(0,Ni.jsxs)("div",{className:D_+" "+C,"data-testid":"radio-button",onChange:a,role:"radio",tabIndex:0,"aria-checked":!0,children:[n?(0,Ni.jsx)(wl,{className:k_,"data-testid":"badge",children:(0,Ni.jsx)("span",{"data-testid":"badge",children:(0,Ni.jsx)(nr.A,{children:_("best_value_caps")})})}):null,(0,Ni.jsxs)("label",{className:j_,htmlFor:v,"data-testid":"label",children:[(0,Ni.jsx)("input",{type:"radio",className:R_,value:v,name:"purchase-choice",id:v,"data-testid":"radio",defaultChecked:E}),(0,Ni.jsxs)("div",{className:L_,children:[(0,Ni.jsx)("div",{className:F_,"data-testid":"title",children:y}),(0,Ni.jsx)("div",{className:U_,"data-testid":"subtitle",children:s?m?_("buy_credits_for_price",{num_credits:f,price:h}):_(g?"single_credit_available":"multiple_credits_available",{available:w})+"\n        "+_("buy_more_credits"):(0,Ni.jsxs)("ul",{className:M_,children:[(0,Ni.jsx)("li",{className:B_,children:m?_("get_video_for_price",{price:d}):_("get_lowest_price_video")}),(0,Ni.jsx)("li",{className:B_,children:m?_("any_x_files_per_month",{files_per_month:t.download_cap}):_("access_any_file")}),(0,Ni.jsx)("li",{className:B_,children:_("rollover_250_unused_downloads")})]})})]})]})]})};G_.defaultProps={showBadge:!1,isCredits:!1};var W_=G_,z_="aTLuXBkRBecG2Edtu8FK",H_="_dHY7NeKnR5XEezRK02A",V_=function(){var e=(0,er.c)(),t=(0,c.d4)((function(e){return e.calc.totalCreditCost})),n=(0,c.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade})),r=n.upsellProduct,a=n.canSelfUpsell?r.sku:null,o=function(){return n.canSelfUpsell?a?"primary-cta":"hollow-cta":"primary-cta"},s=(0,i.useState)(n.canSelfUpsell?"upgrade":"credits"),l=s[0],d=s[1],u="credits"===l,p=function(e){d(e.target.value)};return(0,i.useEffect)((function(){(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Buy_Card_View",adp_selection:"ppv_midterm_upgrade-no-credits"}},null)}),[]),(0,Ni.jsxs)("div",{className:H_,"data-testid":"zero-credits-component",children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(W_,{selectedOption:l,handleRadioSelection:p,isCredits:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(W_,{upsellProduct:r,selectedOption:l,handleRadioSelection:p,showBadge:!0}),(0,Ni.jsx)("hr",{}),u?(0,Ni.jsx)(O_,{buttonText:e("get_video_with_credits",{price_per_clip:t}),variant:o(),creditsFastCheckout:!0}):(0,Ni.jsx)(O_,{buttonText:e("upgrade_to_premium_plus_video"),variant:o(),isUpgradeButton:!0,selectedSku:a,redirectToPricing:!1})]})},Y_=function(){var e=(0,er.c)(),t=(0,c.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade.upsellProduct})),n=(0,i.useState)("upgrade"),r=n[0],a=n[1],o=function(e){a(e.target.value)},s="credits"===r,l=s?"buy_credits":"upgrade_your_subscription";return(0,i.useEffect)((function(){(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Buy_Card_View",adp_selection:"ppv_midterm_upgrade-insufficient-credits"}},null)}),[]),(0,Ni.jsxs)("div",{className:H_,"data-testid":"insufficient-credits-component",children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(W_,{selectedOption:r,handleRadioSelection:o,isCredits:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(W_,{upsellProduct:t,selectedOption:r,handleRadioSelection:o,showBadge:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(O_,{buttonText:e(l),variant:"primary-cta",isUpgradeButton:!s})]})},K_=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),n=(0,c.d4)((function(e){return e.calc.selectedAccountHasEnoughCredits})),r=t&&!n,a=(0,c.d4)((function(e){return e.calc.step.confirmSection}))?(0,Ni.jsx)("div",{className:z_,children:(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Te.cancelDownload())}})})}):null,o=!t;return(0,i.useEffect)((function(){window.tracking_data&&(window.tracking_data.page_mode=t?"ppv_midterm_upgrade-insufficient-credits":"ppv_midterm_upgrade-no-credits")}),[]),(0,Ni.jsxs)("div",{className:H_,children:[a,o&&(0,Ni.jsx)(V_,{}),r&&(0,Ni.jsx)(Y_,{})]})},J_="fxB8oSWfDxxgqaxgIbyj",Q_="gm2mIjLKm6OZpfNYmsEz",q_="d7TxhhKRUtUo8QO9l5Tr",Z_=function(){var e=(0,er.c)(),t=Bc();(0,i.useEffect)((function(){window.tracking_data&&(window.tracking_data.page_mode="ppv_midterm_upgrade-sufficient-credits");(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Buy_Card_View",adp_selection:"ppv_midterm_upgrade-sufficient-credits"}},null)}),[]);return(0,Ni.jsxs)("div",{"data-testid":"sufficient-credits-component",children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsxs)("div",{className:J_,children:[(0,Ni.jsx)(d_,{className:Q_,"data-testid":"icon"}),(0,Ni.jsxs)("span",{children:[e("save_on_each_clip_download"),(0,Ni.jsx)("a",{className:q_,"data-testid":"sufficient-credit-msg",href:t.selfServeUpgradeUrl(),onClick:function(){(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"Upgrade_to_Premium_Sub",ui_element_location:"adp_buy_card_upgrade_cta"}},null)},children:(0,Ni.jsx)("span",{children:e("upgrade_to_plan_to_premium_video")})}),(0,Ni.jsx)("br",{})]})]})]})},X_=["styles"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$_.apply(null,arguments)}var ep=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,X_);return r().createElement("svg",$_({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M5.5 7.806v8.212h28.826V7.806h-5.172s.42 4.801-2.37 4.428c0 0-2.733.264-2.622-4.61h-8.76v2.765s-.636 1.996-2.368 1.845c0 0-2.923.57-2.37-4.61L5.5 7.806z",fill:"#AFDED7"}),r().createElement("path",{d:"M11.5 32.154l-1.116-1.116 7.154-7.153 4 4 7.043-8 1.053 1.034-8.076 9.216-4.02-4.02-6.038 6.039z",fill:"#000"}),r().createElement("path",{d:"M34.325 6.79h-4.548v-.467a2.962 2.962 0 00-2.958-2.958 2.962 2.962 0 00-2.958 2.958v.468h-7.92v-.5a2.962 2.962 0 00-2.96-2.958 2.962 2.962 0 00-2.958 2.959v.499H5.5a.833.833 0 00-.833.833v27.89c0 .461.373.834.833.834h28.825c.46 0 .834-.373.834-.833V7.624a.833.833 0 00-.834-.833zm-8.798-.467c0-.712.58-1.292 1.292-1.292.712 0 1.292.58 1.292 1.292V9.99c0 .712-.58 1.291-1.292 1.291-.712 0-1.292-.58-1.292-1.291V6.323zM11.69 6.292c0-.713.58-1.292 1.292-1.292.712 0 1.291.58 1.291 1.292v3.666c0 .713-.579 1.292-1.291 1.292s-1.292-.58-1.292-1.292V6.292zm-1.667 2.165v1.501a2.962 2.962 0 002.959 2.959 2.962 2.962 0 002.958-2.959v-1.5h7.92V9.99a2.962 2.962 0 002.959 2.958 2.962 2.962 0 002.958-2.958V8.457h3.715v6.727H6.333V8.457h3.69zm-3.69 26.225V16.85h27.16v17.83H6.332z",fill:"#0D0D0D"}))},tp=function(e,t,n){void 0===n&&(n=!0);var i=(0,Co.A)({cta_interaction:"cta_clicked",cta_text:e,cta_selection:n?"self_upgrade_higher_basic_no_downloads":"self_upgrade_higher_basic_low_downloads",cta_url:t,download_flow:"{}",ui_element_location:"download_actions"});(0,_.u)(null,i)},np=function(e,t){void 0===t&&(t=!0);var n=(0,Co.A)({cta_interaction:"cta_shown",cta_text:"upgrade_to_higher_basic",cta_selection:t?"self_upgrade_higher_basic_no_downloads":"self_upgrade_higher_basic_low_downloads",cta_url:void 0,ui_element_location:e});(0,_.u)(null,n)},ip={closeIcon:"dSi5oN1vDxaRVuIgfO1J",promoContainer:"CI3aNPwKvQ8hx4sdNMPw",upgradePromo:"TRZzdAHQLCwOf2zU1xeQ",icon:"DusGxHrYVeVcm4GNDsPb",upgradeText:"GflZyidtualYVQw3H46l"},rp={upgradeChoice:"mEVkr1uFPFWsUbyo6JZ5",selected:"srPwSq_lgdwSoAr100Ab",radioContainer:"e_TaiyLEeeO1jAEG7998",label:"dVbUhMXa3zNZ4nmanIZ6",badge:"pdQFzuWkfN55YwDJXfLY",radioButton:"XkeeA83E5GAq1t8rw_iI",title:"EyuWh1oPdtxj7xZADvb4",subtitle:"ZfI126KSVBDOkOzI72aD"},ap=function(e){var t,n,i,r=e.product,a=e.showBadge,o=e.selectedSku,s=e.handleRadioSelection,l=e.showCreditsOption,d=(0,er.c)(),u=function(){return!!l||o===(null==r?void 0:r.sku)},_=(0,c.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),p=l?d("get_image_with_credits"):d("image_amount_for_price",{amount:r.download_cap,formatted_price:r.price_per_month}),f=l?d("buy_one_credit_for_price",{price:_}):d("per_image",{price:r.price_per_image});return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsxs)("div",{className:rp.upgradeChoice+" "+(u()?rp.selected:""),"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[a?(0,Ni.jsx)(wl,{className:rp.badge,"data-testid":"badge",children:(0,Ni.jsx)("span",{"data-testid":"badge",children:(0,Ni.jsx)(nr.A,{children:d("best_value_caps")})})}):null,(0,Ni.jsxs)("label",{className:rp.label,htmlFor:null!=(t=null==r?void 0:r.sku)?t:"credits","data-testid":"label",children:[(0,Ni.jsx)("input",{type:"radio",className:rp.radioButton,value:null!=(n=null==r?void 0:r.sku)?n:"credits",name:"purchase-choice",id:null!=(i=null==r?void 0:r.sku)?i:"credits","data-testid":"radio",defaultChecked:u()}),(0,Ni.jsxs)("div",{className:rp.titleContainer,children:[(0,Ni.jsx)("div",{className:rp.title,"data-testid":"title",children:p}),(0,Ni.jsx)("div",{className:rp.subtitle,"data-testid":"subtitle",children:f})]})]})]})]})};ap.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var op=ap,sp="mh3Y_kgIMLscbPLqFcv3",cp="Tbatd9FRgngsfdzA6IZk",lp=function(e){var t=e.buttonText,n=e.variant,i=e.isUpgradeButton,r=e.selectedSku,a=Bc(),o=function(e){i?tp("upgrade_subscription",a.fastCheckoutWithUpgradeUrl(r)):tp("get_this_image_credits",a.pnpCreditsUrl()),e.preventDefault(),i?a.redirectToFastCheckoutWithUpgrade(r):window.location.href=a.pnpCreditsUrl()},s=null!=n?n:Ir.Jr.PRIMARY,c=Qi()("secondary"===n?sp:cp);return(0,Ni.jsx)(Ir.Ay,{type:"submit","data-testid":"cta-button",className:c,variant:s,size:Ir.Ni.LARGE,onClick:function(e){return o(e)},fullWidth:!0,children:t})};lp.defaultProps={isUpgradeButton:!0,selectedSku:null};var dp=lp,up=function(){var e,t,n=(0,tr.F)(),r=(0,er.c)(),a=(0,Eo.A)(),o=(0,c.d4)((function(e){return e.calc.step.upsellData})),s=(0,c.d4)((function(e){return e.calc.totalCreditCost})),l=(0,c.d4)((function(e){return e.buyCardData.basicVolumeSelfUpgrade.canSelfUpsell})),d=(0,c.d4)((function(e){return e.userDetails.subsInfo.downloadLimit})),u=(0,i.useState)((null==o||null==(e=o.product_two)?void 0:e.sku)||(null==o||null==(t=o.product_one)?void 0:t.sku)),_=u[0],p=u[1],f=function(e){p(e.target.value)},h=n.cleanPath("/customer-support/upgrade");return(0,i.useEffect)((function(){np(a)}),[]),(0,Ni.jsxs)("div",{"data-testid":"zero-downloads-component",children:[(0,Ni.jsxs)("div",{className:ip.upgradePromo,children:[(0,Ni.jsx)(ep,{className:ip.icon,"data-testid":"icon"}),(0,Ni.jsxs)("div",{className:ip.upgradeText,children:[(0,Ni.jsx)(nr.A,{children:r("no_available_downloads",{strong:"<strong>",download_cap:d,end_strong:"</strong>"})}),l?r("boost_your_subscription"):(0,Ni.jsxs)("a",{href:h,children:[(0,Ni.jsx)("span",{children:r("dont_run_out_again")}),(0,Ni.jsxs)("span",{children:[r("contact_us"),">"]})]})]})]}),(0,Ni.jsx)("span",{className:ip.optionsText,children:(0,Ni.jsx)(nr.A,{children:r("download_options")})}),l&&(0,Ni.jsxs)(Ni.Fragment,{children:[o.product_one&&(0,Ni.jsx)(op,{product:o.product_one,selectedSku:_,handleRadioSelection:f}),o.product_two&&(0,Ni.jsx)(op,{product:o.product_two,selectedSku:_,handleRadioSelection:f,showBadge:!0}),(0,Ni.jsx)("hr",{}),(0,Ni.jsx)(dp,{buttonText:r("upgrade_cta"),variant:Ir.Jr.SECONDARY,selectedSku:_}),(0,Ni.jsx)(dp,{buttonText:r(1===s?"get_image_one_credit":"get_image_x_credits",{amount:s}),variant:Ir.Jr.HOLLOW,isUpgradeButton:!1,selectedSku:"credit"})]}),!l&&(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)(op,{selectedSku:"credits",handleRadioSelection:f,showCreditsOption:!0}),(0,Ni.jsx)(dp,{buttonText:r("buy_credits"),variant:Ir.Jr.SECONDARY,isUpgradeButton:!1})]})]})},_p=function(){var e=(0,er.c)(),t=(0,Eo.A)(),n=(0,c.d4)((function(e){return e.calc.step.downloadsRemaining})),r=Bc().basicVolumeUpgradeRedirectUrl;return(0,i.useEffect)((function(){document.getElementById("upgrade-plan-redirect-link").addEventListener("click",(function(){return tp("upgrade_subscription_low_downloads",r(),!1)})),np(t,!1)}),[]),(0,Ni.jsxs)("div",{className:ip.promoContainer,"data-testid":"some-downloads-component",children:[(0,Ni.jsx)(ep,{className:ip.icon,"data-testid":"icon"}),(0,Ni.jsxs)("div",{className:ip.upgradeText,children:[(0,Ni.jsx)(nr.A,{children:1===n?e("one_download_remaining"):e("available_downloads_remaining",{available:n})}),(0,Ni.jsx)(nr.A,{children:e("dont_run_out_of_downloads",{links:[{href:r(),target:"_blank",rel:"noopener noreferrer nofollow",id:"upgrade-plan-redirect-link"}]})})]})]})},pp=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.calc.step.downloadsRemaining})),n=(0,c.d4)((function(e){return e.calc.step.isConfirmationState})),i=(0,c.d4)((function(e){return e.calc.step.cancelButton}))?(0,Ni.jsx)("div",{className:ip.closeIcon,children:(0,Ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Ni.jsx)(ha.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Te.cancelDownload())}})})}):null;return(0,Ni.jsxs)(Ni.Fragment,{children:[i,0===t&&(0,Ni.jsx)(up,{}),n&&t>0&&(0,Ni.jsx)(_p,{})]})},fp=function(e){var t=e.showEditor,n=e.showEPSFileTypeTest,i=e.imageIsEdited,r=e.editsPendingForDownload,a=(0,c.d4)((function(e){return e.asset})),o=(0,c.d4)((function(e){return e.calc.step.completeSection})),s=(0,c.d4)((function(e){return e.calc.step.isConfirmationState})),l=(0,c.d4)((function(e){return e.calc.step.redownloadSection})),d=(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection})),u=(0,c.d4)((function(e){return e.calc.redownloadForFree})),_=(0,c.d4)((function(e){return e.mobileSimplification})),p=(0,c.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),f=(0,c.d4)((function(e){return e.calc.totalCreditCost})),h=(0,er.c)(),m=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),g=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_exp_b})),v=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_expansion_in_experience})),w=(0,c.d4)((function(e){return e.calc.step.showBasicSelfServeUpgrade})),E=(0,c.d4)((function(e){return e.calc.step.showEnhancedPPVUpgrade})),C=(0,c.d4)((function(e){return e.calc.step.showBasicVolumeSelfUpgrade})),y=(0,c.d4)((function(e){return e.calc.selectedAccountHasEnoughCredits&&e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm})),b=g||v,I=!_&&(!m||m&&b||d),T=m&&!b&&!d,N=!m||b,S=(0,c.d4)((function(e){return!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits}));return n?(0,Ni.jsx)(N_,{showEditor:t}):(0,Ni.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,Ni.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[d?(0,Ni.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,Ni.jsx)(uu,{}),(0,Ni.jsx)(Cu,{})]}):N&&(0,Ni.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,Ni.jsx)(cu,{showEditor:t,editsPendingForDownload:r,imageIsEdited:i}),a.isEditorialUseOnly&&(0,Ni.jsx)("div",{className:"editorial-bubble",children:(0,Ni.jsx)(du,{})}),!u&&!o&&(0,Ni.jsx)(Fd,{}),(0,Ni.jsx)(Ld,{})]}),w&&(0,Ni.jsx)(y_,{}),E&&(0,Ni.jsx)(K_,{}),C&&(0,Ni.jsx)(pp,{}),I&&(0,Ni.jsx)(hd,{showEditor:t,editsPendingForDownload:r,imageIsEdited:i,hasEnoughCredits:s&&(S||y)}),T&&(0,Ni.jsx)(zd,{}),l&&!a.freeFile&&(0,Ni.jsx)(md,{}),!o&&(t||i)&&(0,Ni.jsx)(xc.A,{title:h("your_download_includes_v2"),firstListItemText:h("one_original_image"),secondListItemText:h("one_modified_image"),allowMultipleFileText:h("allow_multiple_files_saved")}),s&&(0,Ni.jsx)(vd,{}),s&&S&&(0,Ni.jsx)(T_,{}),s&&y&&(0,Ni.jsx)(Z_,{}),u&&!o&&!_&&(!m||d)&&(0,Ni.jsx)(Ed,{})]}),_&&(0,Ni.jsx)(Td,{children:!m&&(0,Ni.jsxs)("div",{"data-testid":"mobile-cta-header",children:[(0,Ni.jsx)("span",{children:p})," |"," ",(0,Ni.jsx)("span",{className:"grey-cta-modal-text",children:(0,Ni.jsx)(Vd,{totalCreditCost:f})})]})})]})};fp.defaultProps={showEPSFileTypeTest:null,editsPendingForDownload:!1,imageIsEdited:!1};var hp=(0,Ta.A)(fp,"download_actions"),mp=n(9310),gp=n(67826),vp=n(69874),wp="On2k0dR0Tp4fpe8sBNJo",Ep=function(e){var t=e.editable,n=e.isFilm,r=(0,er.c)(),a=(0,i.useMemo)((function(){return t&&!n}),[t,n]),o=(0,i.useMemo)((function(){return t&&n}),[t,n]);return(0,Ni.jsxs)(gp.A,{className:wp,children:[o&&(0,Ni.jsx)(vp.A,{"data-testid":"create-video-projects-with-editor",children:r("create_video_projects_with_editor")}),(0,Ni.jsx)(vp.A,{children:r("save_and_share")}),(0,Ni.jsx)(vp.A,{children:r("track_download_history")}),(0,Ni.jsx)(vp.A,{children:r("complete_purchase_faster")}),a&&(0,Ni.jsx)(vp.A,{"data-testid":"and-much-more",children:r("and_much_more")})]})};Ep.defaultProps={editable:!1};var Cp=Ep,yp="igP1hF6TJ_LwGwzHGcR1",bp="pA3UD7eDxqfWHJJonR7g",Ip="um_Dm5NZkXLBd6DxbGOX",Tp=function(){var e=(0,c.d4)((function(e){return e.asset.isFilm})),t=(0,c.d4)((function(e){return e.asset.isEditorialUseOnly})),n=(0,c.d4)((function(e){return e.editable})),i=(0,c.d4)((function(e){return e.calc.step.viewLicenseSelection})),r=(0,c.d4)((function(e){return e.buyCardData.signInPath})),a=(0,er.c)(),o=(0,Os.m)(),s=Qi()("download-actions",yp),l=e?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("div",{className:s,"data-testid":"sign-in-actions",children:(0,Ni.jsx)("form",{className:"istock-download-form",children:i?(0,Ni.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,Ni.jsx)(uu,{})}):(0,Ni.jsxs)("section",{className:"adp-licenses adp-fade-and-slide","data-testid":"header",children:[(0,Ni.jsx)(cu,{}),(0,Ni.jsx)("hr",{}),t&&(0,Ni.jsx)("div",{className:"editorial-bubble",children:(0,Ni.jsx)(du,{})}),(0,Ni.jsx)(kr.Ay,{component:kr.QY.H4,variant:kr.PT.title.small,className:bp,children:a("sign_in_better_experience_colon")}),(0,Ni.jsx)(Cp,{isFilm:e,editable:n}),(0,Ni.jsx)(mp.A,{buttonStyleProps:{size:Ir.Ni.LARGE,variant:Ir.Jr.SECONDARY,fullWidth:!0},className:Ip,href:r,onClick:function(){o.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:a("sign_in")})]})})}),(0,Ni.jsx)("hr",{className:l})]})},Np=n(74253),Sp="DBlmRr9bCFZnhv34CY2d",xp="LnOLJ4WPBg1pjxPKMDBE",Ap="cWU9wH5uj9cM5CMFEMVC",Op="nZzglQCZDqcndvQfpqOh",Dp="lfKscdVREzvB1oVCcQsf",Pp="hwFLofihT6hI1ximiYzB",jp=function(){var e,t,n=(0,Ds.Cz)(),i=(0,yr.useExperience)("AIContributor"),r=(0,c.d4)((function(e){return e.asset})),a=(0,c.d4)((function(e){return e.calc.isInPricingClarity})),o=(0,c.d4)((function(e){return e.calc.largestSizeAvailable})),s=(0,c.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),l=(0,c.d4)((function(e){return e.buyCardData.assetBuyCardContentPolicy.downloadSavingsDisclaimer})),d=(0,c.d4)((function(e){return e.categories.categoriesView})),u=(0,c.d4)((function(e){return e.asset.contributor.display_name})),_=(0,c.d4)((function(e){return e.asset.contributor.picture_url})),p=(0,c.d4)((function(e){return e.asset.contributor.member_name})),f={artists:r.artist,assettype:r.assetType,family:r.assetFamily},h=p?n.contributorPath(p,(t={},r.isFilm&&(t.assettype=r.assetType),r.mediaType&&"unknown"!==r.mediaType&&(t.mediatype=r.mediaType),t)):n.searchPath(f),m=(0,er.c)(),g=r.assetId,v=r.dateSubmitted,w=r.dateSubmittedFormatted,E=r.dateSubmittedVideo,C=r.dateSubmittedVideoFormatted,y=r.exclusiveContent,b=r.isIllustration,I=r.isFilm,T=r.isEssentialImage,N=r.location,S=Jo(),x=r.isFilm?E:v,A=r.isFilm?C:w,O=a,D=d&&(null==(e=d.parentKeywordCategory)?void 0:e.text),P=d&&d.ftlpCategory.text&&D,j=o?o.description:"";return(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,Ni.jsxs)("a",{className:"photographer "+Ap,"data-testid":"photographer",href:h,onClick:function(){return S.setUiElementLocation("contributor_credit_adp")},children:[(0,Ni.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",src:_||null,viewBox:"0 0 98 98",alt:""}),(0,Ni.jsx)("span",{className:Sp,children:m("credit")}),(0,Ni.jsx)("span",{className:xp,children:u})]})}),O&&j&&(0,Ni.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,Ni.jsx)("span",{children:m("attributes.largest_size_available")}),(0,Ni.jsx)("span",{"data-testid":"largest-size-description",children:j})]}),(0,Ni.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,Ni.jsx)("span",{children:m(b?"attributes.stock_illustration_id":I?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,Ni.jsx)("span",{children:g})]}),(0,Ni.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,Ni.jsx)("span",{children:m("upload_date")}),(0,Ni.jsx)("span",{children:(0,Ni.jsx)("time",{dateTime:x,children:A})})]}),r.location?(0,Ni.jsxs)("div",{className:Dp,"data-testid":"location",children:[(0,Ni.jsx)("span",{className:Op,children:m("location")}),(0,Ni.jsx)("span",{children:N})]}):null,P&&(0,Ni.jsxs)("div",{className:Pp,"data-testid":"asset-categories",children:[(0,Ni.jsx)("span",{className:Op,children:m("categories")}),(0,Ni.jsx)(Np.A,{ftlpCategory:d.ftlpCategory,parentKeywordCategory:d.parentKeywordCategory})]}),l&&(0,Ni.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:m(I?"video_asset_savings":T?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:s})}),y&&(0,Ni.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:m("exclusive_coverage_label")}),i.isOfferActive()&&r.ai?(0,Ni.jsxs)("div",{className:"contributor-ai","data-testid":"contributor-ai",children:[(0,Ni.jsx)("span",{children:"AI: "}),(0,Ni.jsx)(mp.A,{href:"/contributorai",children:"Created with AI"})]}):null]})},kp=["styles"];function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rp.apply(null,arguments)}var Lp=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,kp);return r().createElement("svg",Rp({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),r().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),r().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"}))},Fp="mPNt5ils43ExWUpANmQX",Up="rlfOvthXUKl4El1wFOIw",Mp="IvUHORlPOqQqTCL0ptMM",Bp="ewGaJKYxecWX5H7AGEKg",Gp="gapYMHShkSqMHNu7fj7T",Wp=function(e){var t=e.showDropboxModal,n=(0,er.c)(),r=(0,Os.m)(),a=(0,i.useState)(t),o=a[0],s=a[1],c=null,l=function(){clearTimeout(c),s(!1)},d=function(e){r.trackEvent(e)},u=function(){return s(!0),c=setTimeout((function(){d("DropboxCloseModal"),l()}),3e4),function(){return clearTimeout(c)}};(0,i.useEffect)((function(){t&&u()}),[t]);var _=function(){d("DropboxdontShowAgain"),l(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)};return o&&(0,Ni.jsxs)("aside",{className:Fp,id:"dropbox-intro-modal",role:"dialog",children:[(0,Ni.jsx)(ar.A,{className:Gp,onClick:_,"data-testid":"close-link"}),(0,Ni.jsxs)("div",{className:Up,children:[(0,Ni.jsx)(Lp,{className:Bp,alt:n("dropbox")}),(0,Ni.jsxs)("div",{className:Mp,children:[(0,Ni.jsx)("div",{children:n("download_workflow.dropbox_save_your_downloads")}),(0,Ni.jsx)("a",{href:"/account/apps",onClick:function(){return d("DropboxGetStarted")},children:n("download_workflow.get_started")+" >"})]})]})]})},zp=(0,Ta.A)((function(e){var t=e.licenseOverviewPath,n=(0,c.d4)((function(e){return e.calc.step.purchaseExtendedLicenseNotAllowed})),i=(0,er.c)(),r=(0,Ud.DP)().link||{},a=(0,c.wA)(),o=(0,c.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),s=(0,c.d4)((function(e){return e.mobileSimplification})),l=o&&s,d=(0,Eo.A)(),u=function(e){e.preventDefault(),a(Te.pickOptionalLicenses());var t=(0,Co.A)({cta_interaction:"extended_license_link_clicked",cta_text:"add_extended_license",cta_url:void 0,ui_element_location:d});(0,_.u)({name:"adpInteraction",payload:{adp_interaction:"ADP_Extended_License_Link_Click",adp_selection:"ADP_Extended_License"}},t)};return!n&&(0,Ni.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,Ni.jsxs)("div",{children:[(0,Ni.jsx)("hr",{}),(0,Ni.jsxs)("div",{className:"license",children:[(0,Ni.jsx)("span",{"data-testid":"standard-license-link",className:r.textLink,children:(0,Ni.jsx)(nr.A,{children:i("includes_standard_license",{links:[{href:t,target:"_blank",rel:"noopener noreferrer nofollow"}]})})}),!l&&(0,Ni.jsx)("div",{role:"presentation",id:"show_extended_licenses",className:r.textLink,onClick:u,onKeyPress:function(e){"Enter"===e.key&&u(e)},children:(0,Ni.jsx)("span",{"data-testid":"extended-license-link",children:(0,Ni.jsx)(nr.A,{children:i("add_extended_license",{links:[{href:"#"}]})})})})]})]})})}),"license_options"),Hp="W5UA9nv82mNCOvPuhJmw",Vp=function(e){var t=e.showEditor,n=e.imageIsEdited,r=e.editsPendingForDownload,a=(0,c.d4)((function(e){return e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta})),o=(0,c.d4)((function(e){return e.buyCardData.licenseOverviewPath})),s=(0,c.d4)((function(e){return e.calc.showDropboxModal})),l=(0,c.d4)((function(e){return e.calc.step})),d=l.hideDetails,u=l.viewLicenseSelection,_=l.currentStep,p=(0,c.d4)((function(e){return e.userDetails})).has_subscription,f=(0,c.d4)((function(e){return e.calc})).hasAvailableCredits||p,h=(0,yr.useExperience)("EPSFileType"),m=(0,c.d4)((function(e){return e.asset})).isVector,v=h.isOfferActive("TestA")&&m&&f,w=_===g.PICK_PAYMENT_OPTION;return(0,i.useEffect)((function(){if("undefined"!=typeof window&&h.isActive()){var e="Control"===h.activeOffer()?"is_epsfiletype-control":"is_epsfiletype-expA",t=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=t?t+"|"+e:e}}),[]),a?(0,Ni.jsxs)("section",{children:[(0,Ni.jsx)(Tp,{}),!d&&(0,Ni.jsx)(jp,{}),(0,Ni.jsx)(Wp,{showDropboxModal:s||!1})]}):(0,Ni.jsxs)("section",{className:w?Hp:"",children:[(0,Ni.jsx)(hp,{showEPSFileTypeTest:v,showEditor:t,imageIsEdited:n,editsPendingForDownload:r}),!u&&(0,Ni.jsx)(zp,{licenseOverviewPath:o}),!d&&(0,Ni.jsx)(jp,{}),(0,Ni.jsx)(Wp,{showDropboxModal:s||!1})]})};Vp.defaultProps={editsPendingForDownload:!1};var Yp=Vp,Kp="wmkAWS5w4QvLo_X19JpA",Jp="QhGqtOrtIL3zYevRuhww",Qp="MwK45fGCbCEnFYyf858O",qp="fk44HdjTaFM5QhxtwJWu",Zp=function(){var e=(0,c.wA)(),t=(0,er.c)(),n=(0,i.useState)(!0),r=n[0],a=n[1],o=Bl(),s=(0,c.d4)((function(e){return e.buyCardData.orderId})),l=(0,c.d4)((function(e){return e.calc.selectedAgreementSize})),d=function(e,t){var n="close_modal"===t?"modal_cta":void 0,i={name:"adpInteraction",payload:{adp_interaction:e,adp_selection:"ADP_Buy_N_Burn",ui_element_location:"adp_modal"}},r=(0,To.A)({event:t,modal_content:"buy_n_burn",modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:n,modal_selection:"buy_n_burn_modal"});(0,_.u)(i,r)};(0,i.useEffect)((function(){r&&l&&(d("ADP_Modal_Shown","modal_shown"),e(ae(!0)),o.createDownload())}),[l]);var u=function(e,t){void 0===t&&(t=!1),e.target.id};return(0,Ni.jsx)("aside",{children:r&&(0,Ni.jsx)("div",{className:Kp,children:(0,Ni.jsx)("div",{className:Jp,children:(0,Ni.jsxs)("div",{className:qp,children:[(0,Ni.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,Ni.jsx)("p",{children:t("initiated_your_download")}),(0,Ni.jsx)("div",{children:(0,Ni.jsxs)("p",{children:[t("confirmation_sent_to_email"),(0,Ni.jsx)("span",{role:"link",tabIndex:0,onClick:function(e){return u(e)},onKeyPress:function(e){"Enter"===e.key&&u(e,!0)},children:(0,Ni.jsx)(nr.A,{children:t("view_order_here",{order_id:s,links:[{href:"/sales-order/"+s,target:"_blank",rel:"noopener noreferrer",id:"order-id-link"}]})})})]})}),(0,Ni.jsx)("button",{type:"button",className:Qp,"data-testid":"buy-and-burn-got-it",onClick:function(){d("ADP_Modal_Dismiss","close_modal"),a(!1)},children:t("got_it_cta")})]})})})})},Xp=["styles"];function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$p.apply(null,arguments)}var ef=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,Xp);return r().createElement("svg",$p({width:"48",height:"47",viewBox:"0 0 48 47",xmlns:"http://www.w3.org/2000/svg"},t),r().createElement("path",{d:"M29.078.237c0 5.983 0 5.983 0 0 1.555 11.758 6.066 16.27 19.32 19.32-13.254.059-17.765 4.57-19.32 19.32-1.555-14.75-6.066-19.261-19.32-19.32 13.254-3.05 17.765-7.562 19.32-19.32zM13.805 29.216c0 1.24 0 1.24 0 0 .915 4.639 3.57 7.294 8.52 8.52-4.95.606-7.605 3.261-8.52 8.52-.916-5.259-3.571-7.914-8.52-8.52 4.949-1.225 7.604-3.881 8.52-8.52zM5.14 20.132c0 .741 0 .741 0 0 .547 2.773 2.134 4.36 5.092 5.092-2.958.363-4.545 1.95-5.092 5.093-.547-3.143-2.134-4.73-5.092-5.093 2.958-.732 4.545-2.319 5.092-5.092z"},r().createElement("animate",{attributeName:"opacity",values:"0;1;0.75;0.5;0.25;0",dur:"3s",repeatCount:"indefinite"})))},tf={assetDetail:"o1mmrvbvek738U7UT2yr",main:"zahpcukElDRb_Ohm_lOq",assetContainerComp:"yHPYlHVGpzwlgFAJcHn4",assetContainerMeta:"Rfm5Ib9MsxDzwZ1PfoKh",assetContainer:"etgO5QRmCLU1wcj0BlPn",mainImage:"IpFd5ntbKXKzp0faqOiE",mainFilm:"s5U3t2AzNsmKR0qy8eTG",subFoldContainer:"cBjX34_XGwnfVF9NAZQx",loader:"T9cJEqHyL49ePXdpBQ_4"};function nf(){nf=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new O(i||[]);return r(o,"_invoke",{value:N(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function w(){}var E={};l(E,o,(function(){return this}));var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(E=y);var b=w.prototype=g.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function N(t,n,i){var r=_;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var c=S(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(t,n,i);if("normal"===l.type){if(r=i.done?h:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function S(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function rf(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var af=function(){var e,t,n=(0,Li.Z)(),r=(0,Ri.Jd)(),a=(0,c.d4)((function(e){return e.asset})),s=(0,c.d4)((function(e){return e.userDetails.pricing_clarity_flow})),l=(0,c.d4)((function(e){return e.categories.isKeywordsTestAboveSeries})),d=(0,c.d4)((function(e){return e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow})),u=(0,c.d4)((function(e){return e.displayError})),p=(0,c.d4)((function(e){return e.calc.includedWithSubscription})),f=(0,c.d4)((function(e){return e.calc.isInPricingClarity})),h=(0,c.d4)((function(e){return e.mobileSimplification})),m=(0,c.d4)((function(e){return e.buyCardData.buyAndBurn})),g=(0,c.d4)((function(e){return e.buyCardData.orderId})),v=(0,i.useState)(!0),w=v[0],E=v[1],C=(0,Bi.A)({asset:a}),y=C.handleDismissal,b=C.showEditor,I=C.showErrorMessage,T=C.showLoadingErrorMessage,N=C.handleLoadingErrorDismissal,S=(0,Gi.A)().imageIsEdited,x=(0,Wi.A)(),A=x.showOverlay,O=x.setShowOverlay,D=(0,zi.A)().editsPendingForDownload,P=d&&s?"video-pricing-clarity-width":"",j=h?"simplification-test-margin":"",k=a.localizedCaption?a.localizedCaption:a.title,R=(0,c.wA)();Fi();var L=(0,c.d4)((function(e){return e.userDetails})),F=L.subscription_upgrade,U=g||F,M=function(){var e,t=(e=nf().mark((function e(){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(Te.goToInitialLoad());case 2:E(!1);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){rf(a,i,r,o,s,"next",e)}function s(e){rf(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){n.sendAssetDetailsViewedSignal(a,(0,Ui.Q)()),(0,_.u)({},(0,ki.A)(window.tracking_data)),M()}),[]),(0,Ni.jsxs)("div",{className:tf.assetDetail,"data-testid":"asset-detail-container",children:[(0,Ni.jsx)(o.PE,{}),(0,Ni.jsx)(is,{}),(0,Ni.jsxs)(Hi.A,{children:[(0,Ni.jsx)(Vi.A,{assetId:a.assetId,placement:"right"}),(0,Ni.jsx)(Yi.A,{open:A,onClose:function(){return O(!1)},Icon:ef,header:"refining_your_modified_image",lines:["do_not_close_browser","we_appreciate_your_patience"]}),(0,Ni.jsx)(Ki.A,{EditedIcon:Mi.A,AlteredIcon:ef}),(0,Ni.jsxs)("div",{"data-testid":"asset-detail-main",className:Qi()(tf.main,(e={},e[tf.mainImage]=a.isImage,e[tf.mainFilm]=a.isFilm,e)),children:[U&&(m?(0,Ni.jsx)(Zp,{}):(0,Ni.jsx)(rr,{})),(0,Ni.jsx)(As,{errorType:u}),(0,Ni.jsx)(hs,{asset:a}),(0,Ni.jsxs)("div",{className:tf.assetContainer,children:[(0,Ni.jsxs)("section",{className:"comp "+P+" "+tf.assetContainerComp,children:[(0,Ni.jsx)(Zo,{asset:a.toObject(),userDetails:L,handleDismissal:y,showEditor:b,showErrorMessage:I,showLoadingErrorMessage:T,handleLoadingErrorDismissal:N}),(0,Ni.jsx)($o,{descriptionContent:k,editorialImage:a.isImage&&a.isEditorialUseOnly})]}),(0,Ni.jsx)("section",{className:"meta "+P+" "+j+" "+tf.assetContainerMeta,children:w&&!r.isAnonymous?(0,Ni.jsx)(Mi.A,{className:tf.loader}):(0,Ni.jsx)(Yp,{isInPricingClarity:f,buyCardSignedInData:p,showEditor:b,imageIsEdited:S,editsPendingForDownload:D})})]})]})]}),(0,Ni.jsx)("div",{className:tf.subFold,children:(0,Ni.jsxs)("div",{className:Qi()(tf.subFoldContainer,(t={},t[tf.subFoldImage]=a.isImage,t[tf.subFoldFilm]=a.isFilm,t)),children:[l&&(0,Ni.jsx)(zs,{}),(0,Ni.jsx)(Sc,{}),!l&&(0,Ni.jsx)(zs,{}),(0,Ni.jsx)(Ss,{}),(0,Ni.jsx)(ic,{})]})})]})},of=function(e){var t=e.payload;return(0,Ni.jsx)(Ai,{payload:t,children:(0,Ni.jsx)(Oi.Kq,{children:(0,Ni.jsx)(Di.A,{children:(0,Ni.jsx)(a.Zn,{children:(0,Ni.jsx)(o.v0,{children:(0,Ni.jsx)(Pi.h,{children:(0,Ni.jsx)(ji.A,{children:(0,Ni.jsx)(af,{})})})})})})})})}}}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index-12f73c96fb8e17a376ea.js.map